2025-04-03 10:23:43.975 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-04-03 10:23:44.017 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-04-03 10:23:44.268 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-04-03 10:23:44.275 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-04-03 10:23:44.275 [main] INFO  c.q.xiaohashu.user.biz.XiaohashuUserBizApplication - The following 1 profile is active: "dev"
2025-04-03 10:23:44.600 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-04-03 10:23:44.601 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-04-03 10:23:44.614 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 4 ms. Found 0 Redis repository interfaces.
2025-04-03 10:23:44.729 [main] INFO  o.springframework.cloud.context.scope.GenericScope - BeanFactory id=c04684fb-f5aa-3dd2-bfac-3210555b9dc5
2025-04-03 10:23:44.746 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'com.quanxiaoha.xiaohashu.count.api.CountFeignApi' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-04-03 10:23:44.747 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'com.quanxiaoha.xiaohashu.oss.api.FileFeignApi' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-04-03 10:23:44.748 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'com.quanxiaoha.xiaohashu.user.api.UserFeignApi' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-04-03 10:23:44.748 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'com.quanxiaoha.xiaohashu.distributed.id.generator.api.DistributedIdGeneratorFeignApi' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-04-03 10:23:45.021 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8082 (http)
2025-04-03 10:23:45.027 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-04-03 10:23:45.028 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2025-04-03 10:23:45.077 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-04-03 10:23:45.077 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 791 ms
2025-04-03 10:23:45.142 [main] INFO  c.a.d.s.b.a.DruidDataSourceAutoConfigure - Init DruidDataSource
2025-04-03 10:23:45.301 [main] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} inited
2025-04-03 10:23:45.466 [main] INFO  o.s.cloud.openfeign.FeignClientFactoryBean - For 'xiaohashu-oss' URL not provided. Will try picking an instance via load-balancing.
2025-04-03 10:23:45.631 [main] INFO  o.s.cloud.openfeign.FeignClientFactoryBean - For 'xiaohashu-distributed-id-generator' URL not provided. Will try picking an instance via load-balancing.
2025-04-03 10:23:45.643 [main] INFO  o.s.cloud.openfeign.FeignClientFactoryBean - For 'xiaohashu-count' URL not provided. Will try picking an instance via load-balancing.
2025-04-03 10:23:46.160 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8082 (http) with context path ''
2025-04-03 10:23:46.165 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-04-03 10:23:46.165 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ans.namespace attribute : null
2025-04-03 10:23:46.165 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ALIBABA_ALIWARE_NAMESPACE attribute :null
2025-04-03 10:23:46.165 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from namespace attribute :null
2025-04-03 10:23:46.179 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - [settings] [req-serv] nacos-server port:8848
2025-04-03 10:23:46.179 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - [settings] [http-client] connect timeout:1000
2025-04-03 10:23:46.180 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - PER_TASK_CONFIG_SIZE: 3000.0
2025-04-03 10:23:46.182 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2025-04-03 10:23:46.182 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2025-04-03 10:23:46.184 [main] INFO  c.a.n.client.auth.ram.identify.CredentialWatcher - null No credential found
2025-04-03 10:23:46.189 [main] INFO  com.alibaba.nacos.common.remote.client - [RpcClientFactory] create a new rpc client of ef4c6ca3-899c-40c8-bf02-8fcc832a00f6
2025-04-03 10:23:46.199 [main] INFO  com.alibaba.nacos.common.remote.client - [ef4c6ca3-899c-40c8-bf02-8fcc832a00f6] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
2025-04-03 10:23:46.199 [main] INFO  com.alibaba.nacos.common.remote.client - [ef4c6ca3-899c-40c8-bf02-8fcc832a00f6] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
2025-04-03 10:23:46.199 [main] INFO  com.alibaba.nacos.common.remote.client - [ef4c6ca3-899c-40c8-bf02-8fcc832a00f6] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
2025-04-03 10:23:46.200 [main] INFO  com.alibaba.nacos.common.remote.client - [ef4c6ca3-899c-40c8-bf02-8fcc832a00f6] Try to connect to server on start up, server: {serverIp = '192.168.0.106', server main port = 8848}
2025-04-03 10:23:46.214 [main] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - grpc client connection server:192.168.0.106 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"OPENSSL","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2025-04-03 10:23:46.790 [main] INFO  com.alibaba.nacos.common.remote.client - [ef4c6ca3-899c-40c8-bf02-8fcc832a00f6] Success to connect to server [192.168.0.106:8848] on start up, connectionId = 1743647026720_192.168.0.100_52053
2025-04-03 10:23:46.790 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.common.remote.client - [ef4c6ca3-899c-40c8-bf02-8fcc832a00f6] Notify connected event to listeners.
2025-04-03 10:23:46.791 [main] INFO  com.alibaba.nacos.common.remote.client - [ef4c6ca3-899c-40c8-bf02-8fcc832a00f6] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2025-04-03 10:23:46.791 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.client.naming - Grpc connection connect
2025-04-03 10:23:46.791 [main] INFO  com.alibaba.nacos.common.remote.client - [ef4c6ca3-899c-40c8-bf02-8fcc832a00f6] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$1260/0x000001d2d4926608
2025-04-03 10:23:46.792 [main] INFO  com.alibaba.nacos.client.naming - [REGISTER-SERVICE] xiaohashu registering service xiaohashu-user with instance Instance{instanceId='null', ip='192.168.0.100', port=8082, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={IPv6=null, preserved.register.source=SPRING_CLOUD}}
2025-04-03 10:23:46.802 [main] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - nacos registry, DEFAULT_GROUP xiaohashu-user 192.168.0.100:8082 register finished
2025-04-03 10:23:46.885 [main] INFO  c.q.xiaohashu.user.biz.XiaohashuUserBizApplication - Started XiaohashuUserBizApplication in 3.314 seconds (process running for 3.609)
2025-04-03 10:23:46.885 [main] INFO  c.q.x.u.biz.runner.PushRolePermissions2RedisRunner - ==> 服务启动，开始同步角色权限数据到 Redis 中...
2025-04-03 10:23:47.124 [main] DEBUG c.q.x.u.b.d.mapper.RoleDOMapper.selectEnabledList - ==>  Preparing: select id, role_key, role_name from t_role where status = 0 and is_deleted = 0
2025-04-03 10:23:47.226 [main] DEBUG c.q.x.u.b.d.mapper.RoleDOMapper.selectEnabledList - ==> Parameters: 
2025-04-03 10:23:47.236 [main] DEBUG c.q.x.u.b.d.mapper.RoleDOMapper.selectEnabledList - <==      Total: 1
2025-04-03 10:23:47.249 [main] DEBUG c.q.x.u.b.d.m.R.selectByRoleIds - ==>  Preparing: select role_id, permission_id from t_role_permission_rel where role_id in ( ? )
2025-04-03 10:23:47.250 [main] DEBUG c.q.x.u.b.d.m.R.selectByRoleIds - ==> Parameters: 1(Long)
2025-04-03 10:23:47.251 [main] DEBUG c.q.x.u.b.d.m.R.selectByRoleIds - <==      Total: 2
2025-04-03 10:23:47.252 [main] DEBUG c.q.x.u.b.d.m.P.selectAppEnabledList - ==>  Preparing: select id, name, permission_key from t_permission where status = 0 and type = 3 and is_deleted = 0
2025-04-03 10:23:47.253 [main] DEBUG c.q.x.u.b.d.m.P.selectAppEnabledList - ==> Parameters: 
2025-04-03 10:23:47.254 [main] DEBUG c.q.x.u.b.d.m.P.selectAppEnabledList - <==      Total: 3
2025-04-03 10:23:47.260 [main] INFO  c.q.x.u.biz.runner.PushRolePermissions2RedisRunner - ==> 服务启动，成功同步角色权限数据到 Redis 中...
2025-04-03 11:10:08.396 [http-nio-8082-exec-1] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-03 11:10:08.399 [http-nio-8082-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-04-03 11:10:08.418 [http-nio-8082-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 19 ms
2025-04-03 11:10:08.561 [http-nio-8082-exec-1] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [批量查询用户信息], 入参: {"ids":[4104,4103,4102,2100]}, 请求类: UserController, 请求方法: findByIds =================================== 
2025-04-03 11:10:08.597 [http-nio-8082-exec-1] DEBUG c.q.x.u.biz.domain.mapper.UserDOMapper.selectByIds - ==>  Preparing: select id, nickname, avatar, introduction from t_user where status = 0 and is_deleted = 0 and id in ( ? , ? , ? , ? )
2025-04-03 11:10:08.603 [http-nio-8082-exec-1] DEBUG c.q.x.u.biz.domain.mapper.UserDOMapper.selectByIds - ==> Parameters: 4104(Long), 4103(Long), 4102(Long), 2100(Long)
2025-04-03 11:10:08.606 [http-nio-8082-exec-1] DEBUG c.q.x.u.biz.domain.mapper.UserDOMapper.selectByIds - <==      Total: 4
2025-04-03 11:10:08.609 [http-nio-8082-exec-1] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [批量查询用户信息], 耗时: 48ms, 出参: {"success":true,"message":null,"errorCode":null,"data":[{"id":2100,"nickName":"犬小哈","avatar":"http://127.0.0.1:9000/xiaohashu/827ddaa493c345868bd9b3434d3dbc2d.jpg","introduction":"分享生活啦啦\r\n合作：xiarui@mxbrand.net"},{"id":4102,"nickName":"胡连馨","avatar":"http://127.0.0.1:9000/xiaohashu/68c6a1d9b541407d809f1d67dc12c222.png","introduction":"感谢关注哦\r\n嘿嘿~"},{"id":4103,"nickName":"吴彦祖","avatar":"http://127.0.0.1:9000/xiaohashu/4e9be68ae5064474b157b25be4cdf218.webp","introduction":"一个只专注年轻人旅行的摄影领队"},{"id":4104,"nickName":"彭于晏","avatar":"http://127.0.0.1:9000/xiaohashu/377d4c26a03c4e3883d93c68f5a9486e.webp","introduction":"彭于晏本晏"}]} =================================== 
2025-04-03 11:10:14.971 [http-nio-8082-exec-2] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [查询用户信息], 入参: {"id":4104}, 请求类: UserController, 请求方法: findById =================================== 
2025-04-03 11:10:14.981 [http-nio-8082-exec-2] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [查询用户信息], 耗时: 10ms, 出参: {"success":true,"message":null,"errorCode":null,"data":{"id":4104,"nickName":"彭于晏","avatar":"http://127.0.0.1:9000/xiaohashu/377d4c26a03c4e3883d93c68f5a9486e.webp","introduction":"彭于晏本晏"}} =================================== 
2025-04-03 11:10:26.155 [http-nio-8082-exec-3] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [批量查询用户信息], 入参: {"ids":[2100]}, 请求类: UserController, 请求方法: findByIds =================================== 
2025-04-03 11:10:26.157 [http-nio-8082-exec-3] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [批量查询用户信息], 耗时: 3ms, 出参: {"success":true,"message":null,"errorCode":null,"data":[{"id":2100,"nickName":"犬小哈","avatar":"http://127.0.0.1:9000/xiaohashu/827ddaa493c345868bd9b3434d3dbc2d.jpg","introduction":"分享生活啦啦\r\n合作：xiarui@mxbrand.net"}]} =================================== 
2025-04-03 11:10:44.076 [http-nio-8082-exec-4] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [查询用户信息], 入参: {"id":2100}, 请求类: UserController, 请求方法: findById =================================== 
2025-04-03 11:10:44.078 [http-nio-8082-exec-4] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [查询用户信息], 耗时: 2ms, 出参: {"success":true,"message":null,"errorCode":null,"data":{"id":2100,"nickName":"犬小哈","avatar":"http://127.0.0.1:9000/xiaohashu/827ddaa493c345868bd9b3434d3dbc2d.jpg","introduction":"分享生活啦啦\r\n合作：xiarui@mxbrand.net"}} =================================== 
2025-04-03 11:10:44.711 [http-nio-8082-exec-8] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [批量查询用户信息], 入参: {"ids":[2100]}, 请求类: UserController, 请求方法: findByIds =================================== 
2025-04-03 11:10:44.713 [http-nio-8082-exec-8] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [批量查询用户信息], 耗时: 2ms, 出参: {"success":true,"message":null,"errorCode":null,"data":[{"id":2100,"nickName":"犬小哈","avatar":"http://127.0.0.1:9000/xiaohashu/827ddaa493c345868bd9b3434d3dbc2d.jpg","introduction":"分享生活啦啦\r\n合作：xiarui@mxbrand.net"}]} =================================== 
2025-04-03 11:12:29.176 [http-nio-8082-exec-5] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [用户注册], 入参: {"phone":"18019939108"}, 请求类: UserController, 请求方法: register =================================== 
2025-04-03 11:12:29.193 [http-nio-8082-exec-5] DEBUG c.q.x.u.b.domain.mapper.UserDOMapper.selectByPhone - ==>  Preparing: select id, password from t_user where phone = ?
2025-04-03 11:12:29.194 [http-nio-8082-exec-5] DEBUG c.q.x.u.b.domain.mapper.UserDOMapper.selectByPhone - ==> Parameters: 18019939108(String)
2025-04-03 11:12:29.196 [http-nio-8082-exec-5] DEBUG c.q.x.u.b.domain.mapper.UserDOMapper.selectByPhone - <==      Total: 1
2025-04-03 11:12:29.198 [http-nio-8082-exec-5] INFO  c.q.x.user.biz.service.impl.UserServiceImpl - ==> 用户是否注册, phone: 18019939108, userDO: {"id":2100,"xiaohashuId":null,"password":null,"nickname":null,"avatar":null,"birthday":null,"backgroundImg":null,"phone":null,"sex":null,"status":null,"introduction":null,"createTime":null,"updateTime":null,"isDeleted":null}
2025-04-03 11:12:29.200 [http-nio-8082-exec-5] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [用户注册], 耗时: 23ms, 出参: {"success":true,"message":null,"errorCode":null,"data":2100} =================================== 
2025-04-03 11:12:29.436 [http-nio-8082-exec-9] INFO  org.apache.tomcat.util.http.parser.Cookie - A cookie header was received [Hm_lvt_75062b8ad5f18e178698c68645a1ff82=1741675049,1742189538;] that contained an invalid cookie. That cookie will be ignored.
 Note: further occurrences of this error will be logged at DEBUG level.
2025-04-03 11:12:29.438 [http-nio-8082-exec-9] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 2100
2025-04-03 11:12:29.443 [http-nio-8082-exec-9] DEBUG c.q.x.u.b.d.mapper.UserDOMapper.selectByPrimaryKey - ==>  Preparing: select id, xiaohashu_id, `password`, nickname, avatar, birthday, background_img, phone, sex, `status`, introduction, create_time, update_time, is_deleted from t_user where id = ?
2025-04-03 11:12:29.444 [http-nio-8082-exec-9] DEBUG c.q.x.u.b.d.mapper.UserDOMapper.selectByPrimaryKey - ==> Parameters: 2100(Long)
2025-04-03 11:12:29.447 [http-nio-8082-exec-9] DEBUG c.q.x.u.b.d.mapper.UserDOMapper.selectByPrimaryKey - <==      Total: 1
2025-04-03 11:12:29.453 [http-nio-8082-exec-9] INFO  c.q.f.b.c.interceptor.FeignRequestInterceptor - ########## feign 请求设置请求头 userId: 2100
2025-04-03 11:12:29.488 [http-nio-8082-exec-9] INFO  com.alibaba.nacos.client.naming - [SUBSCRIBE-SERVICE] service:xiaohashu-count, group:DEFAULT_GROUP, clusters: 
2025-04-03 11:12:29.495 [http-nio-8082-exec-9] INFO  com.alibaba.nacos.client.naming - init new ips(1) service: DEFAULT_GROUP@@xiaohashu-count -> [{"ip":"192.168.0.100","port":8090,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@xiaohashu-count","metadata":{"preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatTimeOut":15000,"instanceHeartBeatInterval":5000}]
2025-04-03 11:12:29.500 [http-nio-8082-exec-9] INFO  com.alibaba.nacos.client.naming - current ips:(1) service: DEFAULT_GROUP@@xiaohashu-count -> [{"ip":"192.168.0.100","port":8090,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@xiaohashu-count","metadata":{"preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatTimeOut":15000,"instanceHeartBeatInterval":5000}]
2025-04-03 11:12:29.542 [http-nio-8082-exec-9] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 2100
2025-04-03 11:12:30.001 [nacos-grpc-client-executor-192.168.0.106-620] INFO  com.alibaba.nacos.common.remote.client - [ef4c6ca3-899c-40c8-bf02-8fcc832a00f6] Receive server push request, request = NotifySubscriberRequest, requestId = 78
2025-04-03 11:12:30.001 [nacos-grpc-client-executor-192.168.0.106-620] INFO  com.alibaba.nacos.common.remote.client - [ef4c6ca3-899c-40c8-bf02-8fcc832a00f6] Ack server push request, request = NotifySubscriberRequest, requestId = 78
2025-04-03 11:12:31.420 [http-nio-8082-exec-10] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 2100
2025-04-03 11:12:31.421 [http-nio-8082-exec-10] DEBUG c.q.x.u.b.d.mapper.UserDOMapper.selectByPrimaryKey - ==>  Preparing: select id, xiaohashu_id, `password`, nickname, avatar, birthday, background_img, phone, sex, `status`, introduction, create_time, update_time, is_deleted from t_user where id = ?
2025-04-03 11:12:31.421 [http-nio-8082-exec-10] DEBUG c.q.x.u.b.d.mapper.UserDOMapper.selectByPrimaryKey - ==> Parameters: 2100(Long)
2025-04-03 11:12:31.423 [http-nio-8082-exec-10] DEBUG c.q.x.u.b.d.mapper.UserDOMapper.selectByPrimaryKey - <==      Total: 1
2025-04-03 11:12:31.424 [http-nio-8082-exec-10] INFO  c.q.f.b.c.interceptor.FeignRequestInterceptor - ########## feign 请求设置请求头 userId: 2100
2025-04-03 11:12:31.428 [http-nio-8082-exec-1] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 2100
2025-04-03 11:12:31.428 [http-nio-8082-exec-1] DEBUG c.q.x.u.b.d.mapper.UserDOMapper.selectByPrimaryKey - ==>  Preparing: select id, xiaohashu_id, `password`, nickname, avatar, birthday, background_img, phone, sex, `status`, introduction, create_time, update_time, is_deleted from t_user where id = ?
2025-04-03 11:12:31.429 [http-nio-8082-exec-1] DEBUG c.q.x.u.b.d.mapper.UserDOMapper.selectByPrimaryKey - ==> Parameters: 2100(Long)
2025-04-03 11:12:31.431 [http-nio-8082-exec-1] DEBUG c.q.x.u.b.d.mapper.UserDOMapper.selectByPrimaryKey - <==      Total: 1
2025-04-03 11:12:31.432 [http-nio-8082-exec-1] INFO  c.q.f.b.c.interceptor.FeignRequestInterceptor - ########## feign 请求设置请求头 userId: 2100
2025-04-03 11:12:31.436 [http-nio-8082-exec-10] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 2100
2025-04-03 11:12:31.439 [http-nio-8082-exec-1] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 2100
2025-04-03 11:12:31.490 [http-nio-8082-exec-3] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 2100
2025-04-03 11:12:31.490 [http-nio-8082-exec-2] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 2100
2025-04-03 11:12:31.490 [http-nio-8082-exec-3] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [批量查询用户信息], 入参: {"ids":[2100]}, 请求类: UserController, 请求方法: findByIds =================================== 
2025-04-03 11:12:31.490 [http-nio-8082-exec-2] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [批量查询用户信息], 入参: {"ids":[2100]}, 请求类: UserController, 请求方法: findByIds =================================== 
2025-04-03 11:12:31.492 [http-nio-8082-exec-3] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [批量查询用户信息], 耗时: 2ms, 出参: {"success":true,"message":null,"errorCode":null,"data":[{"id":2100,"nickName":"犬小哈","avatar":"http://127.0.0.1:9000/xiaohashu/827ddaa493c345868bd9b3434d3dbc2d.jpg","introduction":"分享生活啦啦\r\n合作：xiarui@mxbrand.net"}]} =================================== 
2025-04-03 11:12:31.492 [http-nio-8082-exec-2] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [批量查询用户信息], 耗时: 1ms, 出参: {"success":true,"message":null,"errorCode":null,"data":[{"id":2100,"nickName":"犬小哈","avatar":"http://127.0.0.1:9000/xiaohashu/827ddaa493c345868bd9b3434d3dbc2d.jpg","introduction":"分享生活啦啦\r\n合作：xiarui@mxbrand.net"}]} =================================== 
2025-04-03 11:12:31.492 [http-nio-8082-exec-3] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 2100
2025-04-03 11:12:31.492 [http-nio-8082-exec-2] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 2100
2025-04-03 11:12:35.184 [http-nio-8082-exec-4] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 2100
2025-04-03 11:12:35.184 [http-nio-8082-exec-4] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [批量查询用户信息], 入参: {"ids":[4104,4103,4102,2100]}, 请求类: UserController, 请求方法: findByIds =================================== 
2025-04-03 11:12:35.187 [http-nio-8082-exec-4] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [批量查询用户信息], 耗时: 2ms, 出参: {"success":true,"message":null,"errorCode":null,"data":[{"id":4104,"nickName":"彭于晏","avatar":"http://127.0.0.1:9000/xiaohashu/377d4c26a03c4e3883d93c68f5a9486e.webp","introduction":"彭于晏本晏"},{"id":4103,"nickName":"吴彦祖","avatar":"http://127.0.0.1:9000/xiaohashu/4e9be68ae5064474b157b25be4cdf218.webp","introduction":"一个只专注年轻人旅行的摄影领队"},{"id":4102,"nickName":"胡连馨","avatar":"http://127.0.0.1:9000/xiaohashu/68c6a1d9b541407d809f1d67dc12c222.png","introduction":"感谢关注哦\r\n嘿嘿~"},{"id":2100,"nickName":"犬小哈","avatar":"http://127.0.0.1:9000/xiaohashu/827ddaa493c345868bd9b3434d3dbc2d.jpg","introduction":"分享生活啦啦\r\n合作：xiarui@mxbrand.net"}]} =================================== 
2025-04-03 11:12:35.187 [http-nio-8082-exec-4] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 2100
2025-04-03 11:15:14.110 [http-nio-8082-exec-10] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 2100
2025-04-03 11:15:14.111 [http-nio-8082-exec-10] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [批量查询用户信息], 入参: {"ids":[2100,4104,4103,4102]}, 请求类: UserController, 请求方法: findByIds =================================== 
2025-04-03 11:15:14.113 [http-nio-8082-exec-10] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [批量查询用户信息], 耗时: 2ms, 出参: {"success":true,"message":null,"errorCode":null,"data":[{"id":2100,"nickName":"犬小哈","avatar":"http://127.0.0.1:9000/xiaohashu/827ddaa493c345868bd9b3434d3dbc2d.jpg","introduction":"分享生活啦啦\r\n合作：xiarui@mxbrand.net"},{"id":4104,"nickName":"彭于晏","avatar":"http://127.0.0.1:9000/xiaohashu/377d4c26a03c4e3883d93c68f5a9486e.webp","introduction":"彭于晏本晏"},{"id":4103,"nickName":"吴彦祖","avatar":"http://127.0.0.1:9000/xiaohashu/4e9be68ae5064474b157b25be4cdf218.webp","introduction":"一个只专注年轻人旅行的摄影领队"},{"id":4102,"nickName":"胡连馨","avatar":"http://127.0.0.1:9000/xiaohashu/68c6a1d9b541407d809f1d67dc12c222.png","introduction":"感谢关注哦\r\n嘿嘿~"}]} =================================== 
2025-04-03 11:15:14.115 [http-nio-8082-exec-10] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 2100
2025-04-03 11:15:15.550 [http-nio-8082-exec-1] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 2100
2025-04-03 11:15:15.551 [http-nio-8082-exec-1] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [查询用户信息], 入参: {"id":2100}, 请求类: UserController, 请求方法: findById =================================== 
2025-04-03 11:15:15.551 [http-nio-8082-exec-1] INFO  c.q.x.user.biz.service.impl.UserServiceImpl - ==> 命中了本地缓存；FindUserByIdRspDTO(id=2100, nickName=犬小哈, avatar=http://127.0.0.1:9000/xiaohashu/827ddaa493c345868bd9b3434d3dbc2d.jpg, introduction=分享生活啦啦
合作：xiarui@mxbrand.net)
2025-04-03 11:15:15.551 [http-nio-8082-exec-1] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [查询用户信息], 耗时: 1ms, 出参: {"success":true,"message":null,"errorCode":null,"data":{"id":2100,"nickName":"犬小哈","avatar":"http://127.0.0.1:9000/xiaohashu/827ddaa493c345868bd9b3434d3dbc2d.jpg","introduction":"分享生活啦啦\r\n合作：xiarui@mxbrand.net"}} =================================== 
2025-04-03 11:15:15.552 [http-nio-8082-exec-1] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 2100
2025-04-03 11:15:25.009 [http-nio-8082-exec-3] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 2100
2025-04-03 11:15:25.010 [http-nio-8082-exec-3] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [批量查询用户信息], 入参: {"ids":[2100]}, 请求类: UserController, 请求方法: findByIds =================================== 
2025-04-03 11:15:25.011 [http-nio-8082-exec-3] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [批量查询用户信息], 耗时: 1ms, 出参: {"success":true,"message":null,"errorCode":null,"data":[{"id":2100,"nickName":"犬小哈","avatar":"http://127.0.0.1:9000/xiaohashu/827ddaa493c345868bd9b3434d3dbc2d.jpg","introduction":"分享生活啦啦\r\n合作：xiarui@mxbrand.net"}]} =================================== 
2025-04-03 11:15:25.012 [http-nio-8082-exec-3] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 2100
2025-04-03 11:20:09.681 [nacos-grpc-client-executor-192.168.0.106-713] INFO  com.alibaba.nacos.common.remote.client - [ef4c6ca3-899c-40c8-bf02-8fcc832a00f6] Receive server push request, request = NotifySubscriberRequest, requestId = 82
2025-04-03 11:20:09.682 [nacos-grpc-client-executor-192.168.0.106-713] INFO  com.alibaba.nacos.client.naming - removed ips(1) service: DEFAULT_GROUP@@xiaohashu-count -> [{"ip":"192.168.0.100","port":8090,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@xiaohashu-count","metadata":{"preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatTimeOut":15000,"instanceHeartBeatInterval":5000}]
2025-04-03 11:20:09.682 [nacos-grpc-client-executor-192.168.0.106-713] INFO  com.alibaba.nacos.client.naming - current ips:(0) service: DEFAULT_GROUP@@xiaohashu-count -> []
2025-04-03 11:20:09.682 [nacos-grpc-client-executor-192.168.0.106-713] INFO  com.alibaba.nacos.common.remote.client - [ef4c6ca3-899c-40c8-bf02-8fcc832a00f6] Ack server push request, request = NotifySubscriberRequest, requestId = 82
2025-04-03 11:20:22.161 [nacos-grpc-client-executor-192.168.0.106-715] INFO  com.alibaba.nacos.common.remote.client - [ef4c6ca3-899c-40c8-bf02-8fcc832a00f6] Receive server push request, request = NotifySubscriberRequest, requestId = 85
2025-04-03 11:20:22.161 [nacos-grpc-client-executor-192.168.0.106-715] INFO  com.alibaba.nacos.client.naming - new ips(1) service: DEFAULT_GROUP@@xiaohashu-count -> [{"ip":"192.168.0.100","port":8090,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@xiaohashu-count","metadata":{"preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatTimeOut":15000,"instanceHeartBeatInterval":5000}]
2025-04-03 11:20:22.162 [nacos-grpc-client-executor-192.168.0.106-715] INFO  com.alibaba.nacos.client.naming - current ips:(1) service: DEFAULT_GROUP@@xiaohashu-count -> [{"ip":"192.168.0.100","port":8090,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@xiaohashu-count","metadata":{"preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatTimeOut":15000,"instanceHeartBeatInterval":5000}]
2025-04-03 11:20:22.162 [nacos-grpc-client-executor-192.168.0.106-715] INFO  com.alibaba.nacos.common.remote.client - [ef4c6ca3-899c-40c8-bf02-8fcc832a00f6] Ack server push request, request = NotifySubscriberRequest, requestId = 85
2025-04-03 11:20:41.538 [Thread-7] WARN  com.alibaba.nacos.common.notify.NotifyCenter - [NotifyCenter] Start destroying Publisher
2025-04-03 11:20:41.538 [Thread-10] WARN  c.alibaba.nacos.common.http.HttpClientBeanHolder - [HttpClientBeanHolder] Start destroying common HttpClient
2025-04-03 11:20:41.538 [Thread-7] WARN  com.alibaba.nacos.common.notify.NotifyCenter - [NotifyCenter] Destruction of the end
2025-04-03 11:20:41.539 [Thread-10] WARN  c.alibaba.nacos.common.http.HttpClientBeanHolder - [HttpClientBeanHolder] Destruction of the end
2025-04-03 11:20:41.560 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registering from Nacos Server now...
2025-04-03 11:20:41.560 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - [DEREGISTER-SERVICE] xiaohashu deregistering service xiaohashu-user with instance: Instance{instanceId='null', ip='192.168.0.100', port=8082, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={}}
2025-04-03 11:20:41.563 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registration finished.
2025-04-03 11:20:41.563 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown begin
2025-04-03 11:20:41.563 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown begin
2025-04-03 11:20:41.563 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown stop
2025-04-03 11:20:41.563 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown stop
2025-04-03 11:20:41.564 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown begin
2025-04-03 11:20:41.564 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown begin
2025-04-03 11:20:41.564 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown stop
2025-04-03 11:20:41.564 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown begin
2025-04-03 11:20:41.564 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Start destroying NacosRestTemplate
2025-04-03 11:20:41.564 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Destruction of the end
2025-04-03 11:20:41.564 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown stop
2025-04-03 11:20:41.564 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown begin
2025-04-03 11:20:41.564 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Start destroying NacosRestTemplate
2025-04-03 11:20:41.564 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Destruction of the end
2025-04-03 11:20:41.564 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown stop
2025-04-03 11:20:41.564 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown rpc client, set status to shutdown
2025-04-03 11:20:41.564 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown client event executor java.util.concurrent.ScheduledThreadPoolExecutor@db53602[Running, pool size = 2, active threads = 2, queued tasks = 0, completed tasks = 0]
2025-04-03 11:20:41.564 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Close current connection 1743647026720_192.168.0.100_52053
2025-04-03 11:20:41.565 [nacos-grpc-client-executor-192.168.0.106-720] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - [1743647026720_192.168.0.100_52053]Ignore complete event,isRunning:false,isAbandon=false
2025-04-03 11:20:41.567 [SpringApplicationShutdownHook] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - Shutdown grpc executor java.util.concurrent.ThreadPoolExecutor@47f7bfe0[Running, pool size = 4, active threads = 0, queued tasks = 0, completed tasks = 721]
2025-04-03 11:20:41.567 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - Shutdown grpc redo service executor java.util.concurrent.ScheduledThreadPoolExecutor@71ef62a9[Running, pool size = 1, active threads = 0, queued tasks = 1, completed tasks = 1135]
2025-04-03 11:20:41.567 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialWatcher - [null] CredentialWatcher is stopped
2025-04-03 11:20:41.567 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialService - [null] CredentialService is freed
2025-04-03 11:20:41.567 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown stop
2025-04-03 11:20:41.690 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closing ...
2025-04-03 11:20:41.692 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closed
2025-04-03 11:20:43.596 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-04-03 11:20:43.636 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-04-03 11:20:43.899 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-04-03 11:20:43.906 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-04-03 11:20:43.906 [main] INFO  c.q.xiaohashu.user.biz.XiaohashuUserBizApplication - The following 1 profile is active: "dev"
2025-04-03 11:20:44.293 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-04-03 11:20:44.295 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-04-03 11:20:44.308 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 5 ms. Found 0 Redis repository interfaces.
2025-04-03 11:20:44.433 [main] INFO  o.springframework.cloud.context.scope.GenericScope - BeanFactory id=c04684fb-f5aa-3dd2-bfac-3210555b9dc5
2025-04-03 11:20:44.453 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'com.quanxiaoha.xiaohashu.count.api.CountFeignApi' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-04-03 11:20:44.454 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'com.quanxiaoha.xiaohashu.oss.api.FileFeignApi' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-04-03 11:20:44.455 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'com.quanxiaoha.xiaohashu.user.api.UserFeignApi' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-04-03 11:20:44.456 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'com.quanxiaoha.xiaohashu.distributed.id.generator.api.DistributedIdGeneratorFeignApi' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-04-03 11:20:44.754 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8082 (http)
2025-04-03 11:20:44.761 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-04-03 11:20:44.761 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2025-04-03 11:20:44.817 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-04-03 11:20:44.817 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 900 ms
2025-04-03 11:20:44.889 [main] INFO  c.a.d.s.b.a.DruidDataSourceAutoConfigure - Init DruidDataSource
2025-04-03 11:20:45.085 [main] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} inited
2025-04-03 11:20:45.318 [main] INFO  o.s.cloud.openfeign.FeignClientFactoryBean - For 'xiaohashu-oss' URL not provided. Will try picking an instance via load-balancing.
2025-04-03 11:20:45.524 [main] INFO  o.s.cloud.openfeign.FeignClientFactoryBean - For 'xiaohashu-distributed-id-generator' URL not provided. Will try picking an instance via load-balancing.
2025-04-03 11:20:45.542 [main] INFO  o.s.cloud.openfeign.FeignClientFactoryBean - For 'xiaohashu-count' URL not provided. Will try picking an instance via load-balancing.
2025-04-03 11:20:46.307 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8082 (http) with context path ''
2025-04-03 11:20:46.314 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-04-03 11:20:46.314 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ans.namespace attribute : null
2025-04-03 11:20:46.315 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ALIBABA_ALIWARE_NAMESPACE attribute :null
2025-04-03 11:20:46.315 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from namespace attribute :null
2025-04-03 11:20:46.331 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - [settings] [req-serv] nacos-server port:8848
2025-04-03 11:20:46.331 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - [settings] [http-client] connect timeout:1000
2025-04-03 11:20:46.331 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - PER_TASK_CONFIG_SIZE: 3000.0
2025-04-03 11:20:46.334 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2025-04-03 11:20:46.334 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2025-04-03 11:20:46.336 [main] INFO  c.a.n.client.auth.ram.identify.CredentialWatcher - null No credential found
2025-04-03 11:20:46.341 [main] INFO  com.alibaba.nacos.common.remote.client - [RpcClientFactory] create a new rpc client of dba2b27f-0dbc-4cd0-b667-7c8c7be77bf4
2025-04-03 11:20:46.355 [main] INFO  com.alibaba.nacos.common.remote.client - [dba2b27f-0dbc-4cd0-b667-7c8c7be77bf4] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
2025-04-03 11:20:46.355 [main] INFO  com.alibaba.nacos.common.remote.client - [dba2b27f-0dbc-4cd0-b667-7c8c7be77bf4] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
2025-04-03 11:20:46.356 [main] INFO  com.alibaba.nacos.common.remote.client - [dba2b27f-0dbc-4cd0-b667-7c8c7be77bf4] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
2025-04-03 11:20:46.357 [main] INFO  com.alibaba.nacos.common.remote.client - [dba2b27f-0dbc-4cd0-b667-7c8c7be77bf4] Try to connect to server on start up, server: {serverIp = '192.168.0.106', server main port = 8848}
2025-04-03 11:20:46.373 [main] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - grpc client connection server:192.168.0.106 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"OPENSSL","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2025-04-03 11:20:46.987 [main] INFO  com.alibaba.nacos.common.remote.client - [dba2b27f-0dbc-4cd0-b667-7c8c7be77bf4] Success to connect to server [192.168.0.106:8848] on start up, connectionId = 1743650446935_192.168.0.100_64253
2025-04-03 11:20:46.987 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.common.remote.client - [dba2b27f-0dbc-4cd0-b667-7c8c7be77bf4] Notify connected event to listeners.
2025-04-03 11:20:46.987 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.client.naming - Grpc connection connect
2025-04-03 11:20:46.987 [main] INFO  com.alibaba.nacos.common.remote.client - [dba2b27f-0dbc-4cd0-b667-7c8c7be77bf4] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2025-04-03 11:20:46.988 [main] INFO  com.alibaba.nacos.common.remote.client - [dba2b27f-0dbc-4cd0-b667-7c8c7be77bf4] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$1260/0x00000201ce9263c0
2025-04-03 11:20:46.989 [main] INFO  com.alibaba.nacos.client.naming - [REGISTER-SERVICE] xiaohashu registering service xiaohashu-user with instance Instance{instanceId='null', ip='192.168.0.100', port=8082, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={IPv6=null, preserved.register.source=SPRING_CLOUD}}
2025-04-03 11:20:47.000 [main] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - nacos registry, DEFAULT_GROUP xiaohashu-user 192.168.0.100:8082 register finished
2025-04-03 11:20:47.086 [main] INFO  c.q.xiaohashu.user.biz.XiaohashuUserBizApplication - Started XiaohashuUserBizApplication in 3.906 seconds (process running for 4.203)
2025-04-03 11:20:47.087 [main] INFO  c.q.x.u.biz.runner.PushRolePermissions2RedisRunner - ==> 服务启动，开始同步角色权限数据到 Redis 中...
2025-04-03 11:20:47.313 [main] WARN  c.q.x.u.biz.runner.PushRolePermissions2RedisRunner - ==> 角色权限数据已经同步至 Redis 中，不再同步...
2025-04-03 11:21:11.360 [http-nio-8082-exec-5] INFO  org.apache.tomcat.util.http.parser.Cookie - A cookie header was received [Hm_lvt_75062b8ad5f18e178698c68645a1ff82=1741675049,1742189538;] that contained an invalid cookie. That cookie will be ignored.
 Note: further occurrences of this error will be logged at DEBUG level.
2025-04-03 11:21:11.364 [http-nio-8082-exec-1] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-03 11:21:11.364 [http-nio-8082-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-04-03 11:21:11.365 [http-nio-8082-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-04-03 11:21:11.372 [http-nio-8082-exec-1] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 2100
2025-04-03 11:21:11.372 [http-nio-8082-exec-5] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 2100
2025-04-03 11:21:11.422 [http-nio-8082-exec-1] DEBUG c.q.x.u.b.d.mapper.UserDOMapper.selectByPrimaryKey - ==>  Preparing: select id, xiaohashu_id, `password`, nickname, avatar, birthday, background_img, phone, sex, `status`, introduction, create_time, update_time, is_deleted from t_user where id = ?
2025-04-03 11:21:11.422 [http-nio-8082-exec-5] DEBUG c.q.x.u.b.d.mapper.UserDOMapper.selectByPrimaryKey - ==>  Preparing: select id, xiaohashu_id, `password`, nickname, avatar, birthday, background_img, phone, sex, `status`, introduction, create_time, update_time, is_deleted from t_user where id = ?
2025-04-03 11:21:11.524 [http-nio-8082-exec-5] DEBUG c.q.x.u.b.d.mapper.UserDOMapper.selectByPrimaryKey - ==> Parameters: 2100(Long)
2025-04-03 11:21:11.524 [http-nio-8082-exec-1] DEBUG c.q.x.u.b.d.mapper.UserDOMapper.selectByPrimaryKey - ==> Parameters: 2100(Long)
2025-04-03 11:21:11.539 [http-nio-8082-exec-5] DEBUG c.q.x.u.b.d.mapper.UserDOMapper.selectByPrimaryKey - <==      Total: 1
2025-04-03 11:21:11.539 [http-nio-8082-exec-1] DEBUG c.q.x.u.b.d.mapper.UserDOMapper.selectByPrimaryKey - <==      Total: 1
2025-04-03 11:21:11.546 [http-nio-8082-exec-1] INFO  c.q.f.b.c.interceptor.FeignRequestInterceptor - ########## feign 请求设置请求头 userId: 2100
2025-04-03 11:21:11.546 [http-nio-8082-exec-5] INFO  c.q.f.b.c.interceptor.FeignRequestInterceptor - ########## feign 请求设置请求头 userId: 2100
2025-04-03 11:21:11.573 [http-nio-8082-exec-5] INFO  com.alibaba.nacos.client.naming - [SUBSCRIBE-SERVICE] service:xiaohashu-count, group:DEFAULT_GROUP, clusters: 
2025-04-03 11:21:11.573 [http-nio-8082-exec-1] INFO  com.alibaba.nacos.client.naming - [SUBSCRIBE-SERVICE] service:xiaohashu-count, group:DEFAULT_GROUP, clusters: 
2025-04-03 11:21:11.585 [http-nio-8082-exec-5] INFO  com.alibaba.nacos.client.naming - init new ips(1) service: DEFAULT_GROUP@@xiaohashu-count -> [{"ip":"192.168.0.100","port":8090,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@xiaohashu-count","metadata":{"preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000}]
2025-04-03 11:21:11.585 [http-nio-8082-exec-1] INFO  com.alibaba.nacos.client.naming - init new ips(1) service: DEFAULT_GROUP@@xiaohashu-count -> [{"ip":"192.168.0.100","port":8090,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@xiaohashu-count","metadata":{"preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000}]
2025-04-03 11:21:11.591 [http-nio-8082-exec-1] INFO  com.alibaba.nacos.client.naming - current ips:(1) service: DEFAULT_GROUP@@xiaohashu-count -> [{"ip":"192.168.0.100","port":8090,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@xiaohashu-count","metadata":{"preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000}]
2025-04-03 11:21:11.591 [http-nio-8082-exec-5] INFO  com.alibaba.nacos.client.naming - current ips:(1) service: DEFAULT_GROUP@@xiaohashu-count -> [{"ip":"192.168.0.100","port":8090,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@xiaohashu-count","metadata":{"preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000}]
2025-04-03 11:21:11.617 [http-nio-8082-exec-5] WARN  com.alibaba.nacos.client.naming - write DEFAULT_GROUP%40%40xiaohashu-count conflict;retry time: 1
2025-04-03 11:21:11.841 [http-nio-8082-exec-1] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 2100
2025-04-03 11:21:11.841 [http-nio-8082-exec-5] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 2100
2025-04-03 11:21:12.099 [nacos-grpc-client-executor-192.168.0.106-22] INFO  com.alibaba.nacos.common.remote.client - [dba2b27f-0dbc-4cd0-b667-7c8c7be77bf4] Receive server push request, request = NotifySubscriberRequest, requestId = 93
2025-04-03 11:21:12.100 [nacos-grpc-client-executor-192.168.0.106-22] INFO  com.alibaba.nacos.common.remote.client - [dba2b27f-0dbc-4cd0-b667-7c8c7be77bf4] Ack server push request, request = NotifySubscriberRequest, requestId = 93
2025-04-03 11:21:15.908 [http-nio-8082-exec-2] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 2100
2025-04-03 11:21:15.908 [http-nio-8082-exec-2] DEBUG c.q.x.u.b.d.mapper.UserDOMapper.selectByPrimaryKey - ==>  Preparing: select id, xiaohashu_id, `password`, nickname, avatar, birthday, background_img, phone, sex, `status`, introduction, create_time, update_time, is_deleted from t_user where id = ?
2025-04-03 11:21:15.909 [http-nio-8082-exec-2] DEBUG c.q.x.u.b.d.mapper.UserDOMapper.selectByPrimaryKey - ==> Parameters: 2100(Long)
2025-04-03 11:21:15.911 [http-nio-8082-exec-2] DEBUG c.q.x.u.b.d.mapper.UserDOMapper.selectByPrimaryKey - <==      Total: 1
2025-04-03 11:21:15.912 [http-nio-8082-exec-2] INFO  c.q.f.b.c.interceptor.FeignRequestInterceptor - ########## feign 请求设置请求头 userId: 2100
2025-04-03 11:21:15.913 [http-nio-8082-exec-8] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 2100
2025-04-03 11:21:15.913 [http-nio-8082-exec-8] DEBUG c.q.x.u.b.d.mapper.UserDOMapper.selectByPrimaryKey - ==>  Preparing: select id, xiaohashu_id, `password`, nickname, avatar, birthday, background_img, phone, sex, `status`, introduction, create_time, update_time, is_deleted from t_user where id = ?
2025-04-03 11:21:15.913 [http-nio-8082-exec-8] DEBUG c.q.x.u.b.d.mapper.UserDOMapper.selectByPrimaryKey - ==> Parameters: 2100(Long)
2025-04-03 11:21:15.915 [http-nio-8082-exec-8] DEBUG c.q.x.u.b.d.mapper.UserDOMapper.selectByPrimaryKey - <==      Total: 1
2025-04-03 11:21:15.915 [http-nio-8082-exec-8] INFO  c.q.f.b.c.interceptor.FeignRequestInterceptor - ########## feign 请求设置请求头 userId: 2100
2025-04-03 11:21:15.925 [http-nio-8082-exec-8] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 2100
2025-04-03 11:21:15.925 [http-nio-8082-exec-2] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 2100
2025-04-03 11:21:53.563 [http-nio-8082-exec-6] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 2100
2025-04-03 11:21:53.564 [http-nio-8082-exec-6] DEBUG c.q.x.u.b.d.mapper.UserDOMapper.selectByPrimaryKey - ==>  Preparing: select id, xiaohashu_id, `password`, nickname, avatar, birthday, background_img, phone, sex, `status`, introduction, create_time, update_time, is_deleted from t_user where id = ?
2025-04-03 11:21:53.565 [http-nio-8082-exec-6] DEBUG c.q.x.u.b.d.mapper.UserDOMapper.selectByPrimaryKey - ==> Parameters: 2100(Long)
2025-04-03 11:21:53.566 [http-nio-8082-exec-6] DEBUG c.q.x.u.b.d.mapper.UserDOMapper.selectByPrimaryKey - <==      Total: 0
2025-04-03 11:21:53.567 [http-nio-8082-exec-3] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 2100
2025-04-03 11:21:53.568 [http-nio-8082-exec-6] WARN  c.q.x.user.biz.exception.GlobalExceptionHandler - /user/profile request fail, errorCode: USER-20007, errorMessage: 该用户不存在
2025-04-03 11:21:53.568 [http-nio-8082-exec-3] DEBUG c.q.x.u.b.d.mapper.UserDOMapper.selectByPrimaryKey - ==>  Preparing: select id, xiaohashu_id, `password`, nickname, avatar, birthday, background_img, phone, sex, `status`, introduction, create_time, update_time, is_deleted from t_user where id = ?
2025-04-03 11:21:53.568 [http-nio-8082-exec-3] DEBUG c.q.x.u.b.d.mapper.UserDOMapper.selectByPrimaryKey - ==> Parameters: 2100(Long)
2025-04-03 11:21:53.569 [http-nio-8082-exec-6] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 2100
2025-04-03 11:21:53.569 [http-nio-8082-exec-3] DEBUG c.q.x.u.b.d.mapper.UserDOMapper.selectByPrimaryKey - <==      Total: 0
2025-04-03 11:21:53.570 [http-nio-8082-exec-3] WARN  c.q.x.user.biz.exception.GlobalExceptionHandler - /user/profile request fail, errorCode: USER-20007, errorMessage: 该用户不存在
2025-04-03 11:21:53.570 [http-nio-8082-exec-3] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 2100
2025-04-03 11:22:19.693 [http-nio-8082-exec-7] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [用户注册], 入参: {"phone":"18019939108"}, 请求类: UserController, 请求方法: register =================================== 
2025-04-03 11:22:19.697 [http-nio-8082-exec-7] DEBUG c.q.x.u.b.domain.mapper.UserDOMapper.selectByPhone - ==>  Preparing: select id, password from t_user where phone = ?
2025-04-03 11:22:19.698 [http-nio-8082-exec-7] DEBUG c.q.x.u.b.domain.mapper.UserDOMapper.selectByPhone - ==> Parameters: 18019939108(String)
2025-04-03 11:22:19.699 [http-nio-8082-exec-7] DEBUG c.q.x.u.b.domain.mapper.UserDOMapper.selectByPhone - <==      Total: 0
2025-04-03 11:22:19.700 [http-nio-8082-exec-7] INFO  c.q.x.user.biz.service.impl.UserServiceImpl - ==> 用户是否注册, phone: 18019939108, userDO: null
2025-04-03 11:22:19.706 [http-nio-8082-exec-7] INFO  com.alibaba.nacos.client.naming - [SUBSCRIBE-SERVICE] service:xiaohashu-distributed-id-generator, group:DEFAULT_GROUP, clusters: 
2025-04-03 11:22:19.709 [http-nio-8082-exec-7] INFO  com.alibaba.nacos.client.naming - init new ips(1) service: DEFAULT_GROUP@@xiaohashu-distributed-id-generator -> [{"ip":"192.168.0.100","port":8085,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@xiaohashu-distributed-id-generator","metadata":{"preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000}]
2025-04-03 11:22:19.709 [http-nio-8082-exec-7] INFO  com.alibaba.nacos.client.naming - current ips:(1) service: DEFAULT_GROUP@@xiaohashu-distributed-id-generator -> [{"ip":"192.168.0.100","port":8085,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@xiaohashu-distributed-id-generator","metadata":{"preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000}]
2025-04-03 11:22:19.783 [http-nio-8082-exec-7] DEBUG c.q.x.user.biz.domain.mapper.UserDOMapper.insert - ==>  Preparing: insert into t_user (id, xiaohashu_id, `password`, nickname, avatar, birthday, background_img, phone, sex, `status`, introduction, create_time, update_time, is_deleted) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-04-03 11:22:19.834 [http-nio-8082-exec-7] DEBUG c.q.x.user.biz.domain.mapper.UserDOMapper.insert - ==> Parameters: 8100(Long), 18100(String), null, 小红薯18100(String), null, null, null, 18019939108(String), null, 0(Integer), null, 2025-04-03T11:22:19.783314(LocalDateTime), 2025-04-03T11:22:19.783314(LocalDateTime), false(Boolean)
2025-04-03 11:22:19.838 [http-nio-8082-exec-7] DEBUG c.q.x.user.biz.domain.mapper.UserDOMapper.insert - <==    Updates: 1
2025-04-03 11:22:19.839 [http-nio-8082-exec-7] DEBUG c.q.x.u.biz.domain.mapper.UserRoleDOMapper.insert - ==>  Preparing: insert into t_user_role_rel (id, user_id, role_id, create_time, update_time, is_deleted ) values (?, ?, ?, ?, ?, ? )
2025-04-03 11:22:19.840 [http-nio-8082-exec-7] DEBUG c.q.x.u.biz.domain.mapper.UserRoleDOMapper.insert - ==> Parameters: null, 8100(Long), 1(Long), 2025-04-03T11:22:19.839562600(LocalDateTime), 2025-04-03T11:22:19.839562600(LocalDateTime), false(Boolean)
2025-04-03 11:22:19.841 [http-nio-8082-exec-7] DEBUG c.q.x.u.biz.domain.mapper.UserRoleDOMapper.insert - <==    Updates: 1
2025-04-03 11:22:19.841 [http-nio-8082-exec-7] DEBUG c.q.x.u.b.d.mapper.RoleDOMapper.selectByPrimaryKey - ==>  Preparing: select id, role_name, role_key, `status`, sort, remark, create_time, update_time, is_deleted from t_role where id = ?
2025-04-03 11:22:19.842 [http-nio-8082-exec-7] DEBUG c.q.x.u.b.d.mapper.RoleDOMapper.selectByPrimaryKey - ==> Parameters: 1(Long)
2025-04-03 11:22:19.843 [http-nio-8082-exec-7] DEBUG c.q.x.u.b.d.mapper.RoleDOMapper.selectByPrimaryKey - <==      Total: 1
2025-04-03 11:22:19.846 [http-nio-8082-exec-7] DEBUG c.q.x.u.biz.domain.mapper.UserCountDOMapper.insert - ==>  Preparing: insert into t_user_count (user_id, fans_total, following_total, note_total, like_total, collect_total) values (?, 0, 0, 0, 0, 0)
2025-04-03 11:22:19.846 [http-nio-8082-exec-7] DEBUG c.q.x.u.biz.domain.mapper.UserCountDOMapper.insert - ==> Parameters: 8100(Long)
2025-04-03 11:22:19.848 [http-nio-8082-exec-7] DEBUG c.q.x.u.biz.domain.mapper.UserCountDOMapper.insert - <==    Updates: 1
2025-04-03 11:22:19.855 [http-nio-8082-exec-7] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [用户注册], 耗时: 164ms, 出参: {"success":true,"message":null,"errorCode":null,"data":8100} =================================== 
2025-04-03 11:22:19.889 [http-nio-8082-exec-4] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 8100
2025-04-03 11:22:19.890 [http-nio-8082-exec-4] DEBUG c.q.x.u.b.d.mapper.UserDOMapper.selectByPrimaryKey - ==>  Preparing: select id, xiaohashu_id, `password`, nickname, avatar, birthday, background_img, phone, sex, `status`, introduction, create_time, update_time, is_deleted from t_user where id = ?
2025-04-03 11:22:19.891 [http-nio-8082-exec-4] DEBUG c.q.x.u.b.d.mapper.UserDOMapper.selectByPrimaryKey - ==> Parameters: 8100(Long)
2025-04-03 11:22:19.893 [http-nio-8082-exec-4] DEBUG c.q.x.u.b.d.mapper.UserDOMapper.selectByPrimaryKey - <==      Total: 1
2025-04-03 11:22:19.893 [http-nio-8082-exec-4] INFO  c.q.f.b.c.interceptor.FeignRequestInterceptor - ########## feign 请求设置请求头 userId: 8100
2025-04-03 11:22:19.902 [http-nio-8082-exec-4] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 8100
2025-04-03 11:22:20.246 [nacos-grpc-client-executor-192.168.0.106-40] INFO  com.alibaba.nacos.common.remote.client - [dba2b27f-0dbc-4cd0-b667-7c8c7be77bf4] Receive server push request, request = NotifySubscriberRequest, requestId = 96
2025-04-03 11:22:20.246 [nacos-grpc-client-executor-192.168.0.106-40] INFO  com.alibaba.nacos.common.remote.client - [dba2b27f-0dbc-4cd0-b667-7c8c7be77bf4] Ack server push request, request = NotifySubscriberRequest, requestId = 96
2025-04-03 11:22:22.826 [http-nio-8082-exec-9] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 8100
2025-04-03 11:22:22.826 [http-nio-8082-exec-10] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 8100
2025-04-03 11:22:22.827 [http-nio-8082-exec-10] DEBUG c.q.x.u.b.d.mapper.UserDOMapper.selectByPrimaryKey - ==>  Preparing: select id, xiaohashu_id, `password`, nickname, avatar, birthday, background_img, phone, sex, `status`, introduction, create_time, update_time, is_deleted from t_user where id = ?
2025-04-03 11:22:22.827 [http-nio-8082-exec-9] DEBUG c.q.x.u.b.d.mapper.UserDOMapper.selectByPrimaryKey - ==>  Preparing: select id, xiaohashu_id, `password`, nickname, avatar, birthday, background_img, phone, sex, `status`, introduction, create_time, update_time, is_deleted from t_user where id = ?
2025-04-03 11:22:22.828 [http-nio-8082-exec-9] DEBUG c.q.x.u.b.d.mapper.UserDOMapper.selectByPrimaryKey - ==> Parameters: 8100(Long)
2025-04-03 11:22:22.828 [http-nio-8082-exec-10] DEBUG c.q.x.u.b.d.mapper.UserDOMapper.selectByPrimaryKey - ==> Parameters: 8100(Long)
2025-04-03 11:22:22.830 [http-nio-8082-exec-9] DEBUG c.q.x.u.b.d.mapper.UserDOMapper.selectByPrimaryKey - <==      Total: 1
2025-04-03 11:22:22.831 [http-nio-8082-exec-10] DEBUG c.q.x.u.b.d.mapper.UserDOMapper.selectByPrimaryKey - <==      Total: 1
2025-04-03 11:22:22.831 [http-nio-8082-exec-9] INFO  c.q.f.b.c.interceptor.FeignRequestInterceptor - ########## feign 请求设置请求头 userId: 8100
2025-04-03 11:22:22.831 [http-nio-8082-exec-10] INFO  c.q.f.b.c.interceptor.FeignRequestInterceptor - ########## feign 请求设置请求头 userId: 8100
2025-04-03 11:22:22.838 [http-nio-8082-exec-9] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 8100
2025-04-03 11:22:22.842 [http-nio-8082-exec-10] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 8100
2025-04-03 11:23:36.821 [http-nio-8082-exec-8] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 8100
2025-04-03 11:23:36.860 [http-nio-8082-exec-8] INFO  c.q.f.b.c.interceptor.FeignRequestInterceptor - ########## feign 请求设置请求头 userId: 8100
2025-04-03 11:23:36.870 [http-nio-8082-exec-8] INFO  com.alibaba.nacos.client.naming - [SUBSCRIBE-SERVICE] service:xiaohashu-oss, group:DEFAULT_GROUP, clusters: 
2025-04-03 11:23:36.874 [http-nio-8082-exec-8] INFO  com.alibaba.nacos.client.naming - init new ips(1) service: DEFAULT_GROUP@@xiaohashu-oss -> [{"ip":"192.168.0.100","port":8081,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@xiaohashu-oss","metadata":{"preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000}]
2025-04-03 11:23:36.875 [http-nio-8082-exec-8] INFO  com.alibaba.nacos.client.naming - current ips:(1) service: DEFAULT_GROUP@@xiaohashu-oss -> [{"ip":"192.168.0.100","port":8081,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@xiaohashu-oss","metadata":{"preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000}]
2025-04-03 11:23:37.136 [http-nio-8082-exec-8] INFO  c.q.x.user.biz.service.impl.UserServiceImpl - ==> 调用 oss 服务成功，上传头像，url：http://192.168.0.106:9000/xiaohashu/38447f491d0a456b90ba54f1875726b9.jpg
2025-04-03 11:23:37.155 [http-nio-8082-exec-8] DEBUG c.q.x.u.b.d.m.U.updateByPrimaryKeySelective - ==>  Preparing: update t_user SET xiaohashu_id = ?, nickname = ?, avatar = ?, birthday = ?, sex = ?, introduction = ?, update_time = ? where id = ?
2025-04-03 11:23:37.157 [http-nio-8082-exec-8] DEBUG c.q.x.u.b.d.m.U.updateByPrimaryKeySelective - ==> Parameters: quanxiaoha_java(String), 犬小哈(String), http://192.168.0.106:9000/xiaohashu/38447f491d0a456b90ba54f1875726b9.jpg(String), 1991-11-19(LocalDate), 1(Integer), 一枚 Java 程序员(String), 2025-04-03T11:23:37.137091100(LocalDateTime), 8100(Long)
2025-04-03 11:23:37.167 [http-nio-8082-exec-8] DEBUG c.q.x.u.b.d.m.U.updateByPrimaryKeySelective - <==    Updates: 1
2025-04-03 11:23:37.169 [http-nio-8082-exec-8] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 8100
2025-04-03 11:23:37.195 [http-nio-8082-exec-6] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 8100
2025-04-03 11:23:37.196 [http-nio-8082-exec-3] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 8100
2025-04-03 11:23:37.196 [http-nio-8082-exec-6] DEBUG c.q.x.u.b.d.mapper.UserDOMapper.selectByPrimaryKey - ==>  Preparing: select id, xiaohashu_id, `password`, nickname, avatar, birthday, background_img, phone, sex, `status`, introduction, create_time, update_time, is_deleted from t_user where id = ?
2025-04-03 11:23:37.197 [http-nio-8082-exec-6] DEBUG c.q.x.u.b.d.mapper.UserDOMapper.selectByPrimaryKey - ==> Parameters: 8100(Long)
2025-04-03 11:23:37.197 [http-nio-8082-exec-3] DEBUG c.q.x.u.b.d.mapper.UserDOMapper.selectByPrimaryKey - ==>  Preparing: select id, xiaohashu_id, `password`, nickname, avatar, birthday, background_img, phone, sex, `status`, introduction, create_time, update_time, is_deleted from t_user where id = ?
2025-04-03 11:23:37.199 [http-nio-8082-exec-6] DEBUG c.q.x.u.b.d.mapper.UserDOMapper.selectByPrimaryKey - <==      Total: 1
2025-04-03 11:23:37.199 [http-nio-8082-exec-3] DEBUG c.q.x.u.b.d.mapper.UserDOMapper.selectByPrimaryKey - ==> Parameters: 8100(Long)
2025-04-03 11:23:37.199 [http-nio-8082-exec-6] INFO  c.q.f.b.c.interceptor.FeignRequestInterceptor - ########## feign 请求设置请求头 userId: 8100
2025-04-03 11:23:37.200 [http-nio-8082-exec-3] DEBUG c.q.x.u.b.d.mapper.UserDOMapper.selectByPrimaryKey - <==      Total: 1
2025-04-03 11:23:37.201 [http-nio-8082-exec-3] INFO  c.q.f.b.c.interceptor.FeignRequestInterceptor - ########## feign 请求设置请求头 userId: 8100
2025-04-03 11:23:37.207 [http-nio-8082-exec-6] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 8100
2025-04-03 11:23:37.208 [http-nio-8082-exec-3] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 8100
2025-04-03 11:23:37.432 [nacos-grpc-client-executor-192.168.0.106-59] INFO  com.alibaba.nacos.common.remote.client - [dba2b27f-0dbc-4cd0-b667-7c8c7be77bf4] Receive server push request, request = NotifySubscriberRequest, requestId = 97
2025-04-03 11:23:37.435 [nacos-grpc-client-executor-192.168.0.106-59] INFO  com.alibaba.nacos.common.remote.client - [dba2b27f-0dbc-4cd0-b667-7c8c7be77bf4] Ack server push request, request = NotifySubscriberRequest, requestId = 97
2025-04-03 11:24:41.145 [http-nio-8082-exec-9] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 8100
2025-04-03 11:24:41.152 [http-nio-8082-exec-9] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [批量查询用户信息], 入参: {"ids":[8100]}, 请求类: UserController, 请求方法: findByIds =================================== 
2025-04-03 11:24:41.164 [http-nio-8082-exec-9] DEBUG c.q.x.u.biz.domain.mapper.UserDOMapper.selectByIds - ==>  Preparing: select id, nickname, avatar, introduction from t_user where status = 0 and is_deleted = 0 and id in ( ? )
2025-04-03 11:24:41.167 [http-nio-8082-exec-9] DEBUG c.q.x.u.biz.domain.mapper.UserDOMapper.selectByIds - ==> Parameters: 8100(Long)
2025-04-03 11:24:41.171 [http-nio-8082-exec-9] DEBUG c.q.x.u.biz.domain.mapper.UserDOMapper.selectByIds - <==      Total: 1
2025-04-03 11:24:41.173 [http-nio-8082-exec-9] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [批量查询用户信息], 耗时: 20ms, 出参: {"success":true,"message":null,"errorCode":null,"data":[{"id":8100,"nickName":"犬小哈","avatar":"http://192.168.0.106:9000/xiaohashu/38447f491d0a456b90ba54f1875726b9.jpg","introduction":"一枚 Java 程序员"}]} =================================== 
2025-04-03 11:24:41.174 [http-nio-8082-exec-9] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 8100
2025-04-03 11:24:43.002 [http-nio-8082-exec-10] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 8100
2025-04-03 11:24:43.006 [http-nio-8082-exec-10] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [查询用户信息], 入参: {"id":8100}, 请求类: UserController, 请求方法: findById =================================== 
2025-04-03 11:24:43.011 [http-nio-8082-exec-10] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [查询用户信息], 耗时: 5ms, 出参: {"success":true,"message":null,"errorCode":null,"data":{"id":8100,"nickName":"犬小哈","avatar":"http://192.168.0.106:9000/xiaohashu/38447f491d0a456b90ba54f1875726b9.jpg","introduction":"一枚 Java 程序员"}} =================================== 
2025-04-03 11:24:43.011 [http-nio-8082-exec-10] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 8100
2025-04-03 11:26:43.716 [http-nio-8082-exec-2] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 8100
2025-04-03 11:26:43.717 [http-nio-8082-exec-2] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [批量查询用户信息], 入参: {"ids":[8100]}, 请求类: UserController, 请求方法: findByIds =================================== 
2025-04-03 11:26:43.719 [http-nio-8082-exec-2] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [批量查询用户信息], 耗时: 2ms, 出参: {"success":true,"message":null,"errorCode":null,"data":[{"id":8100,"nickName":"犬小哈","avatar":"http://192.168.0.106:9000/xiaohashu/38447f491d0a456b90ba54f1875726b9.jpg","introduction":"一枚 Java 程序员"}]} =================================== 
2025-04-03 11:26:43.720 [http-nio-8082-exec-2] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 8100
2025-04-03 11:27:06.753 [http-nio-8082-exec-5] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 8100
2025-04-03 11:27:06.754 [http-nio-8082-exec-5] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [批量查询用户信息], 入参: {"ids":[8100]}, 请求类: UserController, 请求方法: findByIds =================================== 
2025-04-03 11:27:06.756 [http-nio-8082-exec-5] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [批量查询用户信息], 耗时: 2ms, 出参: {"success":true,"message":null,"errorCode":null,"data":[{"id":8100,"nickName":"犬小哈","avatar":"http://192.168.0.106:9000/xiaohashu/38447f491d0a456b90ba54f1875726b9.jpg","introduction":"一枚 Java 程序员"}]} =================================== 
2025-04-03 11:27:06.757 [http-nio-8082-exec-5] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 8100
2025-04-03 11:27:07.589 [http-nio-8082-exec-8] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 8100
2025-04-03 11:27:07.590 [http-nio-8082-exec-8] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [批量查询用户信息], 入参: {"ids":[8100]}, 请求类: UserController, 请求方法: findByIds =================================== 
2025-04-03 11:27:07.592 [http-nio-8082-exec-8] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [批量查询用户信息], 耗时: 1ms, 出参: {"success":true,"message":null,"errorCode":null,"data":[{"id":8100,"nickName":"犬小哈","avatar":"http://192.168.0.106:9000/xiaohashu/38447f491d0a456b90ba54f1875726b9.jpg","introduction":"一枚 Java 程序员"}]} =================================== 
2025-04-03 11:27:07.592 [http-nio-8082-exec-8] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 8100
2025-04-03 11:27:34.146 [http-nio-8082-exec-6] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 8100
2025-04-03 11:27:34.146 [http-nio-8082-exec-6] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [批量查询用户信息], 入参: {"ids":[8100]}, 请求类: UserController, 请求方法: findByIds =================================== 
2025-04-03 11:27:34.147 [http-nio-8082-exec-6] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [批量查询用户信息], 耗时: 1ms, 出参: {"success":true,"message":null,"errorCode":null,"data":[{"id":8100,"nickName":"犬小哈","avatar":"http://192.168.0.106:9000/xiaohashu/38447f491d0a456b90ba54f1875726b9.jpg","introduction":"一枚 Java 程序员"}]} =================================== 
2025-04-03 11:27:34.148 [http-nio-8082-exec-6] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 8100
2025-04-03 11:28:37.756 [http-nio-8082-exec-7] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 8100
2025-04-03 11:28:37.757 [http-nio-8082-exec-7] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [批量查询用户信息], 入参: {"ids":[8100]}, 请求类: UserController, 请求方法: findByIds =================================== 
2025-04-03 11:28:37.758 [http-nio-8082-exec-7] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [批量查询用户信息], 耗时: 1ms, 出参: {"success":true,"message":null,"errorCode":null,"data":[{"id":8100,"nickName":"犬小哈","avatar":"http://192.168.0.106:9000/xiaohashu/38447f491d0a456b90ba54f1875726b9.jpg","introduction":"一枚 Java 程序员"}]} =================================== 
2025-04-03 11:28:37.759 [http-nio-8082-exec-7] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 8100
2025-04-03 11:28:54.983 [http-nio-8082-exec-9] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 8100
2025-04-03 11:28:54.984 [http-nio-8082-exec-9] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [批量查询用户信息], 入参: {"ids":[8100]}, 请求类: UserController, 请求方法: findByIds =================================== 
2025-04-03 11:28:54.986 [http-nio-8082-exec-9] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [批量查询用户信息], 耗时: 2ms, 出参: {"success":true,"message":null,"errorCode":null,"data":[{"id":8100,"nickName":"犬小哈","avatar":"http://192.168.0.106:9000/xiaohashu/38447f491d0a456b90ba54f1875726b9.jpg","introduction":"一枚 Java 程序员"}]} =================================== 
2025-04-03 11:28:54.987 [http-nio-8082-exec-9] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 8100
2025-04-03 11:28:56.337 [http-nio-8082-exec-10] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 8100
2025-04-03 11:28:56.338 [http-nio-8082-exec-10] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [批量查询用户信息], 入参: {"ids":[8100]}, 请求类: UserController, 请求方法: findByIds =================================== 
2025-04-03 11:28:56.340 [http-nio-8082-exec-10] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [批量查询用户信息], 耗时: 2ms, 出参: {"success":true,"message":null,"errorCode":null,"data":[{"id":8100,"nickName":"犬小哈","avatar":"http://192.168.0.106:9000/xiaohashu/38447f491d0a456b90ba54f1875726b9.jpg","introduction":"一枚 Java 程序员"}]} =================================== 
2025-04-03 11:28:56.341 [http-nio-8082-exec-10] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 8100
2025-04-03 11:31:08.197 [http-nio-8082-exec-2] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 8100
2025-04-03 11:31:08.198 [http-nio-8082-exec-2] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [批量查询用户信息], 入参: {"ids":[8100]}, 请求类: UserController, 请求方法: findByIds =================================== 
2025-04-03 11:31:08.199 [http-nio-8082-exec-2] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [批量查询用户信息], 耗时: 1ms, 出参: {"success":true,"message":null,"errorCode":null,"data":[{"id":8100,"nickName":"犬小哈","avatar":"http://192.168.0.106:9000/xiaohashu/38447f491d0a456b90ba54f1875726b9.jpg","introduction":"一枚 Java 程序员"}]} =================================== 
2025-04-03 11:31:08.200 [http-nio-8082-exec-2] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 8100
2025-04-03 11:31:09.670 [http-nio-8082-exec-5] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 8100
2025-04-03 11:31:09.670 [http-nio-8082-exec-5] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [查询用户信息], 入参: {"id":8100}, 请求类: UserController, 请求方法: findById =================================== 
2025-04-03 11:31:09.671 [http-nio-8082-exec-5] INFO  c.q.x.user.biz.service.impl.UserServiceImpl - ==> 命中了本地缓存；FindUserByIdRspDTO(id=8100, nickName=犬小哈, avatar=http://192.168.0.106:9000/xiaohashu/38447f491d0a456b90ba54f1875726b9.jpg, introduction=一枚 Java 程序员)
2025-04-03 11:31:09.671 [http-nio-8082-exec-5] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [查询用户信息], 耗时: 1ms, 出参: {"success":true,"message":null,"errorCode":null,"data":{"id":8100,"nickName":"犬小哈","avatar":"http://192.168.0.106:9000/xiaohashu/38447f491d0a456b90ba54f1875726b9.jpg","introduction":"一枚 Java 程序员"}} =================================== 
2025-04-03 11:31:09.672 [http-nio-8082-exec-5] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 8100
2025-04-03 11:41:59.179 [http-nio-8082-exec-6] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 8100
2025-04-03 11:41:59.180 [http-nio-8082-exec-6] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [批量查询用户信息], 入参: {"ids":[8100]}, 请求类: UserController, 请求方法: findByIds =================================== 
2025-04-03 11:41:59.181 [http-nio-8082-exec-6] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [批量查询用户信息], 耗时: 1ms, 出参: {"success":true,"message":null,"errorCode":null,"data":[{"id":8100,"nickName":"犬小哈","avatar":"http://192.168.0.106:9000/xiaohashu/38447f491d0a456b90ba54f1875726b9.jpg","introduction":"一枚 Java 程序员"}]} =================================== 
2025-04-03 11:41:59.182 [http-nio-8082-exec-6] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 8100
2025-04-03 11:42:01.230 [http-nio-8082-exec-3] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 8100
2025-04-03 11:42:01.231 [http-nio-8082-exec-3] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [查询用户信息], 入参: {"id":8100}, 请求类: UserController, 请求方法: findById =================================== 
2025-04-03 11:42:01.231 [http-nio-8082-exec-3] INFO  c.q.x.user.biz.service.impl.UserServiceImpl - ==> 命中了本地缓存；FindUserByIdRspDTO(id=8100, nickName=犬小哈, avatar=http://192.168.0.106:9000/xiaohashu/38447f491d0a456b90ba54f1875726b9.jpg, introduction=一枚 Java 程序员)
2025-04-03 11:42:01.231 [http-nio-8082-exec-3] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [查询用户信息], 耗时: 0ms, 出参: {"success":true,"message":null,"errorCode":null,"data":{"id":8100,"nickName":"犬小哈","avatar":"http://192.168.0.106:9000/xiaohashu/38447f491d0a456b90ba54f1875726b9.jpg","introduction":"一枚 Java 程序员"}} =================================== 
2025-04-03 11:42:01.232 [http-nio-8082-exec-3] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 8100
2025-04-03 11:43:52.175 [http-nio-8082-exec-7] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 8100
2025-04-03 11:43:52.176 [http-nio-8082-exec-7] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [批量查询用户信息], 入参: {"ids":[8100]}, 请求类: UserController, 请求方法: findByIds =================================== 
2025-04-03 11:43:52.177 [http-nio-8082-exec-7] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [批量查询用户信息], 耗时: 1ms, 出参: {"success":true,"message":null,"errorCode":null,"data":[{"id":8100,"nickName":"犬小哈","avatar":"http://192.168.0.106:9000/xiaohashu/38447f491d0a456b90ba54f1875726b9.jpg","introduction":"一枚 Java 程序员"}]} =================================== 
2025-04-03 11:43:52.178 [http-nio-8082-exec-7] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 8100
2025-04-03 11:43:53.811 [http-nio-8082-exec-9] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 8100
2025-04-03 11:43:53.812 [http-nio-8082-exec-9] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [查询用户信息], 入参: {"id":8100}, 请求类: UserController, 请求方法: findById =================================== 
2025-04-03 11:43:53.812 [http-nio-8082-exec-9] INFO  c.q.x.user.biz.service.impl.UserServiceImpl - ==> 命中了本地缓存；FindUserByIdRspDTO(id=8100, nickName=犬小哈, avatar=http://192.168.0.106:9000/xiaohashu/38447f491d0a456b90ba54f1875726b9.jpg, introduction=一枚 Java 程序员)
2025-04-03 11:43:53.813 [http-nio-8082-exec-9] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [查询用户信息], 耗时: 0ms, 出参: {"success":true,"message":null,"errorCode":null,"data":{"id":8100,"nickName":"犬小哈","avatar":"http://192.168.0.106:9000/xiaohashu/38447f491d0a456b90ba54f1875726b9.jpg","introduction":"一枚 Java 程序员"}} =================================== 
2025-04-03 11:43:53.813 [http-nio-8082-exec-9] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 8100
2025-04-03 11:55:23.890 [http-nio-8082-exec-1] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 8100
2025-04-03 11:55:23.890 [http-nio-8082-exec-2] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 8100
2025-04-03 11:55:23.900 [http-nio-8082-exec-2] DEBUG c.q.x.u.b.d.mapper.UserDOMapper.selectByPrimaryKey - ==>  Preparing: select id, xiaohashu_id, `password`, nickname, avatar, birthday, background_img, phone, sex, `status`, introduction, create_time, update_time, is_deleted from t_user where id = ?
2025-04-03 11:55:23.900 [http-nio-8082-exec-2] DEBUG c.q.x.u.b.d.mapper.UserDOMapper.selectByPrimaryKey - ==> Parameters: 8100(Long)
2025-04-03 11:55:23.902 [http-nio-8082-exec-2] DEBUG c.q.x.u.b.d.mapper.UserDOMapper.selectByPrimaryKey - <==      Total: 1
2025-04-03 11:55:23.903 [http-nio-8082-exec-1] DEBUG c.q.x.u.b.d.mapper.UserDOMapper.selectByPrimaryKey - ==>  Preparing: select id, xiaohashu_id, `password`, nickname, avatar, birthday, background_img, phone, sex, `status`, introduction, create_time, update_time, is_deleted from t_user where id = ?
2025-04-03 11:55:23.903 [http-nio-8082-exec-1] DEBUG c.q.x.u.b.d.mapper.UserDOMapper.selectByPrimaryKey - ==> Parameters: 8100(Long)
2025-04-03 11:55:23.904 [http-nio-8082-exec-2] INFO  c.q.f.b.c.interceptor.FeignRequestInterceptor - ########## feign 请求设置请求头 userId: 8100
2025-04-03 11:55:23.906 [http-nio-8082-exec-1] DEBUG c.q.x.u.b.d.mapper.UserDOMapper.selectByPrimaryKey - <==      Total: 1
2025-04-03 11:55:23.907 [http-nio-8082-exec-1] INFO  c.q.f.b.c.interceptor.FeignRequestInterceptor - ########## feign 请求设置请求头 userId: 8100
2025-04-03 11:55:23.914 [http-nio-8082-exec-2] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 8100
2025-04-03 11:55:23.914 [http-nio-8082-exec-1] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 8100
2025-04-03 11:55:23.943 [http-nio-8082-exec-8] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 8100
2025-04-03 11:55:23.943 [http-nio-8082-exec-5] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 8100
2025-04-03 11:55:23.944 [http-nio-8082-exec-5] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [批量查询用户信息], 入参: {"ids":[8100]}, 请求类: UserController, 请求方法: findByIds =================================== 
2025-04-03 11:55:23.944 [http-nio-8082-exec-8] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [批量查询用户信息], 入参: {"ids":[8100]}, 请求类: UserController, 请求方法: findByIds =================================== 
2025-04-03 11:55:23.945 [http-nio-8082-exec-5] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [批量查询用户信息], 耗时: 1ms, 出参: {"success":true,"message":null,"errorCode":null,"data":[{"id":8100,"nickName":"犬小哈","avatar":"http://192.168.0.106:9000/xiaohashu/38447f491d0a456b90ba54f1875726b9.jpg","introduction":"一枚 Java 程序员"}]} =================================== 
2025-04-03 11:55:23.945 [http-nio-8082-exec-8] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [批量查询用户信息], 耗时: 1ms, 出参: {"success":true,"message":null,"errorCode":null,"data":[{"id":8100,"nickName":"犬小哈","avatar":"http://192.168.0.106:9000/xiaohashu/38447f491d0a456b90ba54f1875726b9.jpg","introduction":"一枚 Java 程序员"}]} =================================== 
2025-04-03 11:55:23.946 [http-nio-8082-exec-5] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 8100
2025-04-03 11:55:23.946 [http-nio-8082-exec-8] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 8100
2025-04-03 11:55:25.870 [http-nio-8082-exec-6] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 8100
2025-04-03 11:55:25.871 [http-nio-8082-exec-6] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [批量查询用户信息], 入参: {"ids":[8100]}, 请求类: UserController, 请求方法: findByIds =================================== 
2025-04-03 11:55:25.872 [http-nio-8082-exec-6] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [批量查询用户信息], 耗时: 1ms, 出参: {"success":true,"message":null,"errorCode":null,"data":[{"id":8100,"nickName":"犬小哈","avatar":"http://192.168.0.106:9000/xiaohashu/38447f491d0a456b90ba54f1875726b9.jpg","introduction":"一枚 Java 程序员"}]} =================================== 
2025-04-03 11:55:25.873 [http-nio-8082-exec-6] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 8100
2025-04-03 11:55:27.898 [http-nio-8082-exec-3] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 8100
2025-04-03 11:55:27.899 [http-nio-8082-exec-3] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [批量查询用户信息], 入参: {"ids":[8100]}, 请求类: UserController, 请求方法: findByIds =================================== 
2025-04-03 11:55:27.901 [http-nio-8082-exec-3] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [批量查询用户信息], 耗时: 2ms, 出参: {"success":true,"message":null,"errorCode":null,"data":[{"id":8100,"nickName":"犬小哈","avatar":"http://192.168.0.106:9000/xiaohashu/38447f491d0a456b90ba54f1875726b9.jpg","introduction":"一枚 Java 程序员"}]} =================================== 
2025-04-03 11:55:27.901 [http-nio-8082-exec-3] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 8100
2025-04-03 11:55:29.361 [http-nio-8082-exec-4] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 8100
2025-04-03 11:55:29.362 [http-nio-8082-exec-4] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [批量查询用户信息], 入参: {"ids":[8100]}, 请求类: UserController, 请求方法: findByIds =================================== 
2025-04-03 11:55:29.364 [http-nio-8082-exec-4] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [批量查询用户信息], 耗时: 2ms, 出参: {"success":true,"message":null,"errorCode":null,"data":[{"id":8100,"nickName":"犬小哈","avatar":"http://192.168.0.106:9000/xiaohashu/38447f491d0a456b90ba54f1875726b9.jpg","introduction":"一枚 Java 程序员"}]} =================================== 
2025-04-03 11:55:29.365 [http-nio-8082-exec-4] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 8100
2025-04-03 11:55:30.015 [http-nio-8082-exec-7] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 8100
2025-04-03 11:55:30.016 [http-nio-8082-exec-7] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [批量查询用户信息], 入参: {"ids":[8100]}, 请求类: UserController, 请求方法: findByIds =================================== 
2025-04-03 11:55:30.018 [http-nio-8082-exec-7] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [批量查询用户信息], 耗时: 2ms, 出参: {"success":true,"message":null,"errorCode":null,"data":[{"id":8100,"nickName":"犬小哈","avatar":"http://192.168.0.106:9000/xiaohashu/38447f491d0a456b90ba54f1875726b9.jpg","introduction":"一枚 Java 程序员"}]} =================================== 
2025-04-03 11:55:30.018 [http-nio-8082-exec-7] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 8100
2025-04-03 11:56:02.651 [http-nio-8082-exec-9] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 8100
2025-04-03 11:56:02.652 [http-nio-8082-exec-9] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [批量查询用户信息], 入参: {"ids":[8100]}, 请求类: UserController, 请求方法: findByIds =================================== 
2025-04-03 11:56:02.654 [http-nio-8082-exec-9] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [批量查询用户信息], 耗时: 2ms, 出参: {"success":true,"message":null,"errorCode":null,"data":[{"id":8100,"nickName":"犬小哈","avatar":"http://192.168.0.106:9000/xiaohashu/38447f491d0a456b90ba54f1875726b9.jpg","introduction":"一枚 Java 程序员"}]} =================================== 
2025-04-03 11:56:02.655 [http-nio-8082-exec-9] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 8100
2025-04-03 14:06:48.199 [http-nio-8082-exec-8] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 8100
2025-04-03 14:06:48.204 [http-nio-8082-exec-8] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [批量查询用户信息], 入参: {"ids":[8100]}, 请求类: UserController, 请求方法: findByIds =================================== 
2025-04-03 14:06:48.205 [http-nio-8082-exec-8] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [批量查询用户信息], 耗时: 1ms, 出参: {"success":true,"message":null,"errorCode":null,"data":[{"id":8100,"nickName":"犬小哈","avatar":"http://192.168.0.106:9000/xiaohashu/38447f491d0a456b90ba54f1875726b9.jpg","introduction":"一枚 Java 程序员"}]} =================================== 
2025-04-03 14:06:48.207 [http-nio-8082-exec-8] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 8100
2025-04-03 15:31:03.523 [http-nio-8082-exec-3] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 8100
2025-04-03 15:31:03.552 [http-nio-8082-exec-3] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [批量查询用户信息], 入参: {"ids":[8100]}, 请求类: UserController, 请求方法: findByIds =================================== 
2025-04-03 15:31:03.560 [http-nio-8082-exec-3] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [批量查询用户信息], 耗时: 9ms, 出参: {"success":true,"message":null,"errorCode":null,"data":[{"id":8100,"nickName":"犬小哈","avatar":"http://192.168.0.106:9000/xiaohashu/38447f491d0a456b90ba54f1875726b9.jpg","introduction":"一枚 Java 程序员"}]} =================================== 
2025-04-03 15:31:03.566 [http-nio-8082-exec-3] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 8100
2025-04-03 15:31:14.550 [http-nio-8082-exec-4] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 8100
2025-04-03 15:31:14.551 [http-nio-8082-exec-4] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [批量查询用户信息], 入参: {"ids":[8100]}, 请求类: UserController, 请求方法: findByIds =================================== 
2025-04-03 15:31:14.552 [http-nio-8082-exec-4] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [批量查询用户信息], 耗时: 1ms, 出参: {"success":true,"message":null,"errorCode":null,"data":[{"id":8100,"nickName":"犬小哈","avatar":"http://192.168.0.106:9000/xiaohashu/38447f491d0a456b90ba54f1875726b9.jpg","introduction":"一枚 Java 程序员"}]} =================================== 
2025-04-03 15:31:14.553 [http-nio-8082-exec-4] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 8100
2025-04-03 15:53:14.647 [http-nio-8082-exec-10] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 8100
2025-04-03 15:53:14.647 [http-nio-8082-exec-10] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [批量查询用户信息], 入参: {"ids":[8100]}, 请求类: UserController, 请求方法: findByIds =================================== 
2025-04-03 15:53:14.649 [http-nio-8082-exec-10] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [批量查询用户信息], 耗时: 2ms, 出参: {"success":true,"message":null,"errorCode":null,"data":[{"id":8100,"nickName":"犬小哈","avatar":"http://192.168.0.106:9000/xiaohashu/38447f491d0a456b90ba54f1875726b9.jpg","introduction":"一枚 Java 程序员"}]} =================================== 
2025-04-03 15:53:14.649 [http-nio-8082-exec-10] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 8100
2025-04-03 15:53:35.384 [http-nio-8082-exec-1] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 8100
2025-04-03 15:53:35.385 [http-nio-8082-exec-1] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [批量查询用户信息], 入参: {"ids":[8100]}, 请求类: UserController, 请求方法: findByIds =================================== 
2025-04-03 15:53:35.386 [http-nio-8082-exec-1] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [批量查询用户信息], 耗时: 1ms, 出参: {"success":true,"message":null,"errorCode":null,"data":[{"id":8100,"nickName":"犬小哈","avatar":"http://192.168.0.106:9000/xiaohashu/38447f491d0a456b90ba54f1875726b9.jpg","introduction":"一枚 Java 程序员"}]} =================================== 
2025-04-03 15:53:35.387 [http-nio-8082-exec-1] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 8100
2025-04-03 16:05:03.024 [http-nio-8082-exec-5] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [批量查询用户信息], 入参: {"ids":[8100]}, 请求类: UserController, 请求方法: findByIds =================================== 
2025-04-03 16:05:03.025 [http-nio-8082-exec-5] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [批量查询用户信息], 耗时: 1ms, 出参: {"success":true,"message":null,"errorCode":null,"data":[{"id":8100,"nickName":"犬小哈","avatar":"http://192.168.0.106:9000/xiaohashu/38447f491d0a456b90ba54f1875726b9.jpg","introduction":"一枚 Java 程序员"}]} =================================== 
2025-04-03 17:38:31.899 [http-nio-8082-exec-6] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [批量查询用户信息], 入参: {"ids":[8100]}, 请求类: UserController, 请求方法: findByIds =================================== 
2025-04-03 17:38:31.910 [http-nio-8082-exec-6] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [批量查询用户信息], 耗时: 11ms, 出参: {"success":true,"message":null,"errorCode":null,"data":[{"id":8100,"nickName":"犬小哈","avatar":"http://192.168.0.106:9000/xiaohashu/38447f491d0a456b90ba54f1875726b9.jpg","introduction":"一枚 Java 程序员"}]} =================================== 
2025-04-03 17:39:22.566 [http-nio-8082-exec-3] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [批量查询用户信息], 入参: {"ids":[8100]}, 请求类: UserController, 请求方法: findByIds =================================== 
2025-04-03 17:39:22.567 [http-nio-8082-exec-3] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [批量查询用户信息], 耗时: 1ms, 出参: {"success":true,"message":null,"errorCode":null,"data":[{"id":8100,"nickName":"犬小哈","avatar":"http://192.168.0.106:9000/xiaohashu/38447f491d0a456b90ba54f1875726b9.jpg","introduction":"一枚 Java 程序员"}]} =================================== 
2025-04-03 17:52:26.794 [nacos-grpc-client-executor-192.168.0.106-4751] INFO  com.alibaba.nacos.common.remote.client - [dba2b27f-0dbc-4cd0-b667-7c8c7be77bf4] Receive server push request, request = NotifySubscriberRequest, requestId = 118
2025-04-03 17:52:26.801 [nacos-grpc-client-executor-192.168.0.106-4751] INFO  com.alibaba.nacos.client.naming - new ips(1) service: DEFAULT_GROUP@@xiaohashu-count -> [{"ip":"172.17.0.17","port":8090,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@xiaohashu-count","metadata":{"preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000}]
2025-04-03 17:52:26.802 [nacos-grpc-client-executor-192.168.0.106-4751] INFO  com.alibaba.nacos.client.naming - current ips:(2) service: DEFAULT_GROUP@@xiaohashu-count -> [{"ip":"192.168.0.100","port":8090,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@xiaohashu-count","metadata":{"preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000},{"ip":"172.17.0.17","port":8090,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@xiaohashu-count","metadata":{"preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000}]
2025-04-03 17:52:26.804 [nacos-grpc-client-executor-192.168.0.106-4751] INFO  com.alibaba.nacos.common.remote.client - [dba2b27f-0dbc-4cd0-b667-7c8c7be77bf4] Ack server push request, request = NotifySubscriberRequest, requestId = 118
2025-04-03 17:54:40.929 [nacos-grpc-client-executor-192.168.0.106-4779] INFO  com.alibaba.nacos.common.remote.client - [dba2b27f-0dbc-4cd0-b667-7c8c7be77bf4] Receive server push request, request = NotifySubscriberRequest, requestId = 122
2025-04-03 17:54:40.929 [nacos-grpc-client-executor-192.168.0.106-4779] INFO  com.alibaba.nacos.client.naming - new ips(1) service: DEFAULT_GROUP@@xiaohashu-distributed-id-generator -> [{"ip":"172.17.0.18","port":8085,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@xiaohashu-distributed-id-generator","metadata":{"preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000}]
2025-04-03 17:54:40.929 [nacos-grpc-client-executor-192.168.0.106-4779] INFO  com.alibaba.nacos.client.naming - current ips:(2) service: DEFAULT_GROUP@@xiaohashu-distributed-id-generator -> [{"ip":"192.168.0.100","port":8085,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@xiaohashu-distributed-id-generator","metadata":{"preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000},{"ip":"172.17.0.18","port":8085,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@xiaohashu-distributed-id-generator","metadata":{"preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000}]
2025-04-03 17:54:40.929 [nacos-grpc-client-executor-192.168.0.106-4779] INFO  com.alibaba.nacos.common.remote.client - [dba2b27f-0dbc-4cd0-b667-7c8c7be77bf4] Ack server push request, request = NotifySubscriberRequest, requestId = 122
2025-04-03 18:00:28.051 [nacos-grpc-client-executor-192.168.0.106-4848] INFO  com.alibaba.nacos.common.remote.client - [dba2b27f-0dbc-4cd0-b667-7c8c7be77bf4] Receive server push request, request = NotifySubscriberRequest, requestId = 126
2025-04-03 18:00:28.051 [nacos-grpc-client-executor-192.168.0.106-4848] INFO  com.alibaba.nacos.client.naming - new ips(1) service: DEFAULT_GROUP@@xiaohashu-oss -> [{"ip":"172.17.0.20","port":8081,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@xiaohashu-oss","metadata":{"preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000}]
2025-04-03 18:00:28.052 [nacos-grpc-client-executor-192.168.0.106-4848] INFO  com.alibaba.nacos.client.naming - current ips:(2) service: DEFAULT_GROUP@@xiaohashu-oss -> [{"ip":"172.17.0.20","port":8081,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@xiaohashu-oss","metadata":{"preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000},{"ip":"192.168.0.100","port":8081,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@xiaohashu-oss","metadata":{"preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000}]
2025-04-03 18:00:28.052 [nacos-grpc-client-executor-192.168.0.106-4848] INFO  com.alibaba.nacos.common.remote.client - [dba2b27f-0dbc-4cd0-b667-7c8c7be77bf4] Ack server push request, request = NotifySubscriberRequest, requestId = 126
2025-04-03 18:07:06.755 [nacos-grpc-client-executor-192.168.0.106-4927] INFO  com.alibaba.nacos.common.remote.client - [dba2b27f-0dbc-4cd0-b667-7c8c7be77bf4] Receive server push request, request = NotifySubscriberRequest, requestId = 133
2025-04-03 18:07:06.755 [nacos-grpc-client-executor-192.168.0.106-4927] INFO  com.alibaba.nacos.client.naming - removed ips(1) service: DEFAULT_GROUP@@xiaohashu-oss -> [{"ip":"172.17.0.20","port":8081,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@xiaohashu-oss","metadata":{"preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000}]
2025-04-03 18:07:06.755 [nacos-grpc-client-executor-192.168.0.106-4927] INFO  com.alibaba.nacos.client.naming - current ips:(1) service: DEFAULT_GROUP@@xiaohashu-oss -> [{"ip":"192.168.0.100","port":8081,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@xiaohashu-oss","metadata":{"preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000}]
2025-04-03 18:07:06.756 [nacos-grpc-client-executor-192.168.0.106-4927] INFO  com.alibaba.nacos.common.remote.client - [dba2b27f-0dbc-4cd0-b667-7c8c7be77bf4] Ack server push request, request = NotifySubscriberRequest, requestId = 133
2025-04-03 18:07:28.337 [nacos-grpc-client-executor-192.168.0.106-4932] INFO  com.alibaba.nacos.common.remote.client - [dba2b27f-0dbc-4cd0-b667-7c8c7be77bf4] Receive server push request, request = NotifySubscriberRequest, requestId = 135
2025-04-03 18:07:28.337 [nacos-grpc-client-executor-192.168.0.106-4932] INFO  com.alibaba.nacos.client.naming - new ips(1) service: DEFAULT_GROUP@@xiaohashu-oss -> [{"ip":"172.17.0.20","port":8081,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@xiaohashu-oss","metadata":{"preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000}]
2025-04-03 18:07:28.337 [nacos-grpc-client-executor-192.168.0.106-4932] INFO  com.alibaba.nacos.client.naming - current ips:(2) service: DEFAULT_GROUP@@xiaohashu-oss -> [{"ip":"172.17.0.20","port":8081,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@xiaohashu-oss","metadata":{"preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000},{"ip":"192.168.0.100","port":8081,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@xiaohashu-oss","metadata":{"preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000}]
2025-04-03 18:07:28.338 [nacos-grpc-client-executor-192.168.0.106-4932] INFO  com.alibaba.nacos.common.remote.client - [dba2b27f-0dbc-4cd0-b667-7c8c7be77bf4] Ack server push request, request = NotifySubscriberRequest, requestId = 135
2025-04-03 18:09:15.901 [Thread-7] WARN  com.alibaba.nacos.common.notify.NotifyCenter - [NotifyCenter] Start destroying Publisher
2025-04-03 18:09:15.902 [Thread-10] WARN  c.alibaba.nacos.common.http.HttpClientBeanHolder - [HttpClientBeanHolder] Start destroying common HttpClient
2025-04-03 18:09:15.902 [Thread-7] WARN  com.alibaba.nacos.common.notify.NotifyCenter - [NotifyCenter] Destruction of the end
2025-04-03 18:09:15.904 [Thread-10] WARN  c.alibaba.nacos.common.http.HttpClientBeanHolder - [HttpClientBeanHolder] Destruction of the end
2025-04-03 18:09:15.992 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registering from Nacos Server now...
2025-04-03 18:09:15.992 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - [DEREGISTER-SERVICE] xiaohashu deregistering service xiaohashu-user with instance: Instance{instanceId='null', ip='192.168.0.100', port=8082, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={}}
2025-04-03 18:09:15.995 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registration finished.
2025-04-03 18:09:15.996 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown begin
2025-04-03 18:09:15.996 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown begin
2025-04-03 18:09:15.996 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown stop
2025-04-03 18:09:15.996 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown stop
2025-04-03 18:09:15.996 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown begin
2025-04-03 18:09:15.996 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown begin
2025-04-03 18:09:15.996 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown stop
2025-04-03 18:09:15.996 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown begin
2025-04-03 18:09:15.996 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Start destroying NacosRestTemplate
2025-04-03 18:09:15.996 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Destruction of the end
2025-04-03 18:09:15.996 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown stop
2025-04-03 18:09:15.996 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown begin
2025-04-03 18:09:15.996 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Start destroying NacosRestTemplate
2025-04-03 18:09:15.996 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Destruction of the end
2025-04-03 18:09:15.996 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown stop
2025-04-03 18:09:15.996 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown rpc client, set status to shutdown
2025-04-03 18:09:15.997 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown client event executor java.util.concurrent.ScheduledThreadPoolExecutor@42e88fc7[Running, pool size = 2, active threads = 2, queued tasks = 0, completed tasks = 0]
2025-04-03 18:09:15.997 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Close current connection 1743650446935_192.168.0.100_64253
2025-04-03 18:09:15.997 [nacos-grpc-client-executor-192.168.0.106-4954] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - [1743650446935_192.168.0.100_64253]Ignore complete event,isRunning:false,isAbandon=false
2025-04-03 18:09:16.003 [SpringApplicationShutdownHook] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - Shutdown grpc executor java.util.concurrent.ThreadPoolExecutor@1b27ea02[Running, pool size = 4, active threads = 0, queued tasks = 0, completed tasks = 4955]
2025-04-03 18:09:16.004 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - Shutdown grpc redo service executor java.util.concurrent.ScheduledThreadPoolExecutor@4699b4f2[Running, pool size = 1, active threads = 0, queued tasks = 1, completed tasks = 8148]
2025-04-03 18:09:16.004 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialWatcher - [null] CredentialWatcher is stopped
2025-04-03 18:09:16.004 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialService - [null] CredentialService is freed
2025-04-03 18:09:16.004 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown stop
2025-04-03 18:09:16.145 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closing ...
2025-04-03 18:09:16.146 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closed
