2025-03-13 21:26:23.411 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-03-13 21:26:23.453 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-03-13 21:26:23.744 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-03-13 21:26:23.754 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-03-13 21:26:23.754 [main] INFO  c.q.xiaohashu.note.biz.XiaohashuNoteBizApplication - The following 1 profile is active: "dev"
2025-03-13 21:26:24.241 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-03-13 21:26:24.243 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-03-13 21:26:24.255 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 5 ms. Found 0 Redis repository interfaces.
2025-03-13 21:26:24.425 [main] INFO  o.springframework.cloud.context.scope.GenericScope - BeanFactory id=a10c85b0-1988-38fd-9fd1-932a6c8ad961
2025-03-13 21:26:24.458 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'com.quanxiaoha.xiaohashu.count.api.CountFeignApi' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-03-13 21:26:24.458 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'com.quanxiaoha.xiaohashu.distributed.id.generator.api.DistributedIdGeneratorFeignApi' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-03-13 21:26:24.459 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'com.quanxiaoha.xiaohashu.kv.api.KeyValueFeignApi' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-03-13 21:26:24.460 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'com.quanxiaoha.xiaohashu.user.api.UserFeignApi' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-03-13 21:26:24.709 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.apache.rocketmq.spring.autoconfigure.MessageConverterConfiguration' of type [org.apache.rocketmq.spring.autoconfigure.MessageConverterConfiguration$$SpringCGLIB$$0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-03-13 21:26:24.768 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'createRocketMQMessageConverter' of type [org.apache.rocketmq.spring.support.RocketMQMessageConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-03-13 21:26:24.770 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration' of type [org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-03-13 21:26:24.773 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-03-13 21:26:24.773 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'loadBalancerClientsDefaultsMappingsProvider' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration$$Lambda$722/0x000002080151fd90] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-03-13 21:26:24.774 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'defaultsBindHandlerAdvisor' of type [org.springframework.cloud.commons.config.DefaultsBindHandlerAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-03-13 21:26:24.781 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'rocketmq-org.apache.rocketmq.spring.autoconfigure.RocketMQProperties' of type [org.apache.rocketmq.spring.autoconfigure.RocketMQProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-03-13 21:26:24.782 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.apache.rocketmq.spring.autoconfigure.ListenerContainerConfiguration' of type [org.apache.rocketmq.spring.autoconfigure.ListenerContainerConfiguration$$SpringCGLIB$$0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-03-13 21:26:24.979 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8086 (http)
2025-03-13 21:26:24.986 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-03-13 21:26:24.986 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2025-03-13 21:26:25.051 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-03-13 21:26:25.051 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1287 ms
2025-03-13 21:26:25.116 [main] INFO  c.a.d.s.b.a.DruidDataSourceAutoConfigure - Init DruidDataSource
2025-03-13 21:26:25.353 [main] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} inited
2025-03-13 21:26:25.542 [main] INFO  o.a.r.s.autoconfigure.RocketMQAutoConfiguration - a producer (xiaohashu_group) init on namesrv 127.0.0.1:9876
2025-03-13 21:26:25.744 [NettyClientSelector_1] INFO  RocketmqRemoting - closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2025-03-13 21:26:25.743 [main] ERROR o.a.r.s.a.ListenerContainerConfiguration - Started container failed. DefaultRocketMQListenerContainer{consumerGroup='xiaohashu_group_CollectUnCollectTopic', namespace='', nameServer='127.0.0.1:9876', topic='CollectUnCollectTopic', consumeMode=ORDERLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false, instanceName=DEFAULT}
java.lang.IllegalStateException: org.apache.rocketmq.remoting.exception.RemotingConnectException: connect to [127.0.0.1:9876] failed
	at org.apache.rocketmq.client.impl.factory.MQClientInstance.updateTopicRouteInfoFromNameServer(MQClientInstance.java:680)
	at org.apache.rocketmq.client.impl.factory.MQClientInstance.updateTopicRouteInfoFromNameServer(MQClientInstance.java:510)
	at org.apache.rocketmq.client.impl.consumer.DefaultMQPushConsumerImpl.updateTopicSubscribeInfoWhenSubscriptionChanged(DefaultMQPushConsumerImpl.java:872)
	at org.apache.rocketmq.client.impl.consumer.DefaultMQPushConsumerImpl.start(DefaultMQPushConsumerImpl.java:655)
	at org.apache.rocketmq.client.consumer.DefaultMQPushConsumer.start(DefaultMQPushConsumer.java:707)
	at org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer.start(DefaultRocketMQListenerContainer.java:343)
	at org.apache.rocketmq.spring.autoconfigure.ListenerContainerConfiguration.registerContainer(ListenerContainerConfiguration.java:106)
	at org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor.postProcessAfterInitialization(RocketMQMessageListenerBeanPostProcessor.java:55)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsAfterInitialization(AbstractAutowireCapableBeanFactory.java:435)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1754)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:961)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:915)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1291)
	at com.quanxiaoha.xiaohashu.note.biz.XiaohashuNoteBizApplication.main(XiaohashuNoteBizApplication.java:14)
Caused by: org.apache.rocketmq.remoting.exception.RemotingConnectException: connect to [127.0.0.1:9876] failed
	at org.apache.rocketmq.remoting.netty.NettyRemotingClient.getAndCreateNameserverChannel(NettyRemotingClient.java:458)
	at org.apache.rocketmq.remoting.netty.NettyRemotingClient.getAndCreateChannel(NettyRemotingClient.java:413)
	at org.apache.rocketmq.remoting.netty.NettyRemotingClient.invokeSync(NettyRemotingClient.java:382)
	at org.apache.rocketmq.client.impl.MQClientAPIImpl.getTopicRouteInfoFromNameServer(MQClientAPIImpl.java:1394)
	at org.apache.rocketmq.client.impl.MQClientAPIImpl.getTopicRouteInfoFromNameServer(MQClientAPIImpl.java:1384)
	at org.apache.rocketmq.client.impl.factory.MQClientInstance.updateTopicRouteInfoFromNameServer(MQClientInstance.java:623)
	... 25 common frames omitted
2025-03-13 21:26:25.745 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'collectUnCollectNoteConsumer' defined in file [E:\java_workspace\xiaohashu3\xiaohashu-17.9èŠ‚\xiaohashu2\xiaohashu-note\xiaohashu-note-biz\target\classes\com\quanxiaoha\xiaohashu\note\biz\consumer\CollectUnCollectNoteConsumer.class]: java.lang.IllegalStateException: org.apache.rocketmq.remoting.exception.RemotingConnectException: connect to [127.0.0.1:9876] failed
2025-03-13 21:26:25.745 [NettyClientSelector_1] INFO  RocketmqRemoting - closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2025-03-13 21:26:25.746 [main] INFO  o.a.r.s.support.DefaultRocketMQListenerContainer - container destroyed, DefaultRocketMQListenerContainer{consumerGroup='xiaohashu_group_CollectUnCollectTopic', namespace='', nameServer='127.0.0.1:9876', topic='CollectUnCollectTopic', consumeMode=ORDERLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false, instanceName=DEFAULT}
2025-03-13 21:26:25.747 [main] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closing ...
2025-03-13 21:26:25.752 [main] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closed
2025-03-13 21:26:25.753 [main] INFO  org.apache.catalina.core.StandardService - Stopping service [Tomcat]
2025-03-13 21:26:25.768 [main] INFO  o.s.b.a.logging.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-03-13 21:26:25.778 [main] ERROR org.springframework.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'collectUnCollectNoteConsumer' defined in file [E:\java_workspace\xiaohashu3\xiaohashu-17.9èŠ‚\xiaohashu2\xiaohashu-note\xiaohashu-note-biz\target\classes\com\quanxiaoha\xiaohashu\note\biz\consumer\CollectUnCollectNoteConsumer.class]: java.lang.IllegalStateException: org.apache.rocketmq.remoting.exception.RemotingConnectException: connect to [127.0.0.1:9876] failed
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:606)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:961)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:915)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1291)
	at com.quanxiaoha.xiaohashu.note.biz.XiaohashuNoteBizApplication.main(XiaohashuNoteBizApplication.java:14)
Caused by: java.lang.RuntimeException: java.lang.IllegalStateException: org.apache.rocketmq.remoting.exception.RemotingConnectException: connect to [127.0.0.1:9876] failed
	at org.apache.rocketmq.spring.autoconfigure.ListenerContainerConfiguration.registerContainer(ListenerContainerConfiguration.java:109)
	at org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor.postProcessAfterInitialization(RocketMQMessageListenerBeanPostProcessor.java:55)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsAfterInitialization(AbstractAutowireCapableBeanFactory.java:435)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1754)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	... 15 common frames omitted
Caused by: java.lang.IllegalStateException: org.apache.rocketmq.remoting.exception.RemotingConnectException: connect to [127.0.0.1:9876] failed
	at org.apache.rocketmq.client.impl.factory.MQClientInstance.updateTopicRouteInfoFromNameServer(MQClientInstance.java:680)
	at org.apache.rocketmq.client.impl.factory.MQClientInstance.updateTopicRouteInfoFromNameServer(MQClientInstance.java:510)
	at org.apache.rocketmq.client.impl.consumer.DefaultMQPushConsumerImpl.updateTopicSubscribeInfoWhenSubscriptionChanged(DefaultMQPushConsumerImpl.java:872)
	at org.apache.rocketmq.client.impl.consumer.DefaultMQPushConsumerImpl.start(DefaultMQPushConsumerImpl.java:655)
	at org.apache.rocketmq.client.consumer.DefaultMQPushConsumer.start(DefaultMQPushConsumer.java:707)
	at org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer.start(DefaultRocketMQListenerContainer.java:343)
	at org.apache.rocketmq.spring.autoconfigure.ListenerContainerConfiguration.registerContainer(ListenerContainerConfiguration.java:106)
	... 19 common frames omitted
Caused by: org.apache.rocketmq.remoting.exception.RemotingConnectException: connect to [127.0.0.1:9876] failed
	at org.apache.rocketmq.remoting.netty.NettyRemotingClient.getAndCreateNameserverChannel(NettyRemotingClient.java:458)
	at org.apache.rocketmq.remoting.netty.NettyRemotingClient.getAndCreateChannel(NettyRemotingClient.java:413)
	at org.apache.rocketmq.remoting.netty.NettyRemotingClient.invokeSync(NettyRemotingClient.java:382)
	at org.apache.rocketmq.client.impl.MQClientAPIImpl.getTopicRouteInfoFromNameServer(MQClientAPIImpl.java:1394)
	at org.apache.rocketmq.client.impl.MQClientAPIImpl.getTopicRouteInfoFromNameServer(MQClientAPIImpl.java:1384)
	at org.apache.rocketmq.client.impl.factory.MQClientInstance.updateTopicRouteInfoFromNameServer(MQClientInstance.java:623)
	... 25 common frames omitted
2025-03-13 21:29:35.595 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-03-13 21:29:35.633 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-03-13 21:29:35.930 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-03-13 21:29:35.938 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-03-13 21:29:35.940 [main] INFO  c.q.xiaohashu.note.biz.XiaohashuNoteBizApplication - The following 1 profile is active: "dev"
2025-03-13 21:29:36.292 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-03-13 21:29:36.293 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-03-13 21:29:36.308 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 5 ms. Found 0 Redis repository interfaces.
2025-03-13 21:29:36.441 [main] INFO  o.springframework.cloud.context.scope.GenericScope - BeanFactory id=a10c85b0-1988-38fd-9fd1-932a6c8ad961
2025-03-13 21:29:36.458 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'com.quanxiaoha.xiaohashu.count.api.CountFeignApi' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-03-13 21:29:36.460 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'com.quanxiaoha.xiaohashu.distributed.id.generator.api.DistributedIdGeneratorFeignApi' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-03-13 21:29:36.460 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'com.quanxiaoha.xiaohashu.kv.api.KeyValueFeignApi' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-03-13 21:29:36.461 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'com.quanxiaoha.xiaohashu.user.api.UserFeignApi' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-03-13 21:29:36.598 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.apache.rocketmq.spring.autoconfigure.MessageConverterConfiguration' of type [org.apache.rocketmq.spring.autoconfigure.MessageConverterConfiguration$$SpringCGLIB$$0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-03-13 21:29:36.628 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'createRocketMQMessageConverter' of type [org.apache.rocketmq.spring.support.RocketMQMessageConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-03-13 21:29:36.630 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration' of type [org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-03-13 21:29:36.633 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-03-13 21:29:36.633 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'loadBalancerClientsDefaultsMappingsProvider' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration$$Lambda$722/0x000001f51151f7d0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-03-13 21:29:36.634 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'defaultsBindHandlerAdvisor' of type [org.springframework.cloud.commons.config.DefaultsBindHandlerAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-03-13 21:29:36.637 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'rocketmq-org.apache.rocketmq.spring.autoconfigure.RocketMQProperties' of type [org.apache.rocketmq.spring.autoconfigure.RocketMQProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-03-13 21:29:36.637 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.apache.rocketmq.spring.autoconfigure.ListenerContainerConfiguration' of type [org.apache.rocketmq.spring.autoconfigure.ListenerContainerConfiguration$$SpringCGLIB$$0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-03-13 21:29:36.775 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8086 (http)
2025-03-13 21:29:36.781 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-03-13 21:29:36.781 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2025-03-13 21:29:36.828 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-03-13 21:29:36.828 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 878 ms
2025-03-13 21:29:36.878 [main] INFO  c.a.d.s.b.a.DruidDataSourceAutoConfigure - Init DruidDataSource
2025-03-13 21:29:37.071 [main] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} inited
2025-03-13 21:29:37.242 [main] INFO  o.a.r.s.autoconfigure.RocketMQAutoConfiguration - a producer (xiaohashu_group) init on namesrv 127.0.0.1:9876
2025-03-13 21:29:37.573 [main] INFO  o.a.r.s.support.DefaultRocketMQListenerContainer - running container: DefaultRocketMQListenerContainer{consumerGroup='xiaohashu_group_CollectUnCollectTopic', namespace='', nameServer='127.0.0.1:9876', topic='CollectUnCollectTopic', consumeMode=ORDERLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false, instanceName=DEFAULT}
2025-03-13 21:29:37.574 [main] INFO  o.a.r.s.a.ListenerContainerConfiguration - Register the listener to container, listenerBeanName:collectUnCollectNoteConsumer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_1
2025-03-13 21:29:37.679 [main] INFO  o.s.cloud.openfeign.FeignClientFactoryBean - For 'xiaohashu-distributed-id-generator' URL not provided. Will try picking an instance via load-balancing.
2025-03-13 21:29:37.706 [main] INFO  o.s.cloud.openfeign.FeignClientFactoryBean - For 'xiaohashu-kv' URL not provided. Will try picking an instance via load-balancing.
2025-03-13 21:29:37.718 [main] INFO  o.s.cloud.openfeign.FeignClientFactoryBean - For 'xiaohashu-user' URL not provided. Will try picking an instance via load-balancing.
2025-03-13 21:29:37.911 [main] INFO  o.s.cloud.openfeign.FeignClientFactoryBean - For 'xiaohashu-count' URL not provided. Will try picking an instance via load-balancing.
2025-03-13 21:29:37.956 [main] INFO  o.a.r.s.support.DefaultRocketMQListenerContainer - running container: DefaultRocketMQListenerContainer{consumerGroup='xiaohashu_group_DeleteNoteLocalCacheTopic', namespace='', nameServer='127.0.0.1:9876', topic='DeleteNoteLocalCacheTopic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=BROADCASTING', tlsEnable=false, instanceName=DEFAULT}
2025-03-13 21:29:37.956 [main] INFO  o.a.r.s.a.ListenerContainerConfiguration - Register the listener to container, listenerBeanName:deleteNoteLocalCacheConsumer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_2
2025-03-13 21:29:37.994 [main] INFO  o.a.r.s.support.DefaultRocketMQListenerContainer - running container: DefaultRocketMQListenerContainer{consumerGroup='xiaohashu_group_LikeUnlikeTopic', namespace='', nameServer='127.0.0.1:9876', topic='LikeUnlikeTopic', consumeMode=ORDERLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false, instanceName=DEFAULT}
2025-03-13 21:29:37.994 [main] INFO  o.a.r.s.a.ListenerContainerConfiguration - Register the listener to container, listenerBeanName:likeUnlikeNoteConsumer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_3
2025-03-13 21:29:38.605 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8086 (http) with context path ''
2025-03-13 21:29:38.608 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-03-13 21:29:38.608 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ans.namespace attribute : null
2025-03-13 21:29:38.610 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ALIBABA_ALIWARE_NAMESPACE attribute :null
2025-03-13 21:29:38.610 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from namespace attribute :null
2025-03-13 21:29:38.629 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - [settings] [req-serv] nacos-server port:8848
2025-03-13 21:29:38.629 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - [settings] [http-client] connect timeout:1000
2025-03-13 21:29:38.630 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - PER_TASK_CONFIG_SIZE: 3000.0
2025-03-13 21:29:38.633 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2025-03-13 21:29:38.633 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2025-03-13 21:29:38.635 [main] INFO  c.a.n.client.auth.ram.identify.CredentialWatcher - null No credential found
2025-03-13 21:29:38.640 [main] INFO  com.alibaba.nacos.common.remote.client - [RpcClientFactory] create a new rpc client of a37004e1-8a44-47da-83da-a3445be60959
2025-03-13 21:29:38.653 [main] INFO  com.alibaba.nacos.common.remote.client - [a37004e1-8a44-47da-83da-a3445be60959] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
2025-03-13 21:29:38.653 [main] INFO  com.alibaba.nacos.common.remote.client - [a37004e1-8a44-47da-83da-a3445be60959] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
2025-03-13 21:29:38.654 [main] INFO  com.alibaba.nacos.common.remote.client - [a37004e1-8a44-47da-83da-a3445be60959] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
2025-03-13 21:29:38.655 [main] INFO  com.alibaba.nacos.common.remote.client - [a37004e1-8a44-47da-83da-a3445be60959] Try to connect to server on start up, server: {serverIp = '127.0.0.1', server main port = 8848}
2025-03-13 21:29:38.671 [main] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - grpc client connection server:127.0.0.1 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"OPENSSL","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2025-03-13 21:29:39.258 [main] INFO  com.alibaba.nacos.common.remote.client - [a37004e1-8a44-47da-83da-a3445be60959] Success to connect to server [127.0.0.1:8848] on start up, connectionId = 1741872579101_172.17.0.1_38300
2025-03-13 21:29:39.258 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.common.remote.client - [a37004e1-8a44-47da-83da-a3445be60959] Notify connected event to listeners.
2025-03-13 21:29:39.258 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.client.naming - Grpc connection connect
2025-03-13 21:29:39.258 [main] INFO  com.alibaba.nacos.common.remote.client - [a37004e1-8a44-47da-83da-a3445be60959] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2025-03-13 21:29:39.258 [main] INFO  com.alibaba.nacos.common.remote.client - [a37004e1-8a44-47da-83da-a3445be60959] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$1281/0x000001f5119b70a0
2025-03-13 21:29:39.259 [main] INFO  com.alibaba.nacos.client.naming - [REGISTER-SERVICE] xiaohashu registering service xiaohashu-note with instance Instance{instanceId='null', ip='192.168.1.3', port=8086, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={IPv6=[240e:b67:57c:f900:d201:1993:7c8f:60be], preserved.register.source=SPRING_CLOUD}}
2025-03-13 21:29:39.268 [main] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - nacos registry, DEFAULT_GROUP xiaohashu-note 192.168.1.3:8086 register finished
2025-03-13 21:29:39.359 [main] INFO  c.q.xiaohashu.note.biz.XiaohashuNoteBizApplication - Started XiaohashuNoteBizApplication in 4.165 seconds (process running for 4.452)
2025-03-13 21:30:25.600 [http-nio-8086-exec-1] INFO  org.apache.tomcat.util.http.parser.Cookie - A cookie header was received [Hm_lvt_4442b22cf891556abc24108829356be4=1741055208,1741400831;] that contained an invalid cookie. That cookie will be ignored.
 Note: further occurrences of this error will be logged at DEBUG level.
2025-03-13 21:30:25.610 [http-nio-8086-exec-1] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-03-13 21:30:25.610 [http-nio-8086-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-03-13 21:30:25.611 [http-nio-8086-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-03-13 21:30:25.656 [http-nio-8086-exec-1] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== è¯·æ±‚å¼€å§‹: [è·å–æ‰€æœ‰é¢‘é“], å…¥å‚: , è¯·æ±‚ç±»: ChannelController, è¯·æ±‚æ–¹æ³•: findChannelList =================================== 
2025-03-13 21:30:25.656 [http-nio-8086-exec-4] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== è¯·æ±‚å¼€å§‹: [è·å–æ‰€æœ‰é¢‘é“], å…¥å‚: , è¯·æ±‚ç±»: ChannelController, è¯·æ±‚æ–¹æ³•: findChannelList =================================== 
2025-03-13 21:30:25.682 [http-nio-8086-exec-4] DEBUG c.q.x.n.b.domain.mapper.ChannelDOMapper.selectAll - ==>  Preparing: select id, name from t_channel where is_deleted = 0
2025-03-13 21:30:25.682 [http-nio-8086-exec-1] DEBUG c.q.x.n.b.domain.mapper.ChannelDOMapper.selectAll - ==>  Preparing: select id, name from t_channel where is_deleted = 0
2025-03-13 21:30:25.708 [http-nio-8086-exec-3] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== è¯·æ±‚å¼€å§‹: [å‘ç°é¡µ-æŸ¥è¯¢ç¬”è®°åˆ—è¡¨], å…¥å‚: {"channelId":0,"pageNo":1}, è¯·æ±‚ç±»: DiscoverController, è¯·æ±‚æ–¹æ³•: findNoteList =================================== 
2025-03-13 21:30:25.733 [http-nio-8086-exec-3] DEBUG c.q.x.n.b.d.mapper.NoteDOMapper.selectTotalCount - ==>  Preparing: select count(*) from t_note where visible = 0 and status = 1 order by create_time desc
2025-03-13 21:30:25.847 [http-nio-8086-exec-4] DEBUG c.q.x.n.b.domain.mapper.ChannelDOMapper.selectAll - ==> Parameters: 
2025-03-13 21:30:25.847 [http-nio-8086-exec-3] DEBUG c.q.x.n.b.d.mapper.NoteDOMapper.selectTotalCount - ==> Parameters: 
2025-03-13 21:30:25.847 [http-nio-8086-exec-1] DEBUG c.q.x.n.b.domain.mapper.ChannelDOMapper.selectAll - ==> Parameters: 
2025-03-13 21:30:25.867 [http-nio-8086-exec-3] DEBUG c.q.x.n.b.d.mapper.NoteDOMapper.selectTotalCount - <==      Total: 1
2025-03-13 21:30:25.867 [http-nio-8086-exec-4] DEBUG c.q.x.n.b.domain.mapper.ChannelDOMapper.selectAll - <==      Total: 10
2025-03-13 21:30:25.868 [http-nio-8086-exec-1] DEBUG c.q.x.n.b.domain.mapper.ChannelDOMapper.selectAll - <==      Total: 10
2025-03-13 21:30:25.870 [http-nio-8086-exec-3] DEBUG c.q.x.n.b.d.mapper.NoteDOMapper.selectPageList - ==>  Preparing: select id, title, is_content_empty, creator_id, topic_id, topic_name, is_top, `type`, img_uris, video_uri, visible, create_time, update_time, `status`, content_uuid, channel_id, topic_ids from t_note where visible = 0 and status = 1 order by create_time desc limit ?, ?
2025-03-13 21:30:25.881 [http-nio-8086-exec-3] DEBUG c.q.x.n.b.d.mapper.NoteDOMapper.selectPageList - ==> Parameters: 0(Long), 10(Long)
2025-03-13 21:30:25.882 [http-nio-8086-exec-4] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== è¯·æ±‚ç»“æŸ: [è·å–æ‰€æœ‰é¢‘é“], è€—æ—¶: 219ms, å‡ºå‚: {"success":true,"message":null,"errorCode":null,"data":[{"id":3,"name":"ç©¿æ­"},{"id":4,"name":"ç¾é£Ÿ"},{"id":5,"name":"å½©å¦†"},{"id":6,"name":"å½±è§†"},{"id":7,"name":"èŒåœº"},{"id":8,"name":"æƒ…æ„Ÿ"},{"id":9,"name":"å®¶å±…"},{"id":10,"name":"æ¸¸æˆ"},{"id":11,"name":"æ—…è¡Œ"},{"id":12,"name":"å¥èº«"}]} =================================== 
2025-03-13 21:30:25.882 [http-nio-8086-exec-1] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== è¯·æ±‚ç»“æŸ: [è·å–æ‰€æœ‰é¢‘é“], è€—æ—¶: 219ms, å‡ºå‚: {"success":true,"message":null,"errorCode":null,"data":[{"id":3,"name":"ç©¿æ­"},{"id":4,"name":"ç¾é£Ÿ"},{"id":5,"name":"å½©å¦†"},{"id":6,"name":"å½±è§†"},{"id":7,"name":"èŒåœº"},{"id":8,"name":"æƒ…æ„Ÿ"},{"id":9,"name":"å®¶å±…"},{"id":10,"name":"æ¸¸æˆ"},{"id":11,"name":"æ—…è¡Œ"},{"id":12,"name":"å¥èº«"}]} =================================== 
2025-03-13 21:30:25.892 [http-nio-8086-exec-3] DEBUG c.q.x.n.b.d.mapper.NoteDOMapper.selectPageList - <==      Total: 10
2025-03-13 21:30:25.952 [http-nio-8086-exec-3] INFO  com.alibaba.nacos.client.naming - [SUBSCRIBE-SERVICE] service:xiaohashu-user, group:DEFAULT_GROUP, clusters: 
2025-03-13 21:30:25.964 [http-nio-8086-exec-3] INFO  com.alibaba.nacos.client.naming - init new ips(1) service: DEFAULT_GROUP@@xiaohashu-user -> [{"ip":"192.168.1.3","port":8082,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@xiaohashu-user","metadata":{"preserved.register.source":"SPRING_CLOUD","IPv6":"[240e:b67:57c:f900:d201:1993:7c8f:60be]"},"ipDeleteTimeout":30000,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000}]
2025-03-13 21:30:25.972 [http-nio-8086-exec-3] INFO  com.alibaba.nacos.client.naming - current ips:(1) service: DEFAULT_GROUP@@xiaohashu-user -> [{"ip":"192.168.1.3","port":8082,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@xiaohashu-user","metadata":{"preserved.register.source":"SPRING_CLOUD","IPv6":"[240e:b67:57c:f900:d201:1993:7c8f:60be]"},"ipDeleteTimeout":30000,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000}]
2025-03-13 21:30:26.190 [http-nio-8086-exec-3] DEBUG c.q.x.n.b.d.m.NoteCountDOMapper.selectByNoteIds - ==>  Preparing: select id, note_id, like_total, collect_total, comment_total from t_note_count where note_id in ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? )
2025-03-13 21:30:26.192 [http-nio-8086-exec-3] DEBUG c.q.x.n.b.d.m.NoteCountDOMapper.selectByNoteIds - ==> Parameters: 1898735824736878673(Long), 1898696866707537987(Long), 1897973570584182824(Long), 1897971103511347234(Long), 1897969581448757248(Long), 1895795420446064640(Long), 1895795185766367284(Long), 1895794954152706064(Long), 1895794402190688291(Long), 1895793960295596052(Long)
2025-03-13 21:30:26.196 [http-nio-8086-exec-3] DEBUG c.q.x.n.b.d.m.NoteCountDOMapper.selectByNoteIds - <==      Total: 8
2025-03-13 21:30:26.206 [http-nio-8086-exec-3] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== è¯·æ±‚ç»“æŸ: [å‘ç°é¡µ-æŸ¥è¯¢ç¬”è®°åˆ—è¡¨], è€—æ—¶: 496ms, å‡ºå‚: {"success":true,"message":null,"errorCode":null,"data":[{"id":"1898735824736878673","type":0,"cover":"http://127.0.0.1:9000/xiaohashu/8111022b12c1415a891b6da66394a074.jpg","videoUri":null,"title":"å·¥ä½œä¸­ä¸è¦æ•£å‘å¼±è€…æ°”æ¯","creatorId":4104,"nickname":"å½­äºæ™","avatar":"http://127.0.0.1:9000/xiaohashu/377d4c26a03c4e3883d93c68f5a9486e.webp","likeTotal":"0"},{"id":"1898696866707537987","type":0,"cover":"http://127.0.0.1:9000/xiaohashu/9f9bbd67edec48cbb30c3656d0fdafac.jpg","videoUri":null,"title":"é‚£æ˜¯æˆ‘ä»¬ç›¸çˆ±è¿‡çš„åŒ—å¹³","creatorId":4103,"nickname":"å´å½¦ç¥–","avatar":"http://127.0.0.1:9000/xiaohashu/4e9be68ae5064474b157b25be4cdf218.webp","likeTotal":"1"},{"id":"1897973570584182824","type":0,"cover":"http://127.0.0.1:9000/xiaohashu/ecd2da6f1d11413190ed1db4f0de71f1.jpg","videoUri":null,"title":"äºŒæˆ˜æ·æ£®","creatorId":4102,"nickname":"èƒ¡è¿é¦¨","avatar":"http://127.0.0.1:9000/xiaohashu/68c6a1d9b541407d809f1d67dc12c222.png","likeTotal":"1"},{"id":"1897971103511347234","type":0,"cover":"http://127.0.0.1:9000/xiaohashu/dd6a068bfeb7417eac01e51eaeb4ea69.jpg","videoUri":null,"title":"æˆ‘è¯»ä¹¦ï¼Œæˆ‘é”»ç‚¼ï¼Œä½†ä¸ºä»€ä¹ˆè¿˜æ˜¯ç©ºè™š","creatorId":4102,"nickname":"èƒ¡è¿é¦¨","avatar":"http://127.0.0.1:9000/xiaohashu/68c6a1d9b541407d809f1d67dc12c222.png","likeTotal":"0"},{"id":"1897969581448757248","type":0,"cover":"http://127.0.0.1:9000/xiaohashu/180000967f5e4aacb866fd34f180f8c9.jpg","videoUri":null,"title":"â¤ï¸â€ğŸ©¹ä¸€æœ¬è¢«æ ‡é¢˜è€½è¯¯çš„ä¹¦","creatorId":4102,"nickname":"èƒ¡è¿é¦¨","avatar":"http://127.0.0.1:9000/xiaohashu/68c6a1d9b541407d809f1d67dc12c222.png","likeTotal":"0"},{"id":"1895795420446064640","type":0,"cover":"http://127.0.0.1:9000/xiaohashu/1099cf1564ee413280dc59d897d20bf9.jpg","videoUri":null,"title":"å®ç°æ°´æœè‡ªç”±ä¸€ä¸‹ï½","creatorId":2100,"nickname":"çŠ¬å°å“ˆ","avatar":"http://127.0.0.1:9000/xiaohashu/827ddaa493c345868bd9b3434d3dbc2d.jpg","likeTotal":"1"},{"id":"1895795185766367284","type":0,"cover":"http://127.0.0.1:9000/xiaohashu/2440e055abeb40fcb26b5d3b3b9c8b58.jpg","videoUri":null,"title":"å‰§è’äº†å§å¦¹ä»¬ æ±‚æ¨èä¸€ä¸ª ååŠ²å¾ˆå¤§å¾ˆå¤§çš„","creatorId":2100,"nickname":"çŠ¬å°å“ˆ","avatar":"http://127.0.0.1:9000/xiaohashu/827ddaa493c345868bd9b3434d3dbc2d.jpg","likeTotal":"1"},{"id":"1895794954152706064","type":0,"cover":"http://127.0.0.1:9000/xiaohashu/b653c29b49fa4a13996180251edf20fb.jpg","videoUri":null,"title":"è¡Œèµ°çš„jellydogï¼å¿«æ¥å›´è§‚å•¦ï¼","creatorId":2100,"nickname":"çŠ¬å°å“ˆ","avatar":"http://127.0.0.1:9000/xiaohashu/827ddaa493c345868bd9b3434d3dbc2d.jpg","likeTotal":"1"},{"id":"1895794402190688291","type":0,"cover":"http://127.0.0.1:9000/xiaohashu/8e6e9c0196eb45e9951671506c191d8e.jpg","videoUri":null,"title":"è¢«50ä¸‡äººå›´è§‚çš„ç”µç«æˆ¿æ¥æŠ„ä½œä¸šå§ï½œé™„æ¸…å•","creatorId":2100,"nickname":"çŠ¬å°å“ˆ","avatar":"http://127.0.0.1:9000/xiaohashu/827ddaa493c345868bd9b3434d3dbc2d.jpg","likeTotal":"1"},{"id":"1895793960295596052","type":0,"cover":"http://127.0.0.1:9000/xiaohashu/a6e34f98250148928098fd8516e39cae.jpg","videoUri":null,"title":"é…¿ç»¿è—å…‰ | ç»¿è‰²æ˜¯ç”Ÿå‘½åŠ›ğŸŒ¿","creatorId":2100,"nickname":"çŠ¬å°å“ˆ","avatar":"http://127.0.0.1:9000/xiaohashu/827ddaa493c345868bd9b3434d3dbc2d.jpg","likeTotal":"1"}],"pageNo":1,"totalCount":18,"pageSize":10,"totalPage":2} =================================== 
2025-03-13 21:30:26.511 [nacos-grpc-client-executor-127.0.0.1-22] INFO  com.alibaba.nacos.common.remote.client - [a37004e1-8a44-47da-83da-a3445be60959] Receive server push request, request = NotifySubscriberRequest, requestId = 850
2025-03-13 21:30:26.512 [nacos-grpc-client-executor-127.0.0.1-22] INFO  com.alibaba.nacos.common.remote.client - [a37004e1-8a44-47da-83da-a3445be60959] Ack server push request, request = NotifySubscriberRequest, requestId = 850
2025-03-13 21:30:31.361 [http-nio-8086-exec-10] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== è¯·æ±‚å¼€å§‹: [å‘ç°é¡µ-æŸ¥è¯¢ç¬”è®°åˆ—è¡¨], å…¥å‚: {"channelId":0,"pageNo":2}, è¯·æ±‚ç±»: DiscoverController, è¯·æ±‚æ–¹æ³•: findNoteList =================================== 
2025-03-13 21:30:31.362 [http-nio-8086-exec-10] DEBUG c.q.x.n.b.d.mapper.NoteDOMapper.selectTotalCount - ==>  Preparing: select count(*) from t_note where visible = 0 and status = 1 order by create_time desc
2025-03-13 21:30:31.362 [http-nio-8086-exec-10] DEBUG c.q.x.n.b.d.mapper.NoteDOMapper.selectTotalCount - ==> Parameters: 
2025-03-13 21:30:31.364 [http-nio-8086-exec-10] DEBUG c.q.x.n.b.d.mapper.NoteDOMapper.selectTotalCount - <==      Total: 1
2025-03-13 21:30:31.364 [http-nio-8086-exec-10] DEBUG c.q.x.n.b.d.mapper.NoteDOMapper.selectPageList - ==>  Preparing: select id, title, is_content_empty, creator_id, topic_id, topic_name, is_top, `type`, img_uris, video_uri, visible, create_time, update_time, `status`, content_uuid, channel_id, topic_ids from t_note where visible = 0 and status = 1 order by create_time desc limit ?, ?
2025-03-13 21:30:31.365 [http-nio-8086-exec-10] DEBUG c.q.x.n.b.d.mapper.NoteDOMapper.selectPageList - ==> Parameters: 10(Long), 10(Long)
2025-03-13 21:30:31.370 [http-nio-8086-exec-10] DEBUG c.q.x.n.b.d.mapper.NoteDOMapper.selectPageList - <==      Total: 8
2025-03-13 21:30:31.394 [http-nio-8086-exec-10] DEBUG c.q.x.n.b.d.m.NoteCountDOMapper.selectByNoteIds - ==>  Preparing: select id, note_id, like_total, collect_total, comment_total from t_note_count where note_id in ( ? , ? , ? , ? , ? , ? , ? , ? )
2025-03-13 21:30:31.395 [http-nio-8086-exec-10] DEBUG c.q.x.n.b.d.m.NoteCountDOMapper.selectByNoteIds - ==> Parameters: 1895793656292442205(Long), 1895792506252034080(Long), 1895791464059764794(Long), 1895791181581779002(Long), 1895780661764030465(Long), 1895756189493362701(Long), 1895755651829727273(Long), 1895753768780169280(Long)
2025-03-13 21:30:31.397 [http-nio-8086-exec-10] DEBUG c.q.x.n.b.d.m.NoteCountDOMapper.selectByNoteIds - <==      Total: 7
2025-03-13 21:30:31.398 [http-nio-8086-exec-10] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== è¯·æ±‚ç»“æŸ: [å‘ç°é¡µ-æŸ¥è¯¢ç¬”è®°åˆ—è¡¨], è€—æ—¶: 37ms, å‡ºå‚: {"success":true,"message":null,"errorCode":null,"data":[{"id":"1895793656292442205","type":0,"cover":"http://127.0.0.1:9000/xiaohashu/6fb07f936aba4dd89f82a71a1e9e2cde.jpg","videoUri":null,"title":"å­¦åŒ»çš„æ˜¯è¿™æ ·å˜›","creatorId":2100,"nickname":"çŠ¬å°å“ˆ","avatar":"http://127.0.0.1:9000/xiaohashu/827ddaa493c345868bd9b3434d3dbc2d.jpg","likeTotal":"1"},{"id":"1895792506252034080","type":1,"cover":null,"videoUri":"http://127.0.0.1:9000/xiaohashu/c1ab38025e19456a801bb5b960c4362c.mp4","title":"é©¬äº‘ï¼é«˜å…‰æ—¶åˆ»~","creatorId":2100,"nickname":"çŠ¬å°å“ˆ","avatar":"http://127.0.0.1:9000/xiaohashu/827ddaa493c345868bd9b3434d3dbc2d.jpg","likeTotal":"1"},{"id":"1895791464059764794","type":0,"cover":"http://127.0.0.1:9000/xiaohashu/44873053aef34241a761e2e18e57e57b.jpg","videoUri":null,"title":"å¯ä»¥åšæ‰‹æœºå£çº¸","creatorId":2100,"nickname":"çŠ¬å°å“ˆ","avatar":"http://127.0.0.1:9000/xiaohashu/827ddaa493c345868bd9b3434d3dbc2d.jpg","likeTotal":"1"},{"id":"1895791181581779002","type":1,"cover":null,"videoUri":"http://127.0.0.1:9000/xiaohashu/f867ff79c4a24b078f62d3a4ffb23847.mp4","title":"è§†é¢‘æµ‹è¯•","creatorId":2100,"nickname":"çŠ¬å°å“ˆ","avatar":"http://127.0.0.1:9000/xiaohashu/827ddaa493c345868bd9b3434d3dbc2d.jpg","likeTotal":"1"},{"id":"1895780661764030465","type":0,"cover":"http://127.0.0.1:9000/xiaohashu/db44634c731c45c487f5798ec00c6deb.jpg","videoUri":null,"title":"ç¨‹åºå‘˜çš„å·¥ä½œå°ä¸Šæ–°äº†ï¼Œæ´æ´æ¿","creatorId":2100,"nickname":"çŠ¬å°å“ˆ","avatar":"http://127.0.0.1:9000/xiaohashu/827ddaa493c345868bd9b3434d3dbc2d.jpg","likeTotal":"0"},{"id":"1895756189493362701","type":0,"cover":"http://127.0.0.1:9000/xiaohashu/c948a4c1399a46bf873f75192406c50e.jpg","videoUri":null,"title":"æ¶ˆè´¹é™çº§è¿™æ ·å‘ï¼Œå»ç¬‘é¢ ä½ çš„æœ‹å‹åœˆ","creatorId":2100,"nickname":"çŠ¬å°å“ˆ","avatar":"http://127.0.0.1:9000/xiaohashu/827ddaa493c345868bd9b3434d3dbc2d.jpg","likeTotal":"0"},{"id":"1895755651829727273","type":0,"cover":"http://127.0.0.1:9000/xiaohashu/3572b9085c1b46918f988b55077aa15d.jpg","videoUri":null,"title":"å¥½è¿çˆ†æ£šï¼å›½é£ç¥ç¦å£çº¸å¤§èµ","creatorId":2100,"nickname":"çŠ¬å°å“ˆ","avatar":"http://127.0.0.1:9000/xiaohashu/827ddaa493c345868bd9b3434d3dbc2d.jpg","likeTotal":"0"},{"id":"1895753768780169280","type":0,"cover":"http://127.0.0.1:9000/xiaohashu/825bca770ea040d2852ffd3dfc0590d1.jpg","videoUri":null,"title":"åƒä¸€ç›˜ä¼šè®©äººå˜æ¼‚äº®çš„æ°´æœğŸ’ğŸ“ğŸŠğŸ‘","creatorId":2100,"nickname":"çŠ¬å°å“ˆ","avatar":"http://127.0.0.1:9000/xiaohashu/827ddaa493c345868bd9b3434d3dbc2d.jpg","likeTotal":"0"}],"pageNo":2,"totalCount":18,"pageSize":10,"totalPage":2} =================================== 
2025-03-13 21:30:32.345 [http-nio-8086-exec-2] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== è¯·æ±‚å¼€å§‹: [å‘ç°é¡µ-æŸ¥è¯¢ç¬”è®°åˆ—è¡¨], å…¥å‚: {"channelId":0,"pageNo":3}, è¯·æ±‚ç±»: DiscoverController, è¯·æ±‚æ–¹æ³•: findNoteList =================================== 
2025-03-13 21:30:32.345 [http-nio-8086-exec-2] DEBUG c.q.x.n.b.d.mapper.NoteDOMapper.selectTotalCount - ==>  Preparing: select count(*) from t_note where visible = 0 and status = 1 order by create_time desc
2025-03-13 21:30:32.346 [http-nio-8086-exec-2] DEBUG c.q.x.n.b.d.mapper.NoteDOMapper.selectTotalCount - ==> Parameters: 
2025-03-13 21:30:32.351 [http-nio-8086-exec-2] DEBUG c.q.x.n.b.d.mapper.NoteDOMapper.selectTotalCount - <==      Total: 1
2025-03-13 21:30:32.351 [http-nio-8086-exec-2] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== è¯·æ±‚ç»“æŸ: [å‘ç°é¡µ-æŸ¥è¯¢ç¬”è®°åˆ—è¡¨], è€—æ—¶: 6ms, å‡ºå‚: {"success":true,"message":null,"errorCode":null,"data":null,"pageNo":3,"totalCount":2,"pageSize":10,"totalPage":1} =================================== 
2025-03-13 21:30:35.340 [http-nio-8086-exec-6] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== è¯·æ±‚å¼€å§‹: [ç¬”è®°è¯¦æƒ…], å…¥å‚: {"id":1897973570584182824}, è¯·æ±‚ç±»: NoteController, è¯·æ±‚æ–¹æ³•: findNoteDetail =================================== 
2025-03-13 21:30:35.591 [http-nio-8086-exec-6] DEBUG c.q.x.n.b.d.mapper.NoteDOMapper.selectByPrimaryKey - ==>  Preparing: select id, title, is_content_empty, creator_id, topic_id, topic_name, is_top, `type`, img_uris, video_uri, visible, create_time, update_time, `status`, content_uuid, channel_id, topic_ids from t_note where id = ? and status = 1
2025-03-13 21:30:35.592 [http-nio-8086-exec-6] DEBUG c.q.x.n.b.d.mapper.NoteDOMapper.selectByPrimaryKey - ==> Parameters: 1897973570584182824(Long)
2025-03-13 21:30:35.594 [http-nio-8086-exec-6] DEBUG c.q.x.n.b.d.mapper.NoteDOMapper.selectByPrimaryKey - <==      Total: 1
2025-03-13 21:30:35.607 [NoteExecutor-3] INFO  com.alibaba.nacos.client.naming - [SUBSCRIBE-SERVICE] service:xiaohashu-count, group:DEFAULT_GROUP, clusters: 
2025-03-13 21:30:35.612 [NoteExecutor-3] INFO  com.alibaba.nacos.client.naming - init new ips(0) service: DEFAULT_GROUP@@xiaohashu-count -> []
2025-03-13 21:30:35.612 [NoteExecutor-3] INFO  com.alibaba.nacos.client.naming - current ips:(0) service: DEFAULT_GROUP@@xiaohashu-count -> []
2025-03-13 21:30:35.619 [NoteExecutor-2] INFO  com.alibaba.nacos.client.naming - [SUBSCRIBE-SERVICE] service:xiaohashu-kv, group:DEFAULT_GROUP, clusters: 
2025-03-13 21:30:35.622 [NoteExecutor-3] WARN  o.s.cloud.loadbalancer.core.RoundRobinLoadBalancer - No servers available for service: xiaohashu-count
2025-03-13 21:30:35.623 [NoteExecutor-2] INFO  com.alibaba.nacos.client.naming - init new ips(1) service: DEFAULT_GROUP@@xiaohashu-kv -> [{"ip":"192.168.1.3","port":8084,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@xiaohashu-kv","metadata":{"preserved.register.source":"SPRING_CLOUD","IPv6":"[240e:b67:57c:f900:d201:1993:7c8f:60be]"},"ipDeleteTimeout":30000,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000}]
2025-03-13 21:30:35.623 [NoteExecutor-3] WARN  o.s.c.o.l.FeignBlockingLoadBalancerClient - Load balancer does not contain an instance for the service xiaohashu-count
2025-03-13 21:30:35.624 [NoteExecutor-2] INFO  com.alibaba.nacos.client.naming - current ips:(1) service: DEFAULT_GROUP@@xiaohashu-kv -> [{"ip":"192.168.1.3","port":8084,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@xiaohashu-kv","metadata":{"preserved.register.source":"SPRING_CLOUD","IPv6":"[240e:b67:57c:f900:d201:1993:7c8f:60be]"},"ipDeleteTimeout":30000,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000}]
2025-03-13 21:30:35.867 [http-nio-8086-exec-6] ERROR c.q.x.note.biz.exception.GlobalExceptionHandler - /note/detail request error, 
java.lang.reflect.UndeclaredThrowableException: null
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:769)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at com.quanxiaoha.framework.biz.operationlog.aspect.ApiOperationLogAspect.doAround(ApiOperationLogAspect.java:53)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:633)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:623)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:173)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:752)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:752)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703)
	at com.quanxiaoha.xiaohashu.note.biz.controller.NoteController$$SpringCGLIB$$0.findNoteDetail(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:207)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:152)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1080)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:973)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:547)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:614)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:223)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at com.quanxiaoha.framework.biz.context.filter.HeaderUserId2ContextFilter.doFilterInternal(HeaderUserId2ContextFilter.java:33)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at com.alibaba.druid.support.jakarta.WebStatFilter.doFilter(WebStatFilter.java:113)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:177)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:119)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:400)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:859)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1734)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:842)
Caused by: java.util.concurrent.ExecutionException: feign.FeignException$ServiceUnavailable: [503] during [POST] to [http://xiaohashu-count/count/note/data] [CountFeignApi#findNoteCount(FindNoteCountByIdReqDTO)]: [Load balancer does not contain an instance for the service xiaohashu-count]
	at java.base/java.util.concurrent.CompletableFuture.reportGet(CompletableFuture.java:396)
	at java.base/java.util.concurrent.CompletableFuture.get(CompletableFuture.java:2073)
	at com.quanxiaoha.xiaohashu.note.biz.service.impl.NoteServiceImpl.findNoteDetail(NoteServiceImpl.java:458)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:699)
	at com.quanxiaoha.xiaohashu.note.biz.service.impl.NoteServiceImpl$$SpringCGLIB$$0.findNoteDetail(<generated>)
	at com.quanxiaoha.xiaohashu.note.biz.controller.NoteController.findNoteDetail(NoteController.java:38)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:752)
	... 73 common frames omitted
Caused by: feign.FeignException$ServiceUnavailable: [503] during [POST] to [http://xiaohashu-count/count/note/data] [CountFeignApi#findNoteCount(FindNoteCountByIdReqDTO)]: [Load balancer does not contain an instance for the service xiaohashu-count]
	at feign.FeignException.serverErrorStatus(FeignException.java:265)
	at feign.FeignException.errorStatus(FeignException.java:206)
	at feign.FeignException.errorStatus(FeignException.java:194)
	at feign.FeignException.errorStatus(FeignException.java:171)
	at feign.codec.ErrorDecoder$Default.decode(ErrorDecoder.java:92)
	at feign.ResponseHandler.decodeError(ResponseHandler.java:136)
	at feign.ResponseHandler.handleResponse(ResponseHandler.java:70)
	at feign.SynchronousMethodHandler.executeAndDecode(SynchronousMethodHandler.java:116)
	at feign.SynchronousMethodHandler.invoke(SynchronousMethodHandler.java:72)
	at feign.ReflectiveFeign$FeignInvocationHandler.invoke(ReflectiveFeign.java:98)
	at jdk.proxy2/jdk.proxy2.$Proxy109.findNoteCount(Unknown Source)
	at com.quanxiaoha.xiaohashu.note.biz.rpc.CountRpcService.findNoteCountById(CountRpcService.java:37)
	at com.quanxiaoha.xiaohashu.note.biz.service.impl.NoteServiceImpl.lambda$findNoteDetail$6(NoteServiceImpl.java:395)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	... 1 common frames omitted
2025-03-13 21:30:36.197 [nacos-grpc-client-executor-127.0.0.1-26] INFO  com.alibaba.nacos.common.remote.client - [a37004e1-8a44-47da-83da-a3445be60959] Receive server push request, request = NotifySubscriberRequest, requestId = 853
2025-03-13 21:30:36.198 [nacos-grpc-client-executor-127.0.0.1-26] INFO  com.alibaba.nacos.common.remote.client - [a37004e1-8a44-47da-83da-a3445be60959] Ack server push request, request = NotifySubscriberRequest, requestId = 853
2025-03-13 21:30:36.200 [nacos-grpc-client-executor-127.0.0.1-27] INFO  com.alibaba.nacos.common.remote.client - [a37004e1-8a44-47da-83da-a3445be60959] Receive server push request, request = NotifySubscriberRequest, requestId = 852
2025-03-13 21:30:36.200 [nacos-grpc-client-executor-127.0.0.1-27] INFO  com.alibaba.nacos.common.remote.client - [a37004e1-8a44-47da-83da-a3445be60959] Ack server push request, request = NotifySubscriberRequest, requestId = 852
2025-03-13 21:30:39.377 [http-nio-8086-exec-7] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== è¯·æ±‚å¼€å§‹: [ç¬”è®°è¯¦æƒ…], å…¥å‚: {"id":1898735824736878673}, è¯·æ±‚ç±»: NoteController, è¯·æ±‚æ–¹æ³•: findNoteDetail =================================== 
2025-03-13 21:30:39.380 [http-nio-8086-exec-7] DEBUG c.q.x.n.b.d.mapper.NoteDOMapper.selectByPrimaryKey - ==>  Preparing: select id, title, is_content_empty, creator_id, topic_id, topic_name, is_top, `type`, img_uris, video_uri, visible, create_time, update_time, `status`, content_uuid, channel_id, topic_ids from t_note where id = ? and status = 1
2025-03-13 21:30:39.381 [http-nio-8086-exec-7] DEBUG c.q.x.n.b.d.mapper.NoteDOMapper.selectByPrimaryKey - ==> Parameters: 1898735824736878673(Long)
2025-03-13 21:30:39.383 [http-nio-8086-exec-7] DEBUG c.q.x.n.b.d.mapper.NoteDOMapper.selectByPrimaryKey - <==      Total: 1
2025-03-13 21:30:39.386 [NoteExecutor-5] WARN  o.s.cloud.loadbalancer.core.RoundRobinLoadBalancer - No servers available for service: xiaohashu-count
2025-03-13 21:30:39.386 [NoteExecutor-5] WARN  o.s.c.o.l.FeignBlockingLoadBalancerClient - Load balancer does not contain an instance for the service xiaohashu-count
2025-03-13 21:30:39.396 [http-nio-8086-exec-7] ERROR c.q.x.note.biz.exception.GlobalExceptionHandler - /note/detail request error, 
java.lang.reflect.UndeclaredThrowableException: null
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:769)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at com.quanxiaoha.framework.biz.operationlog.aspect.ApiOperationLogAspect.doAround(ApiOperationLogAspect.java:53)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:633)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:623)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:173)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:752)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:752)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703)
	at com.quanxiaoha.xiaohashu.note.biz.controller.NoteController$$SpringCGLIB$$0.findNoteDetail(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:207)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:152)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1080)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:973)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:547)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:614)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:223)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at com.quanxiaoha.framework.biz.context.filter.HeaderUserId2ContextFilter.doFilterInternal(HeaderUserId2ContextFilter.java:33)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at com.alibaba.druid.support.jakarta.WebStatFilter.doFilter(WebStatFilter.java:113)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:177)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:119)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:400)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:859)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1734)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:842)
Caused by: java.util.concurrent.ExecutionException: feign.FeignException$ServiceUnavailable: [503] during [POST] to [http://xiaohashu-count/count/note/data] [CountFeignApi#findNoteCount(FindNoteCountByIdReqDTO)]: [Load balancer does not contain an instance for the service xiaohashu-count]
	at java.base/java.util.concurrent.CompletableFuture.reportGet(CompletableFuture.java:396)
	at java.base/java.util.concurrent.CompletableFuture.get(CompletableFuture.java:2073)
	at com.quanxiaoha.xiaohashu.note.biz.service.impl.NoteServiceImpl.findNoteDetail(NoteServiceImpl.java:458)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:699)
	at com.quanxiaoha.xiaohashu.note.biz.service.impl.NoteServiceImpl$$SpringCGLIB$$0.findNoteDetail(<generated>)
	at com.quanxiaoha.xiaohashu.note.biz.controller.NoteController.findNoteDetail(NoteController.java:38)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:752)
	... 73 common frames omitted
Caused by: feign.FeignException$ServiceUnavailable: [503] during [POST] to [http://xiaohashu-count/count/note/data] [CountFeignApi#findNoteCount(FindNoteCountByIdReqDTO)]: [Load balancer does not contain an instance for the service xiaohashu-count]
	at feign.FeignException.serverErrorStatus(FeignException.java:265)
	at feign.FeignException.errorStatus(FeignException.java:206)
	at feign.FeignException.errorStatus(FeignException.java:194)
	at feign.FeignException.errorStatus(FeignException.java:171)
	at feign.codec.ErrorDecoder$Default.decode(ErrorDecoder.java:92)
	at feign.ResponseHandler.decodeError(ResponseHandler.java:136)
	at feign.ResponseHandler.handleResponse(ResponseHandler.java:70)
	at feign.SynchronousMethodHandler.executeAndDecode(SynchronousMethodHandler.java:116)
	at feign.SynchronousMethodHandler.invoke(SynchronousMethodHandler.java:72)
	at feign.ReflectiveFeign$FeignInvocationHandler.invoke(ReflectiveFeign.java:98)
	at jdk.proxy2/jdk.proxy2.$Proxy109.findNoteCount(Unknown Source)
	at com.quanxiaoha.xiaohashu.note.biz.rpc.CountRpcService.findNoteCountById(CountRpcService.java:37)
	at com.quanxiaoha.xiaohashu.note.biz.service.impl.NoteServiceImpl.lambda$findNoteDetail$6(NoteServiceImpl.java:395)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	... 1 common frames omitted
2025-03-13 21:30:41.561 [http-nio-8086-exec-8] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== è¯·æ±‚å¼€å§‹: [ç¬”è®°è¯¦æƒ…], å…¥å‚: {"id":1898696866707537987}, è¯·æ±‚ç±»: NoteController, è¯·æ±‚æ–¹æ³•: findNoteDetail =================================== 
2025-03-13 21:30:41.563 [http-nio-8086-exec-8] DEBUG c.q.x.n.b.d.mapper.NoteDOMapper.selectByPrimaryKey - ==>  Preparing: select id, title, is_content_empty, creator_id, topic_id, topic_name, is_top, `type`, img_uris, video_uri, visible, create_time, update_time, `status`, content_uuid, channel_id, topic_ids from t_note where id = ? and status = 1
2025-03-13 21:30:41.564 [http-nio-8086-exec-8] DEBUG c.q.x.n.b.d.mapper.NoteDOMapper.selectByPrimaryKey - ==> Parameters: 1898696866707537987(Long)
2025-03-13 21:30:41.566 [http-nio-8086-exec-8] DEBUG c.q.x.n.b.d.mapper.NoteDOMapper.selectByPrimaryKey - <==      Total: 1
2025-03-13 21:30:41.567 [NoteExecutor-8] WARN  o.s.cloud.loadbalancer.core.RoundRobinLoadBalancer - No servers available for service: xiaohashu-count
2025-03-13 21:30:41.567 [NoteExecutor-8] WARN  o.s.c.o.l.FeignBlockingLoadBalancerClient - Load balancer does not contain an instance for the service xiaohashu-count
2025-03-13 21:30:41.577 [http-nio-8086-exec-8] ERROR c.q.x.note.biz.exception.GlobalExceptionHandler - /note/detail request error, 
java.lang.reflect.UndeclaredThrowableException: null
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:769)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at com.quanxiaoha.framework.biz.operationlog.aspect.ApiOperationLogAspect.doAround(ApiOperationLogAspect.java:53)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:633)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:623)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:173)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:752)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:752)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703)
	at com.quanxiaoha.xiaohashu.note.biz.controller.NoteController$$SpringCGLIB$$0.findNoteDetail(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:207)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:152)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1080)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:973)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:547)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:614)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:223)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at com.quanxiaoha.framework.biz.context.filter.HeaderUserId2ContextFilter.doFilterInternal(HeaderUserId2ContextFilter.java:33)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at com.alibaba.druid.support.jakarta.WebStatFilter.doFilter(WebStatFilter.java:113)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:177)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:119)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:400)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:859)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1734)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:842)
Caused by: java.util.concurrent.ExecutionException: feign.FeignException$ServiceUnavailable: [503] during [POST] to [http://xiaohashu-count/count/note/data] [CountFeignApi#findNoteCount(FindNoteCountByIdReqDTO)]: [Load balancer does not contain an instance for the service xiaohashu-count]
	at java.base/java.util.concurrent.CompletableFuture.reportGet(CompletableFuture.java:396)
	at java.base/java.util.concurrent.CompletableFuture.get(CompletableFuture.java:2073)
	at com.quanxiaoha.xiaohashu.note.biz.service.impl.NoteServiceImpl.findNoteDetail(NoteServiceImpl.java:458)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:699)
	at com.quanxiaoha.xiaohashu.note.biz.service.impl.NoteServiceImpl$$SpringCGLIB$$0.findNoteDetail(<generated>)
	at com.quanxiaoha.xiaohashu.note.biz.controller.NoteController.findNoteDetail(NoteController.java:38)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:752)
	... 73 common frames omitted
Caused by: feign.FeignException$ServiceUnavailable: [503] during [POST] to [http://xiaohashu-count/count/note/data] [CountFeignApi#findNoteCount(FindNoteCountByIdReqDTO)]: [Load balancer does not contain an instance for the service xiaohashu-count]
	at feign.FeignException.serverErrorStatus(FeignException.java:265)
	at feign.FeignException.errorStatus(FeignException.java:206)
	at feign.FeignException.errorStatus(FeignException.java:194)
	at feign.FeignException.errorStatus(FeignException.java:171)
	at feign.codec.ErrorDecoder$Default.decode(ErrorDecoder.java:92)
	at feign.ResponseHandler.decodeError(ResponseHandler.java:136)
	at feign.ResponseHandler.handleResponse(ResponseHandler.java:70)
	at feign.SynchronousMethodHandler.executeAndDecode(SynchronousMethodHandler.java:116)
	at feign.SynchronousMethodHandler.invoke(SynchronousMethodHandler.java:72)
	at feign.ReflectiveFeign$FeignInvocationHandler.invoke(ReflectiveFeign.java:98)
	at jdk.proxy2/jdk.proxy2.$Proxy109.findNoteCount(Unknown Source)
	at com.quanxiaoha.xiaohashu.note.biz.rpc.CountRpcService.findNoteCountById(CountRpcService.java:37)
	at com.quanxiaoha.xiaohashu.note.biz.service.impl.NoteServiceImpl.lambda$findNoteDetail$6(NoteServiceImpl.java:395)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	... 1 common frames omitted
2025-03-13 21:30:58.432 [http-nio-8086-exec-9] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== è¯·æ±‚å¼€å§‹: [ç¬”è®°è¯¦æƒ…], å…¥å‚: {"id":1898696866707537987}, è¯·æ±‚ç±»: NoteController, è¯·æ±‚æ–¹æ³•: findNoteDetail =================================== 
2025-03-13 21:30:58.433 [http-nio-8086-exec-9] DEBUG c.q.x.n.b.d.mapper.NoteDOMapper.selectByPrimaryKey - ==>  Preparing: select id, title, is_content_empty, creator_id, topic_id, topic_name, is_top, `type`, img_uris, video_uri, visible, create_time, update_time, `status`, content_uuid, channel_id, topic_ids from t_note where id = ? and status = 1
2025-03-13 21:30:58.434 [http-nio-8086-exec-9] DEBUG c.q.x.n.b.d.mapper.NoteDOMapper.selectByPrimaryKey - ==> Parameters: 1898696866707537987(Long)
2025-03-13 21:30:58.435 [http-nio-8086-exec-9] DEBUG c.q.x.n.b.d.mapper.NoteDOMapper.selectByPrimaryKey - <==      Total: 1
2025-03-13 21:30:58.436 [NoteExecutor-1] WARN  o.s.cloud.loadbalancer.core.RoundRobinLoadBalancer - No servers available for service: xiaohashu-count
2025-03-13 21:30:58.436 [NoteExecutor-1] WARN  o.s.c.o.l.FeignBlockingLoadBalancerClient - Load balancer does not contain an instance for the service xiaohashu-count
2025-03-13 21:30:58.443 [http-nio-8086-exec-9] ERROR c.q.x.note.biz.exception.GlobalExceptionHandler - /note/detail request error, 
java.lang.reflect.UndeclaredThrowableException: null
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:769)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at com.quanxiaoha.framework.biz.operationlog.aspect.ApiOperationLogAspect.doAround(ApiOperationLogAspect.java:53)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:633)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:623)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:173)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:752)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:752)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703)
	at com.quanxiaoha.xiaohashu.note.biz.controller.NoteController$$SpringCGLIB$$0.findNoteDetail(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:207)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:152)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1080)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:973)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:547)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:614)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:223)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at com.quanxiaoha.framework.biz.context.filter.HeaderUserId2ContextFilter.doFilterInternal(HeaderUserId2ContextFilter.java:33)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at com.alibaba.druid.support.jakarta.WebStatFilter.doFilter(WebStatFilter.java:113)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:177)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:119)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:400)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:859)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1734)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:842)
Caused by: java.util.concurrent.ExecutionException: feign.FeignException$ServiceUnavailable: [503] during [POST] to [http://xiaohashu-count/count/note/data] [CountFeignApi#findNoteCount(FindNoteCountByIdReqDTO)]: [Load balancer does not contain an instance for the service xiaohashu-count]
	at java.base/java.util.concurrent.CompletableFuture.reportGet(CompletableFuture.java:396)
	at java.base/java.util.concurrent.CompletableFuture.get(CompletableFuture.java:2073)
	at com.quanxiaoha.xiaohashu.note.biz.service.impl.NoteServiceImpl.findNoteDetail(NoteServiceImpl.java:458)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:699)
	at com.quanxiaoha.xiaohashu.note.biz.service.impl.NoteServiceImpl$$SpringCGLIB$$0.findNoteDetail(<generated>)
	at com.quanxiaoha.xiaohashu.note.biz.controller.NoteController.findNoteDetail(NoteController.java:38)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:752)
	... 73 common frames omitted
Caused by: feign.FeignException$ServiceUnavailable: [503] during [POST] to [http://xiaohashu-count/count/note/data] [CountFeignApi#findNoteCount(FindNoteCountByIdReqDTO)]: [Load balancer does not contain an instance for the service xiaohashu-count]
	at feign.FeignException.serverErrorStatus(FeignException.java:265)
	at feign.FeignException.errorStatus(FeignException.java:206)
	at feign.FeignException.errorStatus(FeignException.java:194)
	at feign.FeignException.errorStatus(FeignException.java:171)
	at feign.codec.ErrorDecoder$Default.decode(ErrorDecoder.java:92)
	at feign.ResponseHandler.decodeError(ResponseHandler.java:136)
	at feign.ResponseHandler.handleResponse(ResponseHandler.java:70)
	at feign.SynchronousMethodHandler.executeAndDecode(SynchronousMethodHandler.java:116)
	at feign.SynchronousMethodHandler.invoke(SynchronousMethodHandler.java:72)
	at feign.ReflectiveFeign$FeignInvocationHandler.invoke(ReflectiveFeign.java:98)
	at jdk.proxy2/jdk.proxy2.$Proxy109.findNoteCount(Unknown Source)
	at com.quanxiaoha.xiaohashu.note.biz.rpc.CountRpcService.findNoteCountById(CountRpcService.java:37)
	at com.quanxiaoha.xiaohashu.note.biz.service.impl.NoteServiceImpl.lambda$findNoteDetail$6(NoteServiceImpl.java:395)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	... 1 common frames omitted
2025-03-13 21:30:59.151 [nacos-grpc-client-executor-127.0.0.1-33] INFO  com.alibaba.nacos.common.remote.client - [a37004e1-8a44-47da-83da-a3445be60959] Receive server push request, request = NotifySubscriberRequest, requestId = 854
2025-03-13 21:30:59.152 [nacos-grpc-client-executor-127.0.0.1-33] INFO  com.alibaba.nacos.client.naming - new ips(1) service: DEFAULT_GROUP@@xiaohashu-count -> [{"ip":"192.168.1.3","port":8090,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@xiaohashu-count","metadata":{"preserved.register.source":"SPRING_CLOUD","IPv6":"[240e:b67:57c:f900:d201:1993:7c8f:60be]"},"ipDeleteTimeout":30000,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000}]
2025-03-13 21:30:59.152 [nacos-grpc-client-executor-127.0.0.1-33] INFO  com.alibaba.nacos.client.naming - current ips:(1) service: DEFAULT_GROUP@@xiaohashu-count -> [{"ip":"192.168.1.3","port":8090,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@xiaohashu-count","metadata":{"preserved.register.source":"SPRING_CLOUD","IPv6":"[240e:b67:57c:f900:d201:1993:7c8f:60be]"},"ipDeleteTimeout":30000,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000}]
2025-03-13 21:30:59.153 [nacos-grpc-client-executor-127.0.0.1-33] INFO  com.alibaba.nacos.common.remote.client - [a37004e1-8a44-47da-83da-a3445be60959] Ack server push request, request = NotifySubscriberRequest, requestId = 854
2025-03-13 21:31:00.086 [http-nio-8086-exec-5] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== è¯·æ±‚å¼€å§‹: [ç¬”è®°è¯¦æƒ…], å…¥å‚: {"id":1898735824736878673}, è¯·æ±‚ç±»: NoteController, è¯·æ±‚æ–¹æ³•: findNoteDetail =================================== 
2025-03-13 21:31:00.088 [http-nio-8086-exec-5] DEBUG c.q.x.n.b.d.mapper.NoteDOMapper.selectByPrimaryKey - ==>  Preparing: select id, title, is_content_empty, creator_id, topic_id, topic_name, is_top, `type`, img_uris, video_uri, visible, create_time, update_time, `status`, content_uuid, channel_id, topic_ids from t_note where id = ? and status = 1
2025-03-13 21:31:00.088 [http-nio-8086-exec-5] DEBUG c.q.x.n.b.d.mapper.NoteDOMapper.selectByPrimaryKey - ==> Parameters: 1898735824736878673(Long)
2025-03-13 21:31:00.090 [http-nio-8086-exec-5] DEBUG c.q.x.n.b.d.mapper.NoteDOMapper.selectByPrimaryKey - <==      Total: 1
2025-03-13 21:31:00.311 [NoteExecutor-2] DEBUG c.q.x.n.b.d.mapper.TopicDOMapper.selectByTopicIdIn - ==>  Preparing: select id, name from t_topic where id in ( ? , ? )
2025-03-13 21:31:00.312 [NoteExecutor-2] DEBUG c.q.x.n.b.d.mapper.TopicDOMapper.selectByTopicIdIn - ==> Parameters: 46(Long), 47(Long)
2025-03-13 21:31:00.314 [NoteExecutor-2] DEBUG c.q.x.n.b.d.mapper.TopicDOMapper.selectByTopicIdIn - <==      Total: 2
2025-03-13 21:31:00.317 [http-nio-8086-exec-5] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== è¯·æ±‚ç»“æŸ: [ç¬”è®°è¯¦æƒ…], è€—æ—¶: 230ms, å‡ºå‚: {"success":true,"message":null,"errorCode":null,"data":{"id":1898735824736878673,"type":0,"title":"å·¥ä½œä¸­ä¸è¦æ•£å‘å¼±è€…æ°”æ¯","content":null,"imgUris":["http://127.0.0.1:9000/xiaohashu/8111022b12c1415a891b6da66394a074.jpg","http://127.0.0.1:9000/xiaohashu/eb43ed07c3b845d48eed5eb6068ac2ab.jpg","http://127.0.0.1:9000/xiaohashu/8a2e2393898e4fe78522e94ab28dd61a.jpg"],"topics":[{"id":46,"name":"å¥³æ€§æˆé•¿"},{"id":47,"name":"èƒ½åŠ›æå‡"}],"creatorId":4104,"creatorName":"å½­äºæ™","avatar":"http://127.0.0.1:9000/xiaohashu/377d4c26a03c4e3883d93c68f5a9486e.webp","videoUri":null,"updateTime":"2025-03-09","visible":0,"likeTotal":"0","collectTotal":"0","commentTotal":"0"}} =================================== 
2025-03-13 21:31:02.687 [http-nio-8086-exec-1] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== è¯·æ±‚å¼€å§‹: [ç¬”è®°è¯¦æƒ…], å…¥å‚: {"id":1898696866707537987}, è¯·æ±‚ç±»: NoteController, è¯·æ±‚æ–¹æ³•: findNoteDetail =================================== 
2025-03-13 21:31:02.689 [http-nio-8086-exec-1] DEBUG c.q.x.n.b.d.mapper.NoteDOMapper.selectByPrimaryKey - ==>  Preparing: select id, title, is_content_empty, creator_id, topic_id, topic_name, is_top, `type`, img_uris, video_uri, visible, create_time, update_time, `status`, content_uuid, channel_id, topic_ids from t_note where id = ? and status = 1
2025-03-13 21:31:02.690 [http-nio-8086-exec-1] DEBUG c.q.x.n.b.d.mapper.NoteDOMapper.selectByPrimaryKey - ==> Parameters: 1898696866707537987(Long)
2025-03-13 21:31:02.692 [http-nio-8086-exec-1] DEBUG c.q.x.n.b.d.mapper.NoteDOMapper.selectByPrimaryKey - <==      Total: 1
2025-03-13 21:31:02.703 [NoteExecutor-8] DEBUG c.q.x.n.b.d.mapper.TopicDOMapper.selectByTopicIdIn - ==>  Preparing: select id, name from t_topic where id in ( ? , ? , ? )
2025-03-13 21:31:02.703 [NoteExecutor-8] DEBUG c.q.x.n.b.d.mapper.TopicDOMapper.selectByTopicIdIn - ==> Parameters: 43(Long), 44(Long), 45(Long)
2025-03-13 21:31:02.705 [NoteExecutor-8] DEBUG c.q.x.n.b.d.mapper.TopicDOMapper.selectByTopicIdIn - <==      Total: 3
2025-03-13 21:31:02.707 [http-nio-8086-exec-1] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== è¯·æ±‚ç»“æŸ: [ç¬”è®°è¯¦æƒ…], è€—æ—¶: 19ms, å‡ºå‚: {"success":true,"message":null,"errorCode":null,"data":{"id":1898696866707537987,"type":0,"title":"é‚£æ˜¯æˆ‘ä»¬ç›¸çˆ±è¿‡çš„åŒ—å¹³","content":"æˆ‘é—®ä»å‰çš„çˆ±ä¸ºä½•å˜æˆä»Šå¤© ä½ è¯´ä¸‡ç‰©å„æœ‰æ—¶ä»¤ çˆ±ä¹Ÿåˆ°äº†ç§‹å¤©","imgUris":["http://127.0.0.1:9000/xiaohashu/9f9bbd67edec48cbb30c3656d0fdafac.jpg","http://127.0.0.1:9000/xiaohashu/c0ba2c2112444ea184b38cb6bd85d175.jpg","http://127.0.0.1:9000/xiaohashu/e8b106c444cc4a59b0ab37a61e44ceb3.jpg"],"topics":[{"id":43,"name":"ç”Ÿæ´»ç¾å­¦"},{"id":44,"name":"åŒ—äº¬"},{"id":45,"name":"çº¢å¢™æ‹ç…§"}],"creatorId":4103,"creatorName":"å´å½¦ç¥–","avatar":"http://127.0.0.1:9000/xiaohashu/4e9be68ae5064474b157b25be4cdf218.webp","videoUri":null,"updateTime":"2025-03-09","visible":0,"likeTotal":"1","collectTotal":"0","commentTotal":"0"}} =================================== 
2025-03-13 21:31:04.160 [http-nio-8086-exec-4] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== è¯·æ±‚å¼€å§‹: [ç¬”è®°è¯¦æƒ…], å…¥å‚: {"id":1897973570584182824}, è¯·æ±‚ç±»: NoteController, è¯·æ±‚æ–¹æ³•: findNoteDetail =================================== 
2025-03-13 21:31:04.161 [http-nio-8086-exec-4] DEBUG c.q.x.n.b.d.mapper.NoteDOMapper.selectByPrimaryKey - ==>  Preparing: select id, title, is_content_empty, creator_id, topic_id, topic_name, is_top, `type`, img_uris, video_uri, visible, create_time, update_time, `status`, content_uuid, channel_id, topic_ids from t_note where id = ? and status = 1
2025-03-13 21:31:04.162 [http-nio-8086-exec-4] DEBUG c.q.x.n.b.d.mapper.NoteDOMapper.selectByPrimaryKey - ==> Parameters: 1897973570584182824(Long)
2025-03-13 21:31:04.163 [http-nio-8086-exec-4] DEBUG c.q.x.n.b.d.mapper.NoteDOMapper.selectByPrimaryKey - <==      Total: 1
2025-03-13 21:31:04.181 [NoteExecutor-10] DEBUG c.q.x.n.b.d.mapper.TopicDOMapper.selectByTopicIdIn - ==>  Preparing: select id, name from t_topic where id in ( ? , ? )
2025-03-13 21:31:04.181 [NoteExecutor-10] DEBUG c.q.x.n.b.d.mapper.TopicDOMapper.selectByTopicIdIn - ==> Parameters: 41(Long), 42(Long)
2025-03-13 21:31:04.182 [NoteExecutor-10] DEBUG c.q.x.n.b.d.mapper.TopicDOMapper.selectByTopicIdIn - <==      Total: 2
2025-03-13 21:31:04.184 [http-nio-8086-exec-4] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== è¯·æ±‚ç»“æŸ: [ç¬”è®°è¯¦æƒ…], è€—æ—¶: 23ms, å‡ºå‚: {"success":true,"message":null,"errorCode":null,"data":{"id":1897973570584182824,"type":0,"title":"äºŒæˆ˜æ·æ£®","content":"ä¸ä¿¡é‚ªç¬¬äºŒæ¬¡æŒ‘æˆ˜ğŸ‡©ğŸ‡ªå¾·æ„å¿—å·¥è‰ºï¼Œ\nç¬¬ä¸€æ¬¡é—æ†¾é€€åœºï¼Œå…¨å®¶æˆ˜è´¥ï¼Œè€çˆ¶äº²ç”šè‡³æŒ‡ğŸä¸ºğŸ’©ï¼›\n\t\nä»Šå¤©ç¬¬äºŒæ¬¡å°è¯•ï¼Œç¬¬ä¸€å£å±…ç„¶è§‰å¾—å‘³é“è¿˜ä¸é”™ï¼Œæˆ‘æ˜¯ä¸æ˜¯è¦å˜å¼‚äº†â€¦\n\t\nï¼ˆä½†ä¹ŸåªåšæŒåƒäº†ä¸€åŠï¼ŒååŠåœºæ„Ÿè§‰å˜´é‡Œæœ‰è„šè‡­å‘³å°±ç®—äº†","imgUris":["http://127.0.0.1:9000/xiaohashu/ecd2da6f1d11413190ed1db4f0de71f1.jpg","http://127.0.0.1:9000/xiaohashu/360cbc5b18264a8cb685c175f3f4f207.jpg"],"topics":[{"id":41,"name":"é»‘é¢åŒ…"},{"id":42,"name":"å¥½ç‰©"}],"creatorId":4102,"creatorName":"èƒ¡è¿é¦¨","avatar":"http://127.0.0.1:9000/xiaohashu/68c6a1d9b541407d809f1d67dc12c222.png","videoUri":null,"updateTime":"2025-03-08","visible":0,"likeTotal":"1","collectTotal":"0","commentTotal":"0"}} =================================== 
2025-03-13 21:31:12.245 [http-nio-8086-exec-3] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== è¯·æ±‚å¼€å§‹: [ç¬”è®°è¯¦æƒ…], å…¥å‚: {"id":1897969581448757248}, è¯·æ±‚ç±»: NoteController, è¯·æ±‚æ–¹æ³•: findNoteDetail =================================== 
2025-03-13 21:31:12.247 [http-nio-8086-exec-3] DEBUG c.q.x.n.b.d.mapper.NoteDOMapper.selectByPrimaryKey - ==>  Preparing: select id, title, is_content_empty, creator_id, topic_id, topic_name, is_top, `type`, img_uris, video_uri, visible, create_time, update_time, `status`, content_uuid, channel_id, topic_ids from t_note where id = ? and status = 1
2025-03-13 21:31:12.248 [http-nio-8086-exec-3] DEBUG c.q.x.n.b.d.mapper.NoteDOMapper.selectByPrimaryKey - ==> Parameters: 1897969581448757248(Long)
2025-03-13 21:31:12.250 [http-nio-8086-exec-3] DEBUG c.q.x.n.b.d.mapper.NoteDOMapper.selectByPrimaryKey - <==      Total: 1
2025-03-13 21:31:12.274 [NoteExecutor-5] DEBUG c.q.x.n.b.d.mapper.TopicDOMapper.selectByTopicIdIn - ==>  Preparing: select id, name from t_topic where id in ( ? , ? )
2025-03-13 21:31:12.275 [NoteExecutor-5] DEBUG c.q.x.n.b.d.mapper.TopicDOMapper.selectByTopicIdIn - ==> Parameters: 39(Long), 40(Long)
2025-03-13 21:31:12.277 [NoteExecutor-5] DEBUG c.q.x.n.b.d.mapper.TopicDOMapper.selectByTopicIdIn - <==      Total: 2
2025-03-13 21:31:12.277 [http-nio-8086-exec-3] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== è¯·æ±‚ç»“æŸ: [ç¬”è®°è¯¦æƒ…], è€—æ—¶: 32ms, å‡ºå‚: {"success":true,"message":null,"errorCode":null,"data":{"id":1897969581448757248,"type":0,"title":"â¤ï¸â€ğŸ©¹ä¸€æœ¬è¢«æ ‡é¢˜è€½è¯¯çš„ä¹¦","content":"è¿™æ˜¯æœ‹å‹é€çš„ä¸€æœ¬ä¹¦ï¼Œè¯´å®è¯ï¼Œå¦‚æœä¸æ˜¯åˆ«äººé€ï¼Œæˆ‘å¯èƒ½æ°¸è¿œéƒ½ä¸ä¼šæ‰“å¼€å®ƒï¼Œå› ä¸ºå®ƒçœ‹ä¸Šå»å¤ªç•…é”€ä¹¦äº†ã€‚ä½†è¯»å®Œä¹‹åï¼Œæˆ‘è®¤ä¸ºå®ƒç»å¯¹æ˜¯ä¸€æœ¬é€‚åˆäººç”Ÿä½è°·æœŸçš„å¥½ä¹¦ã€‚\n\t\næ•´æœ¬è¯»èµ·æ¥å¾ˆæµç•…ï¼Œä¸€å¤©å°±èƒ½è¯»å®Œã€‚ä¸»é¢˜å›´ç»•çš„æ˜¯çˆ±ä¸è‡ªæˆ‘æ•‘èµè¿™ä¸€ä¸»é¢˜ã€‚","imgUris":["http://127.0.0.1:9000/xiaohashu/180000967f5e4aacb866fd34f180f8c9.jpg","http://127.0.0.1:9000/xiaohashu/2f9d7038bdbf42d3a7892e1fff3b71bf.jpg"],"topics":[{"id":39,"name":"ä¹¦ç±"},{"id":40,"name":"è¯»ä¹¦æ—¥è®°"}],"creatorId":4102,"creatorName":"èƒ¡è¿é¦¨","avatar":"http://127.0.0.1:9000/xiaohashu/68c6a1d9b541407d809f1d67dc12c222.png","videoUri":null,"updateTime":"2025-03-08","visible":0,"likeTotal":"0","collectTotal":"0","commentTotal":"0"}} =================================== 
2025-03-13 21:32:19.423 [http-nio-8086-exec-7] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== è®¾ç½® userId åˆ° ThreadLocal ä¸­ï¼Œ ç”¨æˆ· ID: 2100
2025-03-13 21:32:19.425 [http-nio-8086-exec-7] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== è¯·æ±‚å¼€å§‹: [ç‚¹èµç¬”è®°], å…¥å‚: {"id":1898696866707537987}, è¯·æ±‚ç±»: NoteController, è¯·æ±‚æ–¹æ³•: likeNote =================================== 
2025-03-13 21:32:19.457 [http-nio-8086-exec-7] DEBUG c.q.x.n.b.d.m.N.selectCountByUserIdAndNoteId - ==>  Preparing: select count(1) from t_note_like where user_id = ? and note_id = ? and status = 1 limit 1
2025-03-13 21:32:19.458 [http-nio-8086-exec-7] DEBUG c.q.x.n.b.d.m.N.selectCountByUserIdAndNoteId - ==> Parameters: 2100(Long), 1898696866707537987(Long)
2025-03-13 21:32:19.460 [http-nio-8086-exec-7] DEBUG c.q.x.n.b.d.m.N.selectCountByUserIdAndNoteId - <==      Total: 1
2025-03-13 21:32:19.460 [http-nio-8086-exec-7] DEBUG c.q.x.n.b.d.mapper.NoteLikeDOMapper.selectByUserId - ==>  Preparing: select note_id from t_note_like where user_id = ? and status = 1
2025-03-13 21:32:19.460 [http-nio-8086-exec-7] DEBUG c.q.x.n.b.d.mapper.NoteLikeDOMapper.selectByUserId - ==> Parameters: 2100(Long)
2025-03-13 21:32:19.462 [http-nio-8086-exec-7] DEBUG c.q.x.n.b.d.mapper.NoteLikeDOMapper.selectByUserId - <==      Total: 10
2025-03-13 21:32:19.469 [http-nio-8086-exec-7] DEBUG c.q.x.n.b.d.m.N.selectLikedByUserIdAndLimit - ==>  Preparing: select note_id, create_time from t_note_like where user_id = ? and status = 1 order by create_time desc limit ?
2025-03-13 21:32:19.469 [http-nio-8086-exec-7] DEBUG c.q.x.n.b.d.m.N.selectLikedByUserIdAndLimit - ==> Parameters: 2100(Long), 100(Integer)
2025-03-13 21:32:19.471 [http-nio-8086-exec-7] DEBUG c.q.x.n.b.d.m.N.selectLikedByUserIdAndLimit - <==      Total: 10
2025-03-13 21:32:19.480 [http-nio-8086-exec-7] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== è¯·æ±‚ç»“æŸ: [ç‚¹èµç¬”è®°], è€—æ—¶: 55ms, å‡ºå‚: {"success":true,"message":null,"errorCode":null,"data":null} =================================== 
2025-03-13 21:32:19.481 [http-nio-8086-exec-7] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== åˆ é™¤ ThreadLocalï¼Œ userId: 2100
2025-03-13 21:32:19.505 [NettyClientPublicExecutor_1] INFO  c.q.x.note.biz.service.impl.NoteServiceImpl - ==> ã€ç¬”è®°ç‚¹èµã€‘MQ å‘é€æˆåŠŸï¼ŒSendResult: SendResult [sendStatus=SEND_OK, msgId=7F000001F7CC63947C6B426B78A20000, offsetMsgId=AC1B600100002A9F000000000001C07B, messageQueue=MessageQueue [topic=LikeUnlikeTopic, brokerName=SK-20231010EQPS, queueId=3], queueOffset=41]
2025-03-13 21:32:19.516 [ConsumeMessageThread_xiaohashu_group_LikeUnlikeTopic_1] INFO  c.q.x.note.biz.consumer.LikeUnlikeNoteConsumer - ==> LikeUnlikeNoteConsumer æ¶ˆè´¹äº†æ¶ˆæ¯ {"userId":2100,"noteId":1898696866707537987,"type":1,"noteCreatorId":4103,"createTime":"2025-03-13 21:32:19"}, tags: Like
2025-03-13 21:32:19.518 [ConsumeMessageThread_xiaohashu_group_LikeUnlikeTopic_1] DEBUG c.q.x.n.b.d.mapper.NoteLikeDOMapper.insertOrUpdate - ==>  Preparing: INSERT INTO t_note_like (user_id, note_id, create_time, status) VALUES (?, ?, ?, ?) ON DUPLICATE KEY UPDATE create_time = ?, status = ?;
2025-03-13 21:32:19.582 [ConsumeMessageThread_xiaohashu_group_LikeUnlikeTopic_1] DEBUG c.q.x.n.b.d.mapper.NoteLikeDOMapper.insertOrUpdate - ==> Parameters: 2100(Long), 1898696866707537987(Long), 2025-03-13T21:32:19(LocalDateTime), 1(Integer), 2025-03-13T21:32:19(LocalDateTime), 1(Integer)
2025-03-13 21:32:19.596 [ConsumeMessageThread_xiaohashu_group_LikeUnlikeTopic_1] DEBUG c.q.x.n.b.d.mapper.NoteLikeDOMapper.insertOrUpdate - <==    Updates: 1
2025-03-13 21:32:19.600 [NettyClientPublicExecutor_2] INFO  c.q.x.note.biz.consumer.LikeUnlikeNoteConsumer - ==> ã€è®¡æ•°: ç¬”è®°ç‚¹èµã€‘MQ å‘é€æˆåŠŸï¼ŒSendResult: SendResult [sendStatus=SEND_OK, msgId=7F000001F7CC63947C6B426B790E0001, offsetMsgId=AC1B600100002A9F000000000001C201, messageQueue=MessageQueue [topic=CountNoteLikeTopic, brokerName=SK-20231010EQPS, queueId=0], queueOffset=11]
2025-03-13 21:32:20.414 [http-nio-8086-exec-8] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== è®¾ç½® userId åˆ° ThreadLocal ä¸­ï¼Œ ç”¨æˆ· ID: 2100
2025-03-13 21:32:20.417 [http-nio-8086-exec-8] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== è¯·æ±‚å¼€å§‹: [å–æ¶ˆç‚¹èµç¬”è®°], å…¥å‚: {"id":1898696866707537987}, è¯·æ±‚ç±»: NoteController, è¯·æ±‚æ–¹æ³•: unlikeNote =================================== 
2025-03-13 21:32:20.424 [http-nio-8086-exec-8] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== è¯·æ±‚ç»“æŸ: [å–æ¶ˆç‚¹èµç¬”è®°], è€—æ—¶: 7ms, å‡ºå‚: {"success":true,"message":null,"errorCode":null,"data":null} =================================== 
2025-03-13 21:32:20.424 [http-nio-8086-exec-8] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== åˆ é™¤ ThreadLocalï¼Œ userId: 2100
2025-03-13 21:32:20.426 [NettyClientPublicExecutor_3] INFO  c.q.x.note.biz.service.impl.NoteServiceImpl - ==> ã€ç¬”è®°å–æ¶ˆç‚¹èµã€‘MQ å‘é€æˆåŠŸï¼ŒSendResult: SendResult [sendStatus=SEND_OK, msgId=7F000001F7CC63947C6B426B7C480002, offsetMsgId=AC1B600100002A9F000000000001C380, messageQueue=MessageQueue [topic=LikeUnlikeTopic, brokerName=SK-20231010EQPS, queueId=3], queueOffset=42]
2025-03-13 21:32:20.438 [ConsumeMessageThread_xiaohashu_group_LikeUnlikeTopic_2] INFO  c.q.x.note.biz.consumer.LikeUnlikeNoteConsumer - ==> LikeUnlikeNoteConsumer æ¶ˆè´¹äº†æ¶ˆæ¯ {"userId":2100,"noteId":1898696866707537987,"type":0,"noteCreatorId":4103,"createTime":"2025-03-13 21:32:20"}, tags: Unlike
2025-03-13 21:32:20.438 [ConsumeMessageThread_xiaohashu_group_LikeUnlikeTopic_2] DEBUG c.q.x.n.b.d.m.N.update2UnlikeByUserIdAndNoteId - ==>  Preparing: update t_note_like set status = ?, create_time = ? where user_id = ? and note_id = ? and status = 1
2025-03-13 21:32:20.441 [ConsumeMessageThread_xiaohashu_group_LikeUnlikeTopic_2] DEBUG c.q.x.n.b.d.m.N.update2UnlikeByUserIdAndNoteId - ==> Parameters: 0(Integer), 2025-03-13T21:32:20(LocalDateTime), 2100(Long), 1898696866707537987(Long)
2025-03-13 21:32:20.451 [ConsumeMessageThread_xiaohashu_group_LikeUnlikeTopic_2] DEBUG c.q.x.n.b.d.m.N.update2UnlikeByUserIdAndNoteId - <==    Updates: 1
2025-03-13 21:32:20.454 [NettyClientPublicExecutor_4] INFO  c.q.x.note.biz.consumer.LikeUnlikeNoteConsumer - ==> ã€è®¡æ•°: ç¬”è®°å–æ¶ˆç‚¹èµã€‘MQ å‘é€æˆåŠŸï¼ŒSendResult: SendResult [sendStatus=SEND_OK, msgId=7F000001F7CC63947C6B426B7C640003, offsetMsgId=AC1B600100002A9F000000000001C508, messageQueue=MessageQueue [topic=CountNoteLikeTopic, brokerName=SK-20231010EQPS, queueId=3], queueOffset=9]
2025-03-13 21:32:21.327 [http-nio-8086-exec-9] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== è®¾ç½® userId åˆ° ThreadLocal ä¸­ï¼Œ ç”¨æˆ· ID: 2100
2025-03-13 21:32:21.328 [http-nio-8086-exec-9] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== è¯·æ±‚å¼€å§‹: [ç‚¹èµç¬”è®°], å…¥å‚: {"id":1898696866707537987}, è¯·æ±‚ç±»: NoteController, è¯·æ±‚æ–¹æ³•: likeNote =================================== 
2025-03-13 21:32:21.332 [http-nio-8086-exec-9] DEBUG c.q.x.n.b.d.m.NoteLikeDOMapper.selectNoteIsLiked - ==>  Preparing: select count(1) from t_note_like where user_id = ? and note_id = ? and status = 1 limit 1
2025-03-13 21:32:21.333 [http-nio-8086-exec-9] DEBUG c.q.x.n.b.d.m.NoteLikeDOMapper.selectNoteIsLiked - ==> Parameters: 2100(Long), 1898696866707537987(Long)
2025-03-13 21:32:21.334 [http-nio-8086-exec-9] DEBUG c.q.x.n.b.d.m.NoteLikeDOMapper.selectNoteIsLiked - <==      Total: 1
2025-03-13 21:32:21.336 [http-nio-8086-exec-9] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== è¯·æ±‚ç»“æŸ: [ç‚¹èµç¬”è®°], è€—æ—¶: 8ms, å‡ºå‚: {"success":true,"message":null,"errorCode":null,"data":null} =================================== 
2025-03-13 21:32:21.337 [http-nio-8086-exec-9] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== åˆ é™¤ ThreadLocalï¼Œ userId: 2100
2025-03-13 21:32:21.338 [NettyClientPublicExecutor_5] INFO  c.q.x.note.biz.service.impl.NoteServiceImpl - ==> ã€ç¬”è®°ç‚¹èµã€‘MQ å‘é€æˆåŠŸï¼ŒSendResult: SendResult [sendStatus=SEND_OK, msgId=7F000001F7CC63947C6B426B7FD80004, offsetMsgId=AC1B600100002A9F000000000001C7D8, messageQueue=MessageQueue [topic=LikeUnlikeTopic, brokerName=SK-20231010EQPS, queueId=3], queueOffset=43]
2025-03-13 21:32:21.344 [ConsumeMessageThread_xiaohashu_group_LikeUnlikeTopic_3] INFO  c.q.x.note.biz.consumer.LikeUnlikeNoteConsumer - ==> LikeUnlikeNoteConsumer æ¶ˆè´¹äº†æ¶ˆæ¯ {"userId":2100,"noteId":1898696866707537987,"type":1,"noteCreatorId":4103,"createTime":"2025-03-13 21:32:21"}, tags: Like
2025-03-13 21:32:21.345 [ConsumeMessageThread_xiaohashu_group_LikeUnlikeTopic_3] DEBUG c.q.x.n.b.d.mapper.NoteLikeDOMapper.insertOrUpdate - ==>  Preparing: INSERT INTO t_note_like (user_id, note_id, create_time, status) VALUES (?, ?, ?, ?) ON DUPLICATE KEY UPDATE create_time = ?, status = ?;
2025-03-13 21:32:21.346 [ConsumeMessageThread_xiaohashu_group_LikeUnlikeTopic_3] DEBUG c.q.x.n.b.d.mapper.NoteLikeDOMapper.insertOrUpdate - ==> Parameters: 2100(Long), 1898696866707537987(Long), 2025-03-13T21:32:21(LocalDateTime), 1(Integer), 2025-03-13T21:32:21(LocalDateTime), 1(Integer)
2025-03-13 21:32:21.364 [ConsumeMessageThread_xiaohashu_group_LikeUnlikeTopic_3] DEBUG c.q.x.n.b.d.mapper.NoteLikeDOMapper.insertOrUpdate - <==    Updates: 2
2025-03-13 21:32:21.366 [NettyClientPublicExecutor_6] INFO  c.q.x.note.biz.consumer.LikeUnlikeNoteConsumer - ==> ã€è®¡æ•°: ç¬”è®°ç‚¹èµã€‘MQ å‘é€æˆåŠŸï¼ŒSendResult: SendResult [sendStatus=SEND_OK, msgId=7F000001F7CC63947C6B426B7FF50005, offsetMsgId=AC1B600100002A9F000000000001C95E, messageQueue=MessageQueue [topic=CountNoteLikeTopic, brokerName=SK-20231010EQPS, queueId=2], queueOffset=11]
2025-03-13 21:32:23.949 [http-nio-8086-exec-5] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== è®¾ç½® userId åˆ° ThreadLocal ä¸­ï¼Œ ç”¨æˆ· ID: 2100
2025-03-13 21:32:23.950 [http-nio-8086-exec-5] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== è¯·æ±‚å¼€å§‹: [è·å–æ‰€æœ‰é¢‘é“], å…¥å‚: , è¯·æ±‚ç±»: ChannelController, è¯·æ±‚æ–¹æ³•: findChannelList =================================== 
2025-03-13 21:32:23.950 [http-nio-8086-exec-5] DEBUG c.q.x.n.b.domain.mapper.ChannelDOMapper.selectAll - ==>  Preparing: select id, name from t_channel where is_deleted = 0
2025-03-13 21:32:23.951 [http-nio-8086-exec-5] DEBUG c.q.x.n.b.domain.mapper.ChannelDOMapper.selectAll - ==> Parameters: 
2025-03-13 21:32:23.953 [http-nio-8086-exec-5] DEBUG c.q.x.n.b.domain.mapper.ChannelDOMapper.selectAll - <==      Total: 10
2025-03-13 21:32:23.953 [http-nio-8086-exec-5] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== è¯·æ±‚ç»“æŸ: [è·å–æ‰€æœ‰é¢‘é“], è€—æ—¶: 3ms, å‡ºå‚: {"success":true,"message":null,"errorCode":null,"data":[{"id":3,"name":"ç©¿æ­"},{"id":4,"name":"ç¾é£Ÿ"},{"id":5,"name":"å½©å¦†"},{"id":6,"name":"å½±è§†"},{"id":7,"name":"èŒåœº"},{"id":8,"name":"æƒ…æ„Ÿ"},{"id":9,"name":"å®¶å±…"},{"id":10,"name":"æ¸¸æˆ"},{"id":11,"name":"æ—…è¡Œ"},{"id":12,"name":"å¥èº«"}]} =================================== 
2025-03-13 21:32:23.954 [http-nio-8086-exec-5] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== åˆ é™¤ ThreadLocalï¼Œ userId: 2100
2025-03-13 21:32:24.170 [http-nio-8086-exec-1] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== è®¾ç½® userId åˆ° ThreadLocal ä¸­ï¼Œ ç”¨æˆ· ID: 2100
2025-03-13 21:32:24.171 [http-nio-8086-exec-1] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== è¯·æ±‚å¼€å§‹: [å‘ç°é¡µ-æŸ¥è¯¢ç¬”è®°åˆ—è¡¨], å…¥å‚: {"channelId":0,"pageNo":1}, è¯·æ±‚ç±»: DiscoverController, è¯·æ±‚æ–¹æ³•: findNoteList =================================== 
2025-03-13 21:32:24.172 [http-nio-8086-exec-1] DEBUG c.q.x.n.b.d.mapper.NoteDOMapper.selectTotalCount - ==>  Preparing: select count(*) from t_note where visible = 0 and status = 1 order by create_time desc
2025-03-13 21:32:24.172 [http-nio-8086-exec-1] DEBUG c.q.x.n.b.d.mapper.NoteDOMapper.selectTotalCount - ==> Parameters: 
2025-03-13 21:32:24.175 [http-nio-8086-exec-1] DEBUG c.q.x.n.b.d.mapper.NoteDOMapper.selectTotalCount - <==      Total: 1
2025-03-13 21:32:24.175 [http-nio-8086-exec-1] DEBUG c.q.x.n.b.d.mapper.NoteDOMapper.selectPageList - ==>  Preparing: select id, title, is_content_empty, creator_id, topic_id, topic_name, is_top, `type`, img_uris, video_uri, visible, create_time, update_time, `status`, content_uuid, channel_id, topic_ids from t_note where visible = 0 and status = 1 order by create_time desc limit ?, ?
2025-03-13 21:32:24.176 [http-nio-8086-exec-1] DEBUG c.q.x.n.b.d.mapper.NoteDOMapper.selectPageList - ==> Parameters: 0(Long), 10(Long)
2025-03-13 21:32:24.179 [http-nio-8086-exec-1] DEBUG c.q.x.n.b.d.mapper.NoteDOMapper.selectPageList - <==      Total: 10
2025-03-13 21:32:24.181 [http-nio-8086-exec-1] INFO  c.q.f.b.c.interceptor.FeignRequestInterceptor - ########## feign è¯·æ±‚è®¾ç½®è¯·æ±‚å¤´ userId: 2100
2025-03-13 21:32:24.189 [http-nio-8086-exec-1] DEBUG c.q.x.n.b.d.m.NoteCountDOMapper.selectByNoteIds - ==>  Preparing: select id, note_id, like_total, collect_total, comment_total from t_note_count where note_id in ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? )
2025-03-13 21:32:24.190 [http-nio-8086-exec-1] DEBUG c.q.x.n.b.d.m.NoteCountDOMapper.selectByNoteIds - ==> Parameters: 1898735824736878673(Long), 1898696866707537987(Long), 1897973570584182824(Long), 1897971103511347234(Long), 1897969581448757248(Long), 1895795420446064640(Long), 1895795185766367284(Long), 1895794954152706064(Long), 1895794402190688291(Long), 1895793960295596052(Long)
2025-03-13 21:32:24.192 [http-nio-8086-exec-1] DEBUG c.q.x.n.b.d.m.NoteCountDOMapper.selectByNoteIds - <==      Total: 8
2025-03-13 21:32:24.193 [http-nio-8086-exec-1] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== è¯·æ±‚ç»“æŸ: [å‘ç°é¡µ-æŸ¥è¯¢ç¬”è®°åˆ—è¡¨], è€—æ—¶: 22ms, å‡ºå‚: {"success":true,"message":null,"errorCode":null,"data":[{"id":"1898735824736878673","type":0,"cover":"http://127.0.0.1:9000/xiaohashu/8111022b12c1415a891b6da66394a074.jpg","videoUri":null,"title":"å·¥ä½œä¸­ä¸è¦æ•£å‘å¼±è€…æ°”æ¯","creatorId":4104,"nickname":"å½­äºæ™","avatar":"http://127.0.0.1:9000/xiaohashu/377d4c26a03c4e3883d93c68f5a9486e.webp","likeTotal":"0"},{"id":"1898696866707537987","type":0,"cover":"http://127.0.0.1:9000/xiaohashu/9f9bbd67edec48cbb30c3656d0fdafac.jpg","videoUri":null,"title":"é‚£æ˜¯æˆ‘ä»¬ç›¸çˆ±è¿‡çš„åŒ—å¹³","creatorId":4103,"nickname":"å´å½¦ç¥–","avatar":"http://127.0.0.1:9000/xiaohashu/4e9be68ae5064474b157b25be4cdf218.webp","likeTotal":"2"},{"id":"1897973570584182824","type":0,"cover":"http://127.0.0.1:9000/xiaohashu/ecd2da6f1d11413190ed1db4f0de71f1.jpg","videoUri":null,"title":"äºŒæˆ˜æ·æ£®","creatorId":4102,"nickname":"èƒ¡è¿é¦¨","avatar":"http://127.0.0.1:9000/xiaohashu/68c6a1d9b541407d809f1d67dc12c222.png","likeTotal":"1"},{"id":"1897971103511347234","type":0,"cover":"http://127.0.0.1:9000/xiaohashu/dd6a068bfeb7417eac01e51eaeb4ea69.jpg","videoUri":null,"title":"æˆ‘è¯»ä¹¦ï¼Œæˆ‘é”»ç‚¼ï¼Œä½†ä¸ºä»€ä¹ˆè¿˜æ˜¯ç©ºè™š","creatorId":4102,"nickname":"èƒ¡è¿é¦¨","avatar":"http://127.0.0.1:9000/xiaohashu/68c6a1d9b541407d809f1d67dc12c222.png","likeTotal":"0"},{"id":"1897969581448757248","type":0,"cover":"http://127.0.0.1:9000/xiaohashu/180000967f5e4aacb866fd34f180f8c9.jpg","videoUri":null,"title":"â¤ï¸â€ğŸ©¹ä¸€æœ¬è¢«æ ‡é¢˜è€½è¯¯çš„ä¹¦","creatorId":4102,"nickname":"èƒ¡è¿é¦¨","avatar":"http://127.0.0.1:9000/xiaohashu/68c6a1d9b541407d809f1d67dc12c222.png","likeTotal":"0"},{"id":"1895795420446064640","type":0,"cover":"http://127.0.0.1:9000/xiaohashu/1099cf1564ee413280dc59d897d20bf9.jpg","videoUri":null,"title":"å®ç°æ°´æœè‡ªç”±ä¸€ä¸‹ï½","creatorId":2100,"nickname":"çŠ¬å°å“ˆ","avatar":"http://127.0.0.1:9000/xiaohashu/827ddaa493c345868bd9b3434d3dbc2d.jpg","likeTotal":"1"},{"id":"1895795185766367284","type":0,"cover":"http://127.0.0.1:9000/xiaohashu/2440e055abeb40fcb26b5d3b3b9c8b58.jpg","videoUri":null,"title":"å‰§è’äº†å§å¦¹ä»¬ æ±‚æ¨èä¸€ä¸ª ååŠ²å¾ˆå¤§å¾ˆå¤§çš„","creatorId":2100,"nickname":"çŠ¬å°å“ˆ","avatar":"http://127.0.0.1:9000/xiaohashu/827ddaa493c345868bd9b3434d3dbc2d.jpg","likeTotal":"1"},{"id":"1895794954152706064","type":0,"cover":"http://127.0.0.1:9000/xiaohashu/b653c29b49fa4a13996180251edf20fb.jpg","videoUri":null,"title":"è¡Œèµ°çš„jellydogï¼å¿«æ¥å›´è§‚å•¦ï¼","creatorId":2100,"nickname":"çŠ¬å°å“ˆ","avatar":"http://127.0.0.1:9000/xiaohashu/827ddaa493c345868bd9b3434d3dbc2d.jpg","likeTotal":"1"},{"id":"1895794402190688291","type":0,"cover":"http://127.0.0.1:9000/xiaohashu/8e6e9c0196eb45e9951671506c191d8e.jpg","videoUri":null,"title":"è¢«50ä¸‡äººå›´è§‚çš„ç”µç«æˆ¿æ¥æŠ„ä½œä¸šå§ï½œé™„æ¸…å•","creatorId":2100,"nickname":"çŠ¬å°å“ˆ","avatar":"http://127.0.0.1:9000/xiaohashu/827ddaa493c345868bd9b3434d3dbc2d.jpg","likeTotal":"1"},{"id":"1895793960295596052","type":0,"cover":"http://127.0.0.1:9000/xiaohashu/a6e34f98250148928098fd8516e39cae.jpg","videoUri":null,"title":"é…¿ç»¿è—å…‰ | ç»¿è‰²æ˜¯ç”Ÿå‘½åŠ›ğŸŒ¿","creatorId":2100,"nickname":"çŠ¬å°å“ˆ","avatar":"http://127.0.0.1:9000/xiaohashu/827ddaa493c345868bd9b3434d3dbc2d.jpg","likeTotal":"1"}],"pageNo":1,"totalCount":18,"pageSize":10,"totalPage":2} =================================== 
2025-03-13 21:32:24.194 [http-nio-8086-exec-1] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== åˆ é™¤ ThreadLocalï¼Œ userId: 2100
2025-03-13 21:32:26.120 [http-nio-8086-exec-4] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== è®¾ç½® userId åˆ° ThreadLocal ä¸­ï¼Œ ç”¨æˆ· ID: 2100
2025-03-13 21:32:26.121 [http-nio-8086-exec-4] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== è¯·æ±‚å¼€å§‹: [ç‚¹èµç¬”è®°], å…¥å‚: {"id":1898696866707537987}, è¯·æ±‚ç±»: NoteController, è¯·æ±‚æ–¹æ³•: likeNote =================================== 
2025-03-13 21:32:26.125 [http-nio-8086-exec-4] WARN  c.q.x.note.biz.exception.GlobalExceptionHandler - /note/like request fail, errorCode: NOTE-20008, errorMessage: æ‚¨å·²ç»ç‚¹èµè¿‡è¯¥ç¬”è®°
2025-03-13 21:32:26.126 [http-nio-8086-exec-4] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== åˆ é™¤ ThreadLocalï¼Œ userId: 2100
2025-03-13 21:32:29.830 [http-nio-8086-exec-3] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== è®¾ç½® userId åˆ° ThreadLocal ä¸­ï¼Œ ç”¨æˆ· ID: 2100
2025-03-13 21:32:29.832 [http-nio-8086-exec-3] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== è¯·æ±‚å¼€å§‹: [ç‚¹èµç¬”è®°], å…¥å‚: {"id":1897973570584182824}, è¯·æ±‚ç±»: NoteController, è¯·æ±‚æ–¹æ³•: likeNote =================================== 
2025-03-13 21:32:29.835 [http-nio-8086-exec-3] WARN  c.q.x.note.biz.exception.GlobalExceptionHandler - /note/like request fail, errorCode: NOTE-20008, errorMessage: æ‚¨å·²ç»ç‚¹èµè¿‡è¯¥ç¬”è®°
2025-03-13 21:32:29.835 [http-nio-8086-exec-3] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== åˆ é™¤ ThreadLocalï¼Œ userId: 2100
2025-03-13 21:32:32.883 [http-nio-8086-exec-10] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== è®¾ç½® userId åˆ° ThreadLocal ä¸­ï¼Œ ç”¨æˆ· ID: 2100
2025-03-13 21:32:32.884 [http-nio-8086-exec-10] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== è¯·æ±‚å¼€å§‹: [è·å–æ‰€æœ‰é¢‘é“], å…¥å‚: , è¯·æ±‚ç±»: ChannelController, è¯·æ±‚æ–¹æ³•: findChannelList =================================== 
2025-03-13 21:32:32.884 [http-nio-8086-exec-10] DEBUG c.q.x.n.b.domain.mapper.ChannelDOMapper.selectAll - ==>  Preparing: select id, name from t_channel where is_deleted = 0
2025-03-13 21:32:32.884 [http-nio-8086-exec-10] DEBUG c.q.x.n.b.domain.mapper.ChannelDOMapper.selectAll - ==> Parameters: 
2025-03-13 21:32:32.886 [http-nio-8086-exec-10] DEBUG c.q.x.n.b.domain.mapper.ChannelDOMapper.selectAll - <==      Total: 10
2025-03-13 21:32:32.886 [http-nio-8086-exec-10] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== è¯·æ±‚ç»“æŸ: [è·å–æ‰€æœ‰é¢‘é“], è€—æ—¶: 2ms, å‡ºå‚: {"success":true,"message":null,"errorCode":null,"data":[{"id":3,"name":"ç©¿æ­"},{"id":4,"name":"ç¾é£Ÿ"},{"id":5,"name":"å½©å¦†"},{"id":6,"name":"å½±è§†"},{"id":7,"name":"èŒåœº"},{"id":8,"name":"æƒ…æ„Ÿ"},{"id":9,"name":"å®¶å±…"},{"id":10,"name":"æ¸¸æˆ"},{"id":11,"name":"æ—…è¡Œ"},{"id":12,"name":"å¥èº«"}]} =================================== 
2025-03-13 21:32:32.887 [http-nio-8086-exec-10] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== åˆ é™¤ ThreadLocalï¼Œ userId: 2100
2025-03-13 21:32:32.949 [http-nio-8086-exec-2] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== è®¾ç½® userId åˆ° ThreadLocal ä¸­ï¼Œ ç”¨æˆ· ID: 2100
2025-03-13 21:32:32.950 [http-nio-8086-exec-2] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== è¯·æ±‚å¼€å§‹: [å‘ç°é¡µ-æŸ¥è¯¢ç¬”è®°åˆ—è¡¨], å…¥å‚: {"channelId":0,"pageNo":1}, è¯·æ±‚ç±»: DiscoverController, è¯·æ±‚æ–¹æ³•: findNoteList =================================== 
2025-03-13 21:32:32.951 [http-nio-8086-exec-2] DEBUG c.q.x.n.b.d.mapper.NoteDOMapper.selectTotalCount - ==>  Preparing: select count(*) from t_note where visible = 0 and status = 1 order by create_time desc
2025-03-13 21:32:32.951 [http-nio-8086-exec-2] DEBUG c.q.x.n.b.d.mapper.NoteDOMapper.selectTotalCount - ==> Parameters: 
2025-03-13 21:32:32.953 [http-nio-8086-exec-2] DEBUG c.q.x.n.b.d.mapper.NoteDOMapper.selectTotalCount - <==      Total: 1
2025-03-13 21:32:32.953 [http-nio-8086-exec-2] DEBUG c.q.x.n.b.d.mapper.NoteDOMapper.selectPageList - ==>  Preparing: select id, title, is_content_empty, creator_id, topic_id, topic_name, is_top, `type`, img_uris, video_uri, visible, create_time, update_time, `status`, content_uuid, channel_id, topic_ids from t_note where visible = 0 and status = 1 order by create_time desc limit ?, ?
2025-03-13 21:32:32.954 [http-nio-8086-exec-2] DEBUG c.q.x.n.b.d.mapper.NoteDOMapper.selectPageList - ==> Parameters: 0(Long), 10(Long)
2025-03-13 21:32:32.956 [http-nio-8086-exec-2] DEBUG c.q.x.n.b.d.mapper.NoteDOMapper.selectPageList - <==      Total: 10
2025-03-13 21:32:32.957 [http-nio-8086-exec-2] INFO  c.q.f.b.c.interceptor.FeignRequestInterceptor - ########## feign è¯·æ±‚è®¾ç½®è¯·æ±‚å¤´ userId: 2100
2025-03-13 21:32:32.974 [http-nio-8086-exec-2] DEBUG c.q.x.n.b.d.m.NoteCountDOMapper.selectByNoteIds - ==>  Preparing: select id, note_id, like_total, collect_total, comment_total from t_note_count where note_id in ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? )
2025-03-13 21:32:32.975 [http-nio-8086-exec-2] DEBUG c.q.x.n.b.d.m.NoteCountDOMapper.selectByNoteIds - ==> Parameters: 1898735824736878673(Long), 1898696866707537987(Long), 1897973570584182824(Long), 1897971103511347234(Long), 1897969581448757248(Long), 1895795420446064640(Long), 1895795185766367284(Long), 1895794954152706064(Long), 1895794402190688291(Long), 1895793960295596052(Long)
2025-03-13 21:32:32.976 [http-nio-8086-exec-2] DEBUG c.q.x.n.b.d.m.NoteCountDOMapper.selectByNoteIds - <==      Total: 8
2025-03-13 21:32:32.977 [http-nio-8086-exec-2] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== è¯·æ±‚ç»“æŸ: [å‘ç°é¡µ-æŸ¥è¯¢ç¬”è®°åˆ—è¡¨], è€—æ—¶: 27ms, å‡ºå‚: {"success":true,"message":null,"errorCode":null,"data":[{"id":"1898735824736878673","type":0,"cover":"http://127.0.0.1:9000/xiaohashu/8111022b12c1415a891b6da66394a074.jpg","videoUri":null,"title":"å·¥ä½œä¸­ä¸è¦æ•£å‘å¼±è€…æ°”æ¯","creatorId":4104,"nickname":"å½­äºæ™","avatar":"http://127.0.0.1:9000/xiaohashu/377d4c26a03c4e3883d93c68f5a9486e.webp","likeTotal":"0"},{"id":"1898696866707537987","type":0,"cover":"http://127.0.0.1:9000/xiaohashu/9f9bbd67edec48cbb30c3656d0fdafac.jpg","videoUri":null,"title":"é‚£æ˜¯æˆ‘ä»¬ç›¸çˆ±è¿‡çš„åŒ—å¹³","creatorId":4103,"nickname":"å´å½¦ç¥–","avatar":"http://127.0.0.1:9000/xiaohashu/4e9be68ae5064474b157b25be4cdf218.webp","likeTotal":"2"},{"id":"1897973570584182824","type":0,"cover":"http://127.0.0.1:9000/xiaohashu/ecd2da6f1d11413190ed1db4f0de71f1.jpg","videoUri":null,"title":"äºŒæˆ˜æ·æ£®","creatorId":4102,"nickname":"èƒ¡è¿é¦¨","avatar":"http://127.0.0.1:9000/xiaohashu/68c6a1d9b541407d809f1d67dc12c222.png","likeTotal":"1"},{"id":"1897971103511347234","type":0,"cover":"http://127.0.0.1:9000/xiaohashu/dd6a068bfeb7417eac01e51eaeb4ea69.jpg","videoUri":null,"title":"æˆ‘è¯»ä¹¦ï¼Œæˆ‘é”»ç‚¼ï¼Œä½†ä¸ºä»€ä¹ˆè¿˜æ˜¯ç©ºè™š","creatorId":4102,"nickname":"èƒ¡è¿é¦¨","avatar":"http://127.0.0.1:9000/xiaohashu/68c6a1d9b541407d809f1d67dc12c222.png","likeTotal":"0"},{"id":"1897969581448757248","type":0,"cover":"http://127.0.0.1:9000/xiaohashu/180000967f5e4aacb866fd34f180f8c9.jpg","videoUri":null,"title":"â¤ï¸â€ğŸ©¹ä¸€æœ¬è¢«æ ‡é¢˜è€½è¯¯çš„ä¹¦","creatorId":4102,"nickname":"èƒ¡è¿é¦¨","avatar":"http://127.0.0.1:9000/xiaohashu/68c6a1d9b541407d809f1d67dc12c222.png","likeTotal":"0"},{"id":"1895795420446064640","type":0,"cover":"http://127.0.0.1:9000/xiaohashu/1099cf1564ee413280dc59d897d20bf9.jpg","videoUri":null,"title":"å®ç°æ°´æœè‡ªç”±ä¸€ä¸‹ï½","creatorId":2100,"nickname":"çŠ¬å°å“ˆ","avatar":"http://127.0.0.1:9000/xiaohashu/827ddaa493c345868bd9b3434d3dbc2d.jpg","likeTotal":"1"},{"id":"1895795185766367284","type":0,"cover":"http://127.0.0.1:9000/xiaohashu/2440e055abeb40fcb26b5d3b3b9c8b58.jpg","videoUri":null,"title":"å‰§è’äº†å§å¦¹ä»¬ æ±‚æ¨èä¸€ä¸ª ååŠ²å¾ˆå¤§å¾ˆå¤§çš„","creatorId":2100,"nickname":"çŠ¬å°å“ˆ","avatar":"http://127.0.0.1:9000/xiaohashu/827ddaa493c345868bd9b3434d3dbc2d.jpg","likeTotal":"1"},{"id":"1895794954152706064","type":0,"cover":"http://127.0.0.1:9000/xiaohashu/b653c29b49fa4a13996180251edf20fb.jpg","videoUri":null,"title":"è¡Œèµ°çš„jellydogï¼å¿«æ¥å›´è§‚å•¦ï¼","creatorId":2100,"nickname":"çŠ¬å°å“ˆ","avatar":"http://127.0.0.1:9000/xiaohashu/827ddaa493c345868bd9b3434d3dbc2d.jpg","likeTotal":"1"},{"id":"1895794402190688291","type":0,"cover":"http://127.0.0.1:9000/xiaohashu/8e6e9c0196eb45e9951671506c191d8e.jpg","videoUri":null,"title":"è¢«50ä¸‡äººå›´è§‚çš„ç”µç«æˆ¿æ¥æŠ„ä½œä¸šå§ï½œé™„æ¸…å•","creatorId":2100,"nickname":"çŠ¬å°å“ˆ","avatar":"http://127.0.0.1:9000/xiaohashu/827ddaa493c345868bd9b3434d3dbc2d.jpg","likeTotal":"1"},{"id":"1895793960295596052","type":0,"cover":"http://127.0.0.1:9000/xiaohashu/a6e34f98250148928098fd8516e39cae.jpg","videoUri":null,"title":"é…¿ç»¿è—å…‰ | ç»¿è‰²æ˜¯ç”Ÿå‘½åŠ›ğŸŒ¿","creatorId":2100,"nickname":"çŠ¬å°å“ˆ","avatar":"http://127.0.0.1:9000/xiaohashu/827ddaa493c345868bd9b3434d3dbc2d.jpg","likeTotal":"1"}],"pageNo":1,"totalCount":18,"pageSize":10,"totalPage":2} =================================== 
2025-03-13 21:32:32.978 [http-nio-8086-exec-2] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== åˆ é™¤ ThreadLocalï¼Œ userId: 2100
2025-03-13 21:33:48.665 [http-nio-8086-exec-7] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== è®¾ç½® userId åˆ° ThreadLocal ä¸­ï¼Œ ç”¨æˆ· ID: 2100
2025-03-13 21:33:48.665 [http-nio-8086-exec-7] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== è¯·æ±‚å¼€å§‹: [å‘ç°é¡µ-æŸ¥è¯¢ç¬”è®°åˆ—è¡¨], å…¥å‚: {"channelId":0,"pageNo":2}, è¯·æ±‚ç±»: DiscoverController, è¯·æ±‚æ–¹æ³•: findNoteList =================================== 
2025-03-13 21:33:48.667 [http-nio-8086-exec-7] DEBUG c.q.x.n.b.d.mapper.NoteDOMapper.selectTotalCount - ==>  Preparing: select count(*) from t_note where visible = 0 and status = 1 order by create_time desc
2025-03-13 21:33:48.668 [http-nio-8086-exec-7] DEBUG c.q.x.n.b.d.mapper.NoteDOMapper.selectTotalCount - ==> Parameters: 
2025-03-13 21:33:48.669 [http-nio-8086-exec-7] DEBUG c.q.x.n.b.d.mapper.NoteDOMapper.selectTotalCount - <==      Total: 1
2025-03-13 21:33:48.669 [http-nio-8086-exec-7] DEBUG c.q.x.n.b.d.mapper.NoteDOMapper.selectPageList - ==>  Preparing: select id, title, is_content_empty, creator_id, topic_id, topic_name, is_top, `type`, img_uris, video_uri, visible, create_time, update_time, `status`, content_uuid, channel_id, topic_ids from t_note where visible = 0 and status = 1 order by create_time desc limit ?, ?
2025-03-13 21:33:48.670 [http-nio-8086-exec-7] DEBUG c.q.x.n.b.d.mapper.NoteDOMapper.selectPageList - ==> Parameters: 10(Long), 10(Long)
2025-03-13 21:33:48.672 [http-nio-8086-exec-7] DEBUG c.q.x.n.b.d.mapper.NoteDOMapper.selectPageList - <==      Total: 8
2025-03-13 21:33:48.672 [http-nio-8086-exec-7] INFO  c.q.f.b.c.interceptor.FeignRequestInterceptor - ########## feign è¯·æ±‚è®¾ç½®è¯·æ±‚å¤´ userId: 2100
2025-03-13 21:33:48.680 [http-nio-8086-exec-7] DEBUG c.q.x.n.b.d.m.NoteCountDOMapper.selectByNoteIds - ==>  Preparing: select id, note_id, like_total, collect_total, comment_total from t_note_count where note_id in ( ? , ? , ? , ? , ? , ? , ? , ? )
2025-03-13 21:33:48.680 [http-nio-8086-exec-7] DEBUG c.q.x.n.b.d.m.NoteCountDOMapper.selectByNoteIds - ==> Parameters: 1895793656292442205(Long), 1895792506252034080(Long), 1895791464059764794(Long), 1895791181581779002(Long), 1895780661764030465(Long), 1895756189493362701(Long), 1895755651829727273(Long), 1895753768780169280(Long)
2025-03-13 21:33:48.682 [http-nio-8086-exec-7] DEBUG c.q.x.n.b.d.m.NoteCountDOMapper.selectByNoteIds - <==      Total: 7
2025-03-13 21:33:48.682 [http-nio-8086-exec-7] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== è¯·æ±‚ç»“æŸ: [å‘ç°é¡µ-æŸ¥è¯¢ç¬”è®°åˆ—è¡¨], è€—æ—¶: 17ms, å‡ºå‚: {"success":true,"message":null,"errorCode":null,"data":[{"id":"1895793656292442205","type":0,"cover":"http://127.0.0.1:9000/xiaohashu/6fb07f936aba4dd89f82a71a1e9e2cde.jpg","videoUri":null,"title":"å­¦åŒ»çš„æ˜¯è¿™æ ·å˜›","creatorId":2100,"nickname":"çŠ¬å°å“ˆ","avatar":"http://127.0.0.1:9000/xiaohashu/827ddaa493c345868bd9b3434d3dbc2d.jpg","likeTotal":"1"},{"id":"1895792506252034080","type":1,"cover":null,"videoUri":"http://127.0.0.1:9000/xiaohashu/c1ab38025e19456a801bb5b960c4362c.mp4","title":"é©¬äº‘ï¼é«˜å…‰æ—¶åˆ»~","creatorId":2100,"nickname":"çŠ¬å°å“ˆ","avatar":"http://127.0.0.1:9000/xiaohashu/827ddaa493c345868bd9b3434d3dbc2d.jpg","likeTotal":"1"},{"id":"1895791464059764794","type":0,"cover":"http://127.0.0.1:9000/xiaohashu/44873053aef34241a761e2e18e57e57b.jpg","videoUri":null,"title":"å¯ä»¥åšæ‰‹æœºå£çº¸","creatorId":2100,"nickname":"çŠ¬å°å“ˆ","avatar":"http://127.0.0.1:9000/xiaohashu/827ddaa493c345868bd9b3434d3dbc2d.jpg","likeTotal":"1"},{"id":"1895791181581779002","type":1,"cover":null,"videoUri":"http://127.0.0.1:9000/xiaohashu/f867ff79c4a24b078f62d3a4ffb23847.mp4","title":"è§†é¢‘æµ‹è¯•","creatorId":2100,"nickname":"çŠ¬å°å“ˆ","avatar":"http://127.0.0.1:9000/xiaohashu/827ddaa493c345868bd9b3434d3dbc2d.jpg","likeTotal":"1"},{"id":"1895780661764030465","type":0,"cover":"http://127.0.0.1:9000/xiaohashu/db44634c731c45c487f5798ec00c6deb.jpg","videoUri":null,"title":"ç¨‹åºå‘˜çš„å·¥ä½œå°ä¸Šæ–°äº†ï¼Œæ´æ´æ¿","creatorId":2100,"nickname":"çŠ¬å°å“ˆ","avatar":"http://127.0.0.1:9000/xiaohashu/827ddaa493c345868bd9b3434d3dbc2d.jpg","likeTotal":"0"},{"id":"1895756189493362701","type":0,"cover":"http://127.0.0.1:9000/xiaohashu/c948a4c1399a46bf873f75192406c50e.jpg","videoUri":null,"title":"æ¶ˆè´¹é™çº§è¿™æ ·å‘ï¼Œå»ç¬‘é¢ ä½ çš„æœ‹å‹åœˆ","creatorId":2100,"nickname":"çŠ¬å°å“ˆ","avatar":"http://127.0.0.1:9000/xiaohashu/827ddaa493c345868bd9b3434d3dbc2d.jpg","likeTotal":"0"},{"id":"1895755651829727273","type":0,"cover":"http://127.0.0.1:9000/xiaohashu/3572b9085c1b46918f988b55077aa15d.jpg","videoUri":null,"title":"å¥½è¿çˆ†æ£šï¼å›½é£ç¥ç¦å£çº¸å¤§èµ","creatorId":2100,"nickname":"çŠ¬å°å“ˆ","avatar":"http://127.0.0.1:9000/xiaohashu/827ddaa493c345868bd9b3434d3dbc2d.jpg","likeTotal":"0"},{"id":"1895753768780169280","type":0,"cover":"http://127.0.0.1:9000/xiaohashu/825bca770ea040d2852ffd3dfc0590d1.jpg","videoUri":null,"title":"åƒä¸€ç›˜ä¼šè®©äººå˜æ¼‚äº®çš„æ°´æœğŸ’ğŸ“ğŸŠğŸ‘","creatorId":2100,"nickname":"çŠ¬å°å“ˆ","avatar":"http://127.0.0.1:9000/xiaohashu/827ddaa493c345868bd9b3434d3dbc2d.jpg","likeTotal":"0"}],"pageNo":2,"totalCount":18,"pageSize":10,"totalPage":2} =================================== 
2025-03-13 21:33:48.683 [http-nio-8086-exec-7] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== åˆ é™¤ ThreadLocalï¼Œ userId: 2100
2025-03-13 21:33:50.608 [http-nio-8086-exec-8] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== è®¾ç½® userId åˆ° ThreadLocal ä¸­ï¼Œ ç”¨æˆ· ID: 2100
2025-03-13 21:33:50.609 [http-nio-8086-exec-8] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== è¯·æ±‚å¼€å§‹: [ç¬”è®°è¯¦æƒ…], å…¥å‚: {"id":1895792506252034080}, è¯·æ±‚ç±»: NoteController, è¯·æ±‚æ–¹æ³•: findNoteDetail =================================== 
2025-03-13 21:33:50.610 [http-nio-8086-exec-8] DEBUG c.q.x.n.b.d.mapper.NoteDOMapper.selectByPrimaryKey - ==>  Preparing: select id, title, is_content_empty, creator_id, topic_id, topic_name, is_top, `type`, img_uris, video_uri, visible, create_time, update_time, `status`, content_uuid, channel_id, topic_ids from t_note where id = ? and status = 1
2025-03-13 21:33:50.611 [http-nio-8086-exec-8] DEBUG c.q.x.n.b.d.mapper.NoteDOMapper.selectByPrimaryKey - ==> Parameters: 1895792506252034080(Long)
2025-03-13 21:33:50.612 [http-nio-8086-exec-8] DEBUG c.q.x.n.b.d.mapper.NoteDOMapper.selectByPrimaryKey - <==      Total: 1
2025-03-13 21:33:50.613 [NoteExecutor-7] INFO  c.q.f.b.c.interceptor.FeignRequestInterceptor - ########## feign è¯·æ±‚è®¾ç½®è¯·æ±‚å¤´ userId: 2100
2025-03-13 21:33:50.613 [NoteExecutor-8] INFO  c.q.f.b.c.interceptor.FeignRequestInterceptor - ########## feign è¯·æ±‚è®¾ç½®è¯·æ±‚å¤´ userId: 2100
2025-03-13 21:33:50.626 [NoteExecutor-8] DEBUG c.q.x.n.b.d.mapper.TopicDOMapper.selectByTopicIdIn - ==>  Preparing: select id, name from t_topic where id in ( ? , ? )
2025-03-13 21:33:50.626 [NoteExecutor-8] DEBUG c.q.x.n.b.d.mapper.TopicDOMapper.selectByTopicIdIn - ==> Parameters: 27(Long), 28(Long)
2025-03-13 21:33:50.627 [NoteExecutor-8] DEBUG c.q.x.n.b.d.mapper.TopicDOMapper.selectByTopicIdIn - <==      Total: 2
2025-03-13 21:33:50.628 [http-nio-8086-exec-8] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== è¯·æ±‚ç»“æŸ: [ç¬”è®°è¯¦æƒ…], è€—æ—¶: 19ms, å‡ºå‚: {"success":true,"message":null,"errorCode":null,"data":{"id":1895792506252034080,"type":1,"title":"é©¬äº‘ï¼é«˜å…‰æ—¶åˆ»~","content":null,"imgUris":null,"topics":[{"id":27,"name":"é«˜å…‰"},{"id":28,"name":"å¥‹æ–—"}],"creatorId":2100,"creatorName":"çŠ¬å°å“ˆ","avatar":"http://127.0.0.1:9000/xiaohashu/827ddaa493c345868bd9b3434d3dbc2d.jpg","videoUri":"http://127.0.0.1:9000/xiaohashu/c1ab38025e19456a801bb5b960c4362c.mp4","updateTime":"2025-03-08","visible":0,"likeTotal":"1","collectTotal":"0","commentTotal":"7"}} =================================== 
2025-03-13 21:33:50.629 [http-nio-8086-exec-8] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== åˆ é™¤ ThreadLocalï¼Œ userId: 2100
2025-03-13 21:33:52.872 [http-nio-8086-exec-9] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== è®¾ç½® userId åˆ° ThreadLocal ä¸­ï¼Œ ç”¨æˆ· ID: 2100
2025-03-13 21:33:52.872 [http-nio-8086-exec-9] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== è¯·æ±‚å¼€å§‹: [ç‚¹èµç¬”è®°], å…¥å‚: {"id":1895792506252034080}, è¯·æ±‚ç±»: NoteController, è¯·æ±‚æ–¹æ³•: likeNote =================================== 
2025-03-13 21:33:52.876 [http-nio-8086-exec-9] WARN  c.q.x.note.biz.exception.GlobalExceptionHandler - /note/like request fail, errorCode: NOTE-20008, errorMessage: æ‚¨å·²ç»ç‚¹èµè¿‡è¯¥ç¬”è®°
2025-03-13 21:33:52.876 [http-nio-8086-exec-9] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== åˆ é™¤ ThreadLocalï¼Œ userId: 2100
2025-03-13 21:33:55.006 [http-nio-8086-exec-5] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== è®¾ç½® userId åˆ° ThreadLocal ä¸­ï¼Œ ç”¨æˆ· ID: 2100
2025-03-13 21:33:55.007 [http-nio-8086-exec-5] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== è¯·æ±‚å¼€å§‹: [ç‚¹èµç¬”è®°], å…¥å‚: {"id":1895792506252034080}, è¯·æ±‚ç±»: NoteController, è¯·æ±‚æ–¹æ³•: likeNote =================================== 
2025-03-13 21:33:55.010 [http-nio-8086-exec-5] WARN  c.q.x.note.biz.exception.GlobalExceptionHandler - /note/like request fail, errorCode: NOTE-20008, errorMessage: æ‚¨å·²ç»ç‚¹èµè¿‡è¯¥ç¬”è®°
2025-03-13 21:33:55.011 [http-nio-8086-exec-5] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== åˆ é™¤ ThreadLocalï¼Œ userId: 2100
2025-03-13 21:33:55.867 [http-nio-8086-exec-1] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== è®¾ç½® userId åˆ° ThreadLocal ä¸­ï¼Œ ç”¨æˆ· ID: 2100
2025-03-13 21:33:55.868 [http-nio-8086-exec-1] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== è¯·æ±‚å¼€å§‹: [ç‚¹èµç¬”è®°], å…¥å‚: {"id":1895792506252034080}, è¯·æ±‚ç±»: NoteController, è¯·æ±‚æ–¹æ³•: likeNote =================================== 
2025-03-13 21:33:55.871 [http-nio-8086-exec-1] WARN  c.q.x.note.biz.exception.GlobalExceptionHandler - /note/like request fail, errorCode: NOTE-20008, errorMessage: æ‚¨å·²ç»ç‚¹èµè¿‡è¯¥ç¬”è®°
2025-03-13 21:33:55.872 [http-nio-8086-exec-1] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== åˆ é™¤ ThreadLocalï¼Œ userId: 2100
2025-03-13 21:33:56.747 [http-nio-8086-exec-4] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== è®¾ç½® userId åˆ° ThreadLocal ä¸­ï¼Œ ç”¨æˆ· ID: 2100
2025-03-13 21:33:56.748 [http-nio-8086-exec-4] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== è¯·æ±‚å¼€å§‹: [ç‚¹èµç¬”è®°], å…¥å‚: {"id":1895792506252034080}, è¯·æ±‚ç±»: NoteController, è¯·æ±‚æ–¹æ³•: likeNote =================================== 
2025-03-13 21:33:56.751 [http-nio-8086-exec-4] WARN  c.q.x.note.biz.exception.GlobalExceptionHandler - /note/like request fail, errorCode: NOTE-20008, errorMessage: æ‚¨å·²ç»ç‚¹èµè¿‡è¯¥ç¬”è®°
2025-03-13 21:33:56.752 [http-nio-8086-exec-4] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== åˆ é™¤ ThreadLocalï¼Œ userId: 2100
2025-03-13 21:34:14.986 [http-nio-8086-exec-3] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== è®¾ç½® userId åˆ° ThreadLocal ä¸­ï¼Œ ç”¨æˆ· ID: 2100
2025-03-13 21:34:14.987 [http-nio-8086-exec-3] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== è¯·æ±‚å¼€å§‹: [ç‚¹èµç¬”è®°], å…¥å‚: {"id":1895792506252034080}, è¯·æ±‚ç±»: NoteController, è¯·æ±‚æ–¹æ³•: likeNote =================================== 
2025-03-13 21:34:14.991 [http-nio-8086-exec-3] WARN  c.q.x.note.biz.exception.GlobalExceptionHandler - /note/like request fail, errorCode: NOTE-20008, errorMessage: æ‚¨å·²ç»ç‚¹èµè¿‡è¯¥ç¬”è®°
2025-03-13 21:34:14.991 [http-nio-8086-exec-3] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== åˆ é™¤ ThreadLocalï¼Œ userId: 2100
2025-03-13 21:34:23.681 [http-nio-8086-exec-10] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== è®¾ç½® userId åˆ° ThreadLocal ä¸­ï¼Œ ç”¨æˆ· ID: 2100
2025-03-13 21:34:23.682 [http-nio-8086-exec-10] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== è¯·æ±‚å¼€å§‹: [ç‚¹èµç¬”è®°], å…¥å‚: {"id":1895792506252034080}, è¯·æ±‚ç±»: NoteController, è¯·æ±‚æ–¹æ³•: likeNote =================================== 
2025-03-13 21:34:23.686 [http-nio-8086-exec-10] WARN  c.q.x.note.biz.exception.GlobalExceptionHandler - /note/like request fail, errorCode: NOTE-20008, errorMessage: æ‚¨å·²ç»ç‚¹èµè¿‡è¯¥ç¬”è®°
2025-03-13 21:34:23.686 [http-nio-8086-exec-10] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== åˆ é™¤ ThreadLocalï¼Œ userId: 2100
2025-03-13 22:04:50.194 [Thread-13] WARN  com.alibaba.nacos.common.notify.NotifyCenter - [NotifyCenter] Start destroying Publisher
2025-03-13 22:04:50.194 [Thread-16] WARN  c.alibaba.nacos.common.http.HttpClientBeanHolder - [HttpClientBeanHolder] Start destroying common HttpClient
2025-03-13 22:04:50.194 [Thread-13] WARN  com.alibaba.nacos.common.notify.NotifyCenter - [NotifyCenter] Destruction of the end
2025-03-13 22:04:50.194 [Thread-16] WARN  c.alibaba.nacos.common.http.HttpClientBeanHolder - [HttpClientBeanHolder] Destruction of the end
2025-03-13 22:04:50.204 [NettyClientSelector_1] INFO  RocketmqRemoting - closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2025-03-13 22:04:50.206 [NettyClientSelector_1] INFO  RocketmqRemoting - closeChannel: close the connection to remote address[172.27.96.1:10911] result: true
2025-03-13 22:04:50.206 [NettyClientSelector_1] INFO  RocketmqRemoting - closeChannel: close the connection to remote address[172.27.96.1:10911] result: true
2025-03-13 22:04:50.206 [NettyClientSelector_1] INFO  RocketmqRemoting - closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2025-03-13 22:04:50.210 [NettyClientSelector_1] INFO  RocketmqRemoting - closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2025-03-13 22:04:50.210 [NettyClientSelector_1] INFO  RocketmqRemoting - closeChannel: close the connection to remote address[172.27.96.1:10911] result: true
2025-03-13 22:04:50.257 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registering from Nacos Server now...
2025-03-13 22:04:50.257 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - [DEREGISTER-SERVICE] xiaohashu deregistering service xiaohashu-note with instance: Instance{instanceId='null', ip='192.168.1.3', port=8086, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={}}
2025-03-13 22:04:50.398 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registration finished.
2025-03-13 22:04:50.398 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown begin
2025-03-13 22:04:50.398 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown begin
2025-03-13 22:04:50.399 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown stop
2025-03-13 22:04:50.399 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown stop
2025-03-13 22:04:50.399 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown begin
2025-03-13 22:04:50.399 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown begin
2025-03-13 22:04:50.399 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown stop
2025-03-13 22:04:50.399 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown begin
2025-03-13 22:04:50.399 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Start destroying NacosRestTemplate
2025-03-13 22:04:50.399 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Destruction of the end
2025-03-13 22:04:50.399 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown stop
2025-03-13 22:04:50.399 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown begin
2025-03-13 22:04:50.399 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Start destroying NacosRestTemplate
2025-03-13 22:04:50.399 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Destruction of the end
2025-03-13 22:04:50.399 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown stop
2025-03-13 22:04:50.399 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown rpc client, set status to shutdown
2025-03-13 22:04:50.399 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown client event executor java.util.concurrent.ScheduledThreadPoolExecutor@405f56b1[Running, pool size = 2, active threads = 2, queued tasks = 0, completed tasks = 0]
2025-03-13 22:04:50.399 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Close current connection 1741872579101_172.17.0.1_38300
2025-03-13 22:04:50.400 [nacos-grpc-client-executor-127.0.0.1-443] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - [1741872579101_172.17.0.1_38300]Ignore complete event,isRunning:false,isAbandon=false
2025-03-13 22:04:50.403 [SpringApplicationShutdownHook] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - Shutdown grpc executor java.util.concurrent.ThreadPoolExecutor@514c9b7d[Running, pool size = 4, active threads = 0, queued tasks = 0, completed tasks = 444]
2025-03-13 22:04:50.403 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - Shutdown grpc redo service executor java.util.concurrent.ScheduledThreadPoolExecutor@572742db[Running, pool size = 1, active threads = 0, queued tasks = 1, completed tasks = 702]
2025-03-13 22:04:50.404 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialWatcher - [null] CredentialWatcher is stopped
2025-03-13 22:04:50.404 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialService - [null] CredentialService is freed
2025-03-13 22:04:50.404 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown stop
2025-03-13 22:04:50.404 [SpringApplicationShutdownHook] INFO  o.a.r.s.support.DefaultRocketMQListenerContainer - container destroyed, DefaultRocketMQListenerContainer{consumerGroup='xiaohashu_group_LikeUnlikeTopic', namespace='', nameServer='127.0.0.1:9876', topic='LikeUnlikeTopic', consumeMode=ORDERLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false, instanceName=DEFAULT}
2025-03-13 22:04:50.404 [SpringApplicationShutdownHook] INFO  o.a.r.s.support.DefaultRocketMQListenerContainer - container destroyed, DefaultRocketMQListenerContainer{consumerGroup='xiaohashu_group_DeleteNoteLocalCacheTopic', namespace='', nameServer='127.0.0.1:9876', topic='DeleteNoteLocalCacheTopic', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=BROADCASTING', tlsEnable=false, instanceName=DEFAULT}
2025-03-13 22:04:50.527 [SpringApplicationShutdownHook] INFO  o.a.r.s.support.DefaultRocketMQListenerContainer - container destroyed, DefaultRocketMQListenerContainer{consumerGroup='xiaohashu_group_CollectUnCollectTopic', namespace='', nameServer='127.0.0.1:9876', topic='CollectUnCollectTopic', consumeMode=ORDERLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING', tlsEnable=false, instanceName=DEFAULT}
2025-03-13 22:04:50.529 [NettyClientSelector_1] INFO  RocketmqRemoting - closeChannel: close the connection to remote address[127.0.0.1:9876] result: true
2025-03-13 22:04:50.529 [NettyClientSelector_1] INFO  RocketmqRemoting - closeChannel: close the connection to remote address[172.27.96.1:10911] result: true
2025-03-13 22:04:50.530 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closing ...
2025-03-13 22:04:50.531 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closed
