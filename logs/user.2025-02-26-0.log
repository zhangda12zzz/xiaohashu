2025-02-26 11:49:58.705 [http-nio-8082-exec-5] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [用户注册], 入参: {"phone":"18019939108"}, 请求类: UserController, 请求方法: register =================================== 
2025-02-26 11:49:58.730 [http-nio-8082-exec-5] DEBUG c.q.x.u.b.domain.mapper.UserDOMapper.selectByPhone - ==>  Preparing: select id, password from t_user where phone = ?
2025-02-26 11:49:58.732 [http-nio-8082-exec-5] DEBUG c.q.x.u.b.domain.mapper.UserDOMapper.selectByPhone - ==> Parameters: 18019939108(String)
2025-02-26 11:49:58.737 [http-nio-8082-exec-5] DEBUG c.q.x.u.b.domain.mapper.UserDOMapper.selectByPhone - <==      Total: 1
2025-02-26 11:49:58.738 [http-nio-8082-exec-5] INFO  c.q.x.user.biz.service.impl.UserServiceImpl - ==> 用户是否注册, phone: 18019939108, userDO: {"id":2100,"xiaohashuId":null,"password":null,"nickname":null,"avatar":null,"birthday":null,"backgroundImg":null,"phone":null,"sex":null,"status":null,"introduction":null,"createTime":null,"updateTime":null,"isDeleted":null}
2025-02-26 11:49:58.739 [http-nio-8082-exec-5] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [用户注册], 耗时: 34ms, 出参: {"success":true,"message":null,"errorCode":null,"data":2100} =================================== 
2025-02-26 12:24:30.619 [http-nio-8082-exec-7] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [用户注册], 入参: {"phone":"18019939108"}, 请求类: UserController, 请求方法: register =================================== 
2025-02-26 12:24:30.630 [http-nio-8082-exec-7] DEBUG c.q.x.u.b.domain.mapper.UserDOMapper.selectByPhone - ==>  Preparing: select id, password from t_user where phone = ?
2025-02-26 12:24:30.630 [http-nio-8082-exec-7] DEBUG c.q.x.u.b.domain.mapper.UserDOMapper.selectByPhone - ==> Parameters: 18019939108(String)
2025-02-26 12:24:30.631 [http-nio-8082-exec-7] DEBUG c.q.x.u.b.domain.mapper.UserDOMapper.selectByPhone - <==      Total: 1
2025-02-26 12:24:30.632 [http-nio-8082-exec-7] INFO  c.q.x.user.biz.service.impl.UserServiceImpl - ==> 用户是否注册, phone: 18019939108, userDO: {"id":2100,"xiaohashuId":null,"password":null,"nickname":null,"avatar":null,"birthday":null,"backgroundImg":null,"phone":null,"sex":null,"status":null,"introduction":null,"createTime":null,"updateTime":null,"isDeleted":null}
2025-02-26 12:24:30.633 [http-nio-8082-exec-7] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [用户注册], 耗时: 14ms, 出参: {"success":true,"message":null,"errorCode":null,"data":2100} =================================== 
2025-02-26 12:24:30.678 [http-nio-8082-exec-8] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 2100
2025-02-26 12:24:30.678 [http-nio-8082-exec-8] DEBUG c.q.x.u.b.d.mapper.UserDOMapper.selectByPrimaryKey - ==>  Preparing: select id, xiaohashu_id, `password`, nickname, avatar, birthday, background_img, phone, sex, `status`, introduction, create_time, update_time, is_deleted from t_user where id = ?
2025-02-26 12:24:30.678 [http-nio-8082-exec-8] DEBUG c.q.x.u.b.d.mapper.UserDOMapper.selectByPrimaryKey - ==> Parameters: 2100(Long)
2025-02-26 12:24:30.681 [http-nio-8082-exec-8] DEBUG c.q.x.u.b.d.mapper.UserDOMapper.selectByPrimaryKey - <==      Total: 1
2025-02-26 12:24:30.682 [http-nio-8082-exec-8] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 2100
2025-02-26 12:26:20.538 [http-nio-8082-exec-1] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [用户注册], 入参: {"phone":"18019939108"}, 请求类: UserController, 请求方法: register =================================== 
2025-02-26 12:26:20.540 [http-nio-8082-exec-1] DEBUG c.q.x.u.b.domain.mapper.UserDOMapper.selectByPhone - ==>  Preparing: select id, password from t_user where phone = ?
2025-02-26 12:26:20.540 [http-nio-8082-exec-1] DEBUG c.q.x.u.b.domain.mapper.UserDOMapper.selectByPhone - ==> Parameters: 18019939108(String)
2025-02-26 12:26:20.541 [http-nio-8082-exec-1] DEBUG c.q.x.u.b.domain.mapper.UserDOMapper.selectByPhone - <==      Total: 1
2025-02-26 12:26:20.542 [http-nio-8082-exec-1] INFO  c.q.x.user.biz.service.impl.UserServiceImpl - ==> 用户是否注册, phone: 18019939108, userDO: {"id":2100,"xiaohashuId":null,"password":null,"nickname":null,"avatar":null,"birthday":null,"backgroundImg":null,"phone":null,"sex":null,"status":null,"introduction":null,"createTime":null,"updateTime":null,"isDeleted":null}
2025-02-26 12:26:20.543 [http-nio-8082-exec-1] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [用户注册], 耗时: 5ms, 出参: {"success":true,"message":null,"errorCode":null,"data":2100} =================================== 
2025-02-26 12:26:20.576 [http-nio-8082-exec-3] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 2100
2025-02-26 12:26:20.576 [http-nio-8082-exec-3] DEBUG c.q.x.u.b.d.mapper.UserDOMapper.selectByPrimaryKey - ==>  Preparing: select id, xiaohashu_id, `password`, nickname, avatar, birthday, background_img, phone, sex, `status`, introduction, create_time, update_time, is_deleted from t_user where id = ?
2025-02-26 12:26:20.577 [http-nio-8082-exec-3] DEBUG c.q.x.u.b.d.mapper.UserDOMapper.selectByPrimaryKey - ==> Parameters: 2100(Long)
2025-02-26 12:26:20.578 [http-nio-8082-exec-3] DEBUG c.q.x.u.b.d.mapper.UserDOMapper.selectByPrimaryKey - <==      Total: 1
2025-02-26 12:26:20.579 [http-nio-8082-exec-3] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 2100
2025-02-26 12:51:19.447 [http-nio-8082-exec-5] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [用户注册], 入参: {"phone":"18019939108"}, 请求类: UserController, 请求方法: register =================================== 
2025-02-26 12:51:19.455 [http-nio-8082-exec-5] DEBUG c.q.x.u.b.domain.mapper.UserDOMapper.selectByPhone - ==>  Preparing: select id, password from t_user where phone = ?
2025-02-26 12:51:19.456 [http-nio-8082-exec-5] DEBUG c.q.x.u.b.domain.mapper.UserDOMapper.selectByPhone - ==> Parameters: 18019939108(String)
2025-02-26 12:51:19.458 [http-nio-8082-exec-5] DEBUG c.q.x.u.b.domain.mapper.UserDOMapper.selectByPhone - <==      Total: 1
2025-02-26 12:51:19.458 [http-nio-8082-exec-5] INFO  c.q.x.user.biz.service.impl.UserServiceImpl - ==> 用户是否注册, phone: 18019939108, userDO: {"id":2100,"xiaohashuId":null,"password":null,"nickname":null,"avatar":null,"birthday":null,"backgroundImg":null,"phone":null,"sex":null,"status":null,"introduction":null,"createTime":null,"updateTime":null,"isDeleted":null}
2025-02-26 12:51:19.459 [http-nio-8082-exec-5] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [用户注册], 耗时: 12ms, 出参: {"success":true,"message":null,"errorCode":null,"data":2100} =================================== 
2025-02-26 12:54:25.742 [http-nio-8082-exec-7] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [用户注册], 入参: {"phone":"18019939108"}, 请求类: UserController, 请求方法: register =================================== 
2025-02-26 12:54:25.744 [http-nio-8082-exec-7] DEBUG c.q.x.u.b.domain.mapper.UserDOMapper.selectByPhone - ==>  Preparing: select id, password from t_user where phone = ?
2025-02-26 12:54:25.744 [http-nio-8082-exec-7] DEBUG c.q.x.u.b.domain.mapper.UserDOMapper.selectByPhone - ==> Parameters: 18019939108(String)
2025-02-26 12:54:25.745 [http-nio-8082-exec-7] DEBUG c.q.x.u.b.domain.mapper.UserDOMapper.selectByPhone - <==      Total: 1
2025-02-26 12:54:25.746 [http-nio-8082-exec-7] INFO  c.q.x.user.biz.service.impl.UserServiceImpl - ==> 用户是否注册, phone: 18019939108, userDO: {"id":2100,"xiaohashuId":null,"password":null,"nickname":null,"avatar":null,"birthday":null,"backgroundImg":null,"phone":null,"sex":null,"status":null,"introduction":null,"createTime":null,"updateTime":null,"isDeleted":null}
2025-02-26 12:54:25.747 [http-nio-8082-exec-7] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [用户注册], 耗时: 5ms, 出参: {"success":true,"message":null,"errorCode":null,"data":2100} =================================== 
2025-02-26 12:58:04.198 [http-nio-8082-exec-9] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [用户注册], 入参: {"phone":"18019939108"}, 请求类: UserController, 请求方法: register =================================== 
2025-02-26 12:58:04.200 [http-nio-8082-exec-9] DEBUG c.q.x.u.b.domain.mapper.UserDOMapper.selectByPhone - ==>  Preparing: select id, password from t_user where phone = ?
2025-02-26 12:58:04.201 [http-nio-8082-exec-9] DEBUG c.q.x.u.b.domain.mapper.UserDOMapper.selectByPhone - ==> Parameters: 18019939108(String)
2025-02-26 12:58:04.202 [http-nio-8082-exec-9] DEBUG c.q.x.u.b.domain.mapper.UserDOMapper.selectByPhone - <==      Total: 1
2025-02-26 12:58:04.202 [http-nio-8082-exec-9] INFO  c.q.x.user.biz.service.impl.UserServiceImpl - ==> 用户是否注册, phone: 18019939108, userDO: {"id":2100,"xiaohashuId":null,"password":null,"nickname":null,"avatar":null,"birthday":null,"backgroundImg":null,"phone":null,"sex":null,"status":null,"introduction":null,"createTime":null,"updateTime":null,"isDeleted":null}
2025-02-26 12:58:04.203 [http-nio-8082-exec-9] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [用户注册], 耗时: 5ms, 出参: {"success":true,"message":null,"errorCode":null,"data":2100} =================================== 
2025-02-26 13:00:39.183 [http-nio-8082-exec-1] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [用户注册], 入参: {"phone":"18019939108"}, 请求类: UserController, 请求方法: register =================================== 
2025-02-26 13:00:39.185 [http-nio-8082-exec-1] DEBUG c.q.x.u.b.domain.mapper.UserDOMapper.selectByPhone - ==>  Preparing: select id, password from t_user where phone = ?
2025-02-26 13:00:39.185 [http-nio-8082-exec-1] DEBUG c.q.x.u.b.domain.mapper.UserDOMapper.selectByPhone - ==> Parameters: 18019939108(String)
2025-02-26 13:00:39.186 [http-nio-8082-exec-1] DEBUG c.q.x.u.b.domain.mapper.UserDOMapper.selectByPhone - <==      Total: 1
2025-02-26 13:00:39.186 [http-nio-8082-exec-1] INFO  c.q.x.user.biz.service.impl.UserServiceImpl - ==> 用户是否注册, phone: 18019939108, userDO: {"id":2100,"xiaohashuId":null,"password":null,"nickname":null,"avatar":null,"birthday":null,"backgroundImg":null,"phone":null,"sex":null,"status":null,"introduction":null,"createTime":null,"updateTime":null,"isDeleted":null}
2025-02-26 13:00:39.187 [http-nio-8082-exec-1] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [用户注册], 耗时: 4ms, 出参: {"success":true,"message":null,"errorCode":null,"data":2100} =================================== 
2025-02-26 13:02:17.806 [http-nio-8082-exec-2] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [用户注册], 入参: {"phone":"18019939108"}, 请求类: UserController, 请求方法: register =================================== 
2025-02-26 13:02:17.808 [http-nio-8082-exec-2] DEBUG c.q.x.u.b.domain.mapper.UserDOMapper.selectByPhone - ==>  Preparing: select id, password from t_user where phone = ?
2025-02-26 13:02:17.810 [http-nio-8082-exec-2] DEBUG c.q.x.u.b.domain.mapper.UserDOMapper.selectByPhone - ==> Parameters: 18019939108(String)
2025-02-26 13:02:17.811 [http-nio-8082-exec-2] DEBUG c.q.x.u.b.domain.mapper.UserDOMapper.selectByPhone - <==      Total: 1
2025-02-26 13:02:17.816 [http-nio-8082-exec-2] INFO  c.q.x.user.biz.service.impl.UserServiceImpl - ==> 用户是否注册, phone: 18019939108, userDO: {"id":2100,"xiaohashuId":null,"password":null,"nickname":null,"avatar":null,"birthday":null,"backgroundImg":null,"phone":null,"sex":null,"status":null,"introduction":null,"createTime":null,"updateTime":null,"isDeleted":null}
2025-02-26 13:02:17.817 [http-nio-8082-exec-2] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [用户注册], 耗时: 11ms, 出参: {"success":true,"message":null,"errorCode":null,"data":2100} =================================== 
2025-02-26 13:06:50.335 [http-nio-8082-exec-5] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [用户注册], 入参: {"phone":"18019939108"}, 请求类: UserController, 请求方法: register =================================== 
2025-02-26 13:06:50.336 [http-nio-8082-exec-5] DEBUG c.q.x.u.b.domain.mapper.UserDOMapper.selectByPhone - ==>  Preparing: select id, password from t_user where phone = ?
2025-02-26 13:06:50.337 [http-nio-8082-exec-5] DEBUG c.q.x.u.b.domain.mapper.UserDOMapper.selectByPhone - ==> Parameters: 18019939108(String)
2025-02-26 13:06:50.338 [http-nio-8082-exec-5] DEBUG c.q.x.u.b.domain.mapper.UserDOMapper.selectByPhone - <==      Total: 1
2025-02-26 13:06:50.338 [http-nio-8082-exec-5] INFO  c.q.x.user.biz.service.impl.UserServiceImpl - ==> 用户是否注册, phone: 18019939108, userDO: {"id":2100,"xiaohashuId":null,"password":null,"nickname":null,"avatar":null,"birthday":null,"backgroundImg":null,"phone":null,"sex":null,"status":null,"introduction":null,"createTime":null,"updateTime":null,"isDeleted":null}
2025-02-26 13:06:50.339 [http-nio-8082-exec-5] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [用户注册], 耗时: 4ms, 出参: {"success":true,"message":null,"errorCode":null,"data":2100} =================================== 
2025-02-26 13:09:37.482 [http-nio-8082-exec-7] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [用户注册], 入参: {"phone":"18019939108"}, 请求类: UserController, 请求方法: register =================================== 
2025-02-26 13:09:37.483 [http-nio-8082-exec-7] DEBUG c.q.x.u.b.domain.mapper.UserDOMapper.selectByPhone - ==>  Preparing: select id, password from t_user where phone = ?
2025-02-26 13:09:37.484 [http-nio-8082-exec-7] DEBUG c.q.x.u.b.domain.mapper.UserDOMapper.selectByPhone - ==> Parameters: 18019939108(String)
2025-02-26 13:09:37.485 [http-nio-8082-exec-7] DEBUG c.q.x.u.b.domain.mapper.UserDOMapper.selectByPhone - <==      Total: 1
2025-02-26 13:09:37.485 [http-nio-8082-exec-7] INFO  c.q.x.user.biz.service.impl.UserServiceImpl - ==> 用户是否注册, phone: 18019939108, userDO: {"id":2100,"xiaohashuId":null,"password":null,"nickname":null,"avatar":null,"birthday":null,"backgroundImg":null,"phone":null,"sex":null,"status":null,"introduction":null,"createTime":null,"updateTime":null,"isDeleted":null}
2025-02-26 13:09:37.486 [http-nio-8082-exec-7] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [用户注册], 耗时: 4ms, 出参: {"success":true,"message":null,"errorCode":null,"data":2100} =================================== 
2025-02-26 13:09:37.523 [http-nio-8082-exec-8] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 2100
2025-02-26 13:09:37.524 [http-nio-8082-exec-8] DEBUG c.q.x.u.b.d.mapper.UserDOMapper.selectByPrimaryKey - ==>  Preparing: select id, xiaohashu_id, `password`, nickname, avatar, birthday, background_img, phone, sex, `status`, introduction, create_time, update_time, is_deleted from t_user where id = ?
2025-02-26 13:09:37.524 [http-nio-8082-exec-8] DEBUG c.q.x.u.b.d.mapper.UserDOMapper.selectByPrimaryKey - ==> Parameters: 2100(Long)
2025-02-26 13:09:37.526 [http-nio-8082-exec-8] DEBUG c.q.x.u.b.d.mapper.UserDOMapper.selectByPrimaryKey - <==      Total: 1
2025-02-26 13:09:37.527 [http-nio-8082-exec-8] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 2100
2025-02-26 13:13:55.304 [http-nio-8082-exec-1] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [用户注册], 入参: {"phone":"18019939108"}, 请求类: UserController, 请求方法: register =================================== 
2025-02-26 13:13:55.305 [http-nio-8082-exec-1] DEBUG c.q.x.u.b.domain.mapper.UserDOMapper.selectByPhone - ==>  Preparing: select id, password from t_user where phone = ?
2025-02-26 13:13:55.305 [http-nio-8082-exec-1] DEBUG c.q.x.u.b.domain.mapper.UserDOMapper.selectByPhone - ==> Parameters: 18019939108(String)
2025-02-26 13:13:55.306 [http-nio-8082-exec-1] DEBUG c.q.x.u.b.domain.mapper.UserDOMapper.selectByPhone - <==      Total: 1
2025-02-26 13:13:55.306 [http-nio-8082-exec-1] INFO  c.q.x.user.biz.service.impl.UserServiceImpl - ==> 用户是否注册, phone: 18019939108, userDO: {"id":2100,"xiaohashuId":null,"password":null,"nickname":null,"avatar":null,"birthday":null,"backgroundImg":null,"phone":null,"sex":null,"status":null,"introduction":null,"createTime":null,"updateTime":null,"isDeleted":null}
2025-02-26 13:13:55.307 [http-nio-8082-exec-1] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [用户注册], 耗时: 3ms, 出参: {"success":true,"message":null,"errorCode":null,"data":2100} =================================== 
2025-02-26 13:13:55.336 [http-nio-8082-exec-3] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 2100
2025-02-26 13:13:55.337 [http-nio-8082-exec-3] DEBUG c.q.x.u.b.d.mapper.UserDOMapper.selectByPrimaryKey - ==>  Preparing: select id, xiaohashu_id, `password`, nickname, avatar, birthday, background_img, phone, sex, `status`, introduction, create_time, update_time, is_deleted from t_user where id = ?
2025-02-26 13:13:55.338 [http-nio-8082-exec-3] DEBUG c.q.x.u.b.d.mapper.UserDOMapper.selectByPrimaryKey - ==> Parameters: 2100(Long)
2025-02-26 13:13:55.339 [http-nio-8082-exec-3] DEBUG c.q.x.u.b.d.mapper.UserDOMapper.selectByPrimaryKey - <==      Total: 1
2025-02-26 13:13:55.339 [http-nio-8082-exec-3] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 2100
2025-02-26 13:14:12.102 [http-nio-8082-exec-2] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [用户注册], 入参: {"phone":"18019939108"}, 请求类: UserController, 请求方法: register =================================== 
2025-02-26 13:14:12.104 [http-nio-8082-exec-2] DEBUG c.q.x.u.b.domain.mapper.UserDOMapper.selectByPhone - ==>  Preparing: select id, password from t_user where phone = ?
2025-02-26 13:14:12.104 [http-nio-8082-exec-2] DEBUG c.q.x.u.b.domain.mapper.UserDOMapper.selectByPhone - ==> Parameters: 18019939108(String)
2025-02-26 13:14:12.105 [http-nio-8082-exec-2] DEBUG c.q.x.u.b.domain.mapper.UserDOMapper.selectByPhone - <==      Total: 1
2025-02-26 13:14:12.105 [http-nio-8082-exec-2] INFO  c.q.x.user.biz.service.impl.UserServiceImpl - ==> 用户是否注册, phone: 18019939108, userDO: {"id":2100,"xiaohashuId":null,"password":null,"nickname":null,"avatar":null,"birthday":null,"backgroundImg":null,"phone":null,"sex":null,"status":null,"introduction":null,"createTime":null,"updateTime":null,"isDeleted":null}
2025-02-26 13:14:12.106 [http-nio-8082-exec-2] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [用户注册], 耗时: 4ms, 出参: {"success":true,"message":null,"errorCode":null,"data":2100} =================================== 
2025-02-26 13:14:12.142 [http-nio-8082-exec-4] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 2100
2025-02-26 13:14:12.142 [http-nio-8082-exec-4] DEBUG c.q.x.u.b.d.mapper.UserDOMapper.selectByPrimaryKey - ==>  Preparing: select id, xiaohashu_id, `password`, nickname, avatar, birthday, background_img, phone, sex, `status`, introduction, create_time, update_time, is_deleted from t_user where id = ?
2025-02-26 13:14:12.143 [http-nio-8082-exec-4] DEBUG c.q.x.u.b.d.mapper.UserDOMapper.selectByPrimaryKey - ==> Parameters: 2100(Long)
2025-02-26 13:14:12.144 [http-nio-8082-exec-4] DEBUG c.q.x.u.b.d.mapper.UserDOMapper.selectByPrimaryKey - <==      Total: 1
2025-02-26 13:14:12.144 [http-nio-8082-exec-4] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 2100
2025-02-26 13:15:58.539 [http-nio-8082-exec-7] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [用户注册], 入参: {"phone":"18019939108"}, 请求类: UserController, 请求方法: register =================================== 
2025-02-26 13:15:58.541 [http-nio-8082-exec-7] DEBUG c.q.x.u.b.domain.mapper.UserDOMapper.selectByPhone - ==>  Preparing: select id, password from t_user where phone = ?
2025-02-26 13:15:58.541 [http-nio-8082-exec-7] DEBUG c.q.x.u.b.domain.mapper.UserDOMapper.selectByPhone - ==> Parameters: 18019939108(String)
2025-02-26 13:15:58.542 [http-nio-8082-exec-7] DEBUG c.q.x.u.b.domain.mapper.UserDOMapper.selectByPhone - <==      Total: 1
2025-02-26 13:15:58.542 [http-nio-8082-exec-7] INFO  c.q.x.user.biz.service.impl.UserServiceImpl - ==> 用户是否注册, phone: 18019939108, userDO: {"id":2100,"xiaohashuId":null,"password":null,"nickname":null,"avatar":null,"birthday":null,"backgroundImg":null,"phone":null,"sex":null,"status":null,"introduction":null,"createTime":null,"updateTime":null,"isDeleted":null}
2025-02-26 13:15:58.543 [http-nio-8082-exec-7] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [用户注册], 耗时: 4ms, 出参: {"success":true,"message":null,"errorCode":null,"data":2100} =================================== 
2025-02-26 13:15:58.586 [http-nio-8082-exec-8] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 2100
2025-02-26 13:15:58.587 [http-nio-8082-exec-8] DEBUG c.q.x.u.b.d.mapper.UserDOMapper.selectByPrimaryKey - ==>  Preparing: select id, xiaohashu_id, `password`, nickname, avatar, birthday, background_img, phone, sex, `status`, introduction, create_time, update_time, is_deleted from t_user where id = ?
2025-02-26 13:15:58.587 [http-nio-8082-exec-8] DEBUG c.q.x.u.b.d.mapper.UserDOMapper.selectByPrimaryKey - ==> Parameters: 2100(Long)
2025-02-26 13:15:58.588 [http-nio-8082-exec-8] DEBUG c.q.x.u.b.d.mapper.UserDOMapper.selectByPrimaryKey - <==      Total: 1
2025-02-26 13:15:58.588 [http-nio-8082-exec-8] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 2100
2025-02-26 16:36:58.901 [http-nio-8082-exec-1] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [用户注册], 入参: {"phone":"18019939108"}, 请求类: UserController, 请求方法: register =================================== 
2025-02-26 16:36:58.935 [http-nio-8082-exec-1] DEBUG c.q.x.u.b.domain.mapper.UserDOMapper.selectByPhone - ==>  Preparing: select id, password from t_user where phone = ?
2025-02-26 16:36:58.939 [http-nio-8082-exec-1] DEBUG c.q.x.u.b.domain.mapper.UserDOMapper.selectByPhone - ==> Parameters: 18019939108(String)
2025-02-26 16:36:58.943 [http-nio-8082-exec-1] DEBUG c.q.x.u.b.domain.mapper.UserDOMapper.selectByPhone - <==      Total: 1
2025-02-26 16:36:58.944 [http-nio-8082-exec-1] INFO  c.q.x.user.biz.service.impl.UserServiceImpl - ==> 用户是否注册, phone: 18019939108, userDO: {"id":2100,"xiaohashuId":null,"password":null,"nickname":null,"avatar":null,"birthday":null,"backgroundImg":null,"phone":null,"sex":null,"status":null,"introduction":null,"createTime":null,"updateTime":null,"isDeleted":null}
2025-02-26 16:36:58.947 [http-nio-8082-exec-1] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [用户注册], 耗时: 47ms, 出参: {"success":true,"message":null,"errorCode":null,"data":2100} =================================== 
2025-02-26 16:36:58.996 [http-nio-8082-exec-3] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 2100
2025-02-26 16:36:59.000 [http-nio-8082-exec-3] DEBUG c.q.x.u.b.d.mapper.UserDOMapper.selectByPrimaryKey - ==>  Preparing: select id, xiaohashu_id, `password`, nickname, avatar, birthday, background_img, phone, sex, `status`, introduction, create_time, update_time, is_deleted from t_user where id = ?
2025-02-26 16:36:59.004 [http-nio-8082-exec-3] DEBUG c.q.x.u.b.d.mapper.UserDOMapper.selectByPrimaryKey - ==> Parameters: 2100(Long)
2025-02-26 16:36:59.015 [http-nio-8082-exec-3] DEBUG c.q.x.u.b.d.mapper.UserDOMapper.selectByPrimaryKey - <==      Total: 1
2025-02-26 16:36:59.018 [http-nio-8082-exec-3] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 2100
2025-02-26 16:48:52.147 [http-nio-8082-exec-6] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 101
2025-02-26 16:48:52.149 [http-nio-8082-exec-6] DEBUG c.q.x.u.b.d.mapper.UserDOMapper.selectByPrimaryKey - ==>  Preparing: select id, xiaohashu_id, `password`, nickname, avatar, birthday, background_img, phone, sex, `status`, introduction, create_time, update_time, is_deleted from t_user where id = ?
2025-02-26 16:48:52.149 [http-nio-8082-exec-6] DEBUG c.q.x.u.b.d.mapper.UserDOMapper.selectByPrimaryKey - ==> Parameters: 101(Long)
2025-02-26 16:48:52.151 [http-nio-8082-exec-6] DEBUG c.q.x.u.b.d.mapper.UserDOMapper.selectByPrimaryKey - <==      Total: 1
2025-02-26 16:48:52.160 [http-nio-8082-exec-6] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 101
2025-02-26 17:01:55.268 [Thread-7] WARN  com.alibaba.nacos.common.notify.NotifyCenter - [NotifyCenter] Start destroying Publisher
2025-02-26 17:01:55.268 [Thread-10] WARN  c.alibaba.nacos.common.http.HttpClientBeanHolder - [HttpClientBeanHolder] Start destroying common HttpClient
2025-02-26 17:01:55.268 [Thread-7] WARN  com.alibaba.nacos.common.notify.NotifyCenter - [NotifyCenter] Destruction of the end
2025-02-26 17:01:55.273 [Thread-10] WARN  c.alibaba.nacos.common.http.HttpClientBeanHolder - [HttpClientBeanHolder] Destruction of the end
2025-02-26 17:01:55.336 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registering from Nacos Server now...
2025-02-26 17:01:55.336 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - [DEREGISTER-SERVICE] xiaohashu deregistering service xiaohashu-user with instance: Instance{instanceId='null', ip='192.168.1.3', port=8082, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={}}
2025-02-26 17:01:55.342 [SpringApplicationShutdownHook] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - De-registration finished.
2025-02-26 17:01:55.343 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown begin
2025-02-26 17:01:55.343 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown begin
2025-02-26 17:01:55.343 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown stop
2025-02-26 17:01:55.343 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown stop
2025-02-26 17:01:55.343 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown begin
2025-02-26 17:01:55.343 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown begin
2025-02-26 17:01:55.344 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown stop
2025-02-26 17:01:55.344 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown begin
2025-02-26 17:01:55.344 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Start destroying NacosRestTemplate
2025-02-26 17:01:55.344 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Destruction of the end
2025-02-26 17:01:55.344 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown stop
2025-02-26 17:01:55.344 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown begin
2025-02-26 17:01:55.344 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Start destroying NacosRestTemplate
2025-02-26 17:01:55.344 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Destruction of the end
2025-02-26 17:01:55.344 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown stop
2025-02-26 17:01:55.344 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown rpc client, set status to shutdown
2025-02-26 17:01:55.345 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown client event executor java.util.concurrent.ScheduledThreadPoolExecutor@721c17fe[Running, pool size = 2, active threads = 2, queued tasks = 0, completed tasks = 0]
2025-02-26 17:01:55.345 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Close current connection 1740476337504_172.17.0.1_39298
2025-02-26 17:01:55.348 [nacos-grpc-client-executor-127.0.0.1-8202] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - [1740476337504_172.17.0.1_39298]Ignore complete event,isRunning:false,isAbandon=false
2025-02-26 17:01:55.354 [SpringApplicationShutdownHook] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - Shutdown grpc executor java.util.concurrent.ThreadPoolExecutor@1ba10a8a[Running, pool size = 4, active threads = 0, queued tasks = 0, completed tasks = 8203]
2025-02-26 17:01:55.355 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - Shutdown grpc redo service executor java.util.concurrent.ScheduledThreadPoolExecutor@65975593[Running, pool size = 1, active threads = 0, queued tasks = 1, completed tasks = 13582]
2025-02-26 17:01:55.355 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialWatcher - [null] CredentialWatcher is stopped
2025-02-26 17:01:55.355 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialService - [null] CredentialService is freed
2025-02-26 17:01:55.355 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown stop
2025-02-26 17:01:55.500 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closing ...
2025-02-26 17:01:55.505 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closed
2025-02-26 17:01:59.234 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-02-26 17:01:59.286 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-02-26 17:01:59.589 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-02-26 17:01:59.597 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-02-26 17:01:59.598 [main] INFO  c.q.xiaohashu.user.biz.XiaohashuUserBizApplication - The following 1 profile is active: "dev"
2025-02-26 17:01:59.984 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-02-26 17:01:59.986 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-02-26 17:02:00.002 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 4 ms. Found 0 Redis repository interfaces.
2025-02-26 17:02:00.132 [main] INFO  o.springframework.cloud.context.scope.GenericScope - BeanFactory id=dabefb7e-55d9-3a47-bc39-6b213c454332
2025-02-26 17:02:00.151 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'com.quanxiaoha.xiaohashu.oss.api.FileFeignApi' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-02-26 17:02:00.152 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'com.quanxiaoha.xiaohashu.user.api.UserFeignApi' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-02-26 17:02:00.153 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'com.quanxiaoha.xiaohashu.distributed.id.generator.api.DistributedIdGeneratorFeignApi' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-02-26 17:02:00.513 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8082 (http)
2025-02-26 17:02:00.520 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-02-26 17:02:00.520 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2025-02-26 17:02:00.574 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-02-26 17:02:00.574 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 967 ms
2025-02-26 17:02:00.649 [main] INFO  c.a.d.s.b.a.DruidDataSourceAutoConfigure - Init DruidDataSource
2025-02-26 17:02:00.846 [main] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} inited
2025-02-26 17:02:01.057 [main] INFO  o.s.cloud.openfeign.FeignClientFactoryBean - For 'xiaohashu-oss' URL not provided. Will try picking an instance via load-balancing.
2025-02-26 17:02:01.271 [main] INFO  o.s.cloud.openfeign.FeignClientFactoryBean - For 'xiaohashu-distributed-id-generator' URL not provided. Will try picking an instance via load-balancing.
2025-02-26 17:02:01.763 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8082 (http) with context path ''
2025-02-26 17:02:01.767 [main] WARN  com.alibaba.nacos.client.logging.NacosLogging - Load Logback Configuration of Nacos fail, message: Could not initialize Logback Nacos logging from classpath:nacos-logback.xml
2025-02-26 17:02:01.767 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ans.namespace attribute : null
2025-02-26 17:02:01.768 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ALIBABA_ALIWARE_NAMESPACE attribute :null
2025-02-26 17:02:01.768 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from namespace attribute :null
2025-02-26 17:02:01.785 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - [settings] [req-serv] nacos-server port:8848
2025-02-26 17:02:01.785 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - [settings] [http-client] connect timeout:1000
2025-02-26 17:02:01.786 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - PER_TASK_CONFIG_SIZE: 3000.0
2025-02-26 17:02:01.788 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2025-02-26 17:02:01.788 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2025-02-26 17:02:01.790 [main] INFO  c.a.n.client.auth.ram.identify.CredentialWatcher - null No credential found
2025-02-26 17:02:01.797 [main] INFO  com.alibaba.nacos.common.remote.client - [RpcClientFactory] create a new rpc client of 6eeb2491-b78d-4c50-91e0-55a4aae69ac4
2025-02-26 17:02:01.810 [main] INFO  com.alibaba.nacos.common.remote.client - [6eeb2491-b78d-4c50-91e0-55a4aae69ac4] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
2025-02-26 17:02:01.810 [main] INFO  com.alibaba.nacos.common.remote.client - [6eeb2491-b78d-4c50-91e0-55a4aae69ac4] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
2025-02-26 17:02:01.810 [main] INFO  com.alibaba.nacos.common.remote.client - [6eeb2491-b78d-4c50-91e0-55a4aae69ac4] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
2025-02-26 17:02:01.811 [main] INFO  com.alibaba.nacos.common.remote.client - [6eeb2491-b78d-4c50-91e0-55a4aae69ac4] Try to connect to server on start up, server: {serverIp = '127.0.0.1', server main port = 8848}
2025-02-26 17:02:01.828 [main] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - grpc client connection server:127.0.0.1 ip,serverPort:9848,grpcTslConfig:{"sslProvider":"OPENSSL","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2025-02-26 17:02:02.492 [main] INFO  com.alibaba.nacos.common.remote.client - [6eeb2491-b78d-4c50-91e0-55a4aae69ac4] Success to connect to server [127.0.0.1:8848] on start up, connectionId = 1740560522332_172.17.0.1_42792
2025-02-26 17:02:02.492 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.common.remote.client - [6eeb2491-b78d-4c50-91e0-55a4aae69ac4] Notify connected event to listeners.
2025-02-26 17:02:02.492 [com.alibaba.nacos.client.remote.worker] INFO  com.alibaba.nacos.client.naming - Grpc connection connect
2025-02-26 17:02:02.492 [main] INFO  com.alibaba.nacos.common.remote.client - [6eeb2491-b78d-4c50-91e0-55a4aae69ac4] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2025-02-26 17:02:02.492 [main] INFO  com.alibaba.nacos.common.remote.client - [6eeb2491-b78d-4c50-91e0-55a4aae69ac4] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$1260/0x000001da79925f90
2025-02-26 17:02:02.493 [main] INFO  com.alibaba.nacos.client.naming - [REGISTER-SERVICE] xiaohashu registering service xiaohashu-user with instance Instance{instanceId='null', ip='192.168.1.3', port=8082, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={IPv6=[240e:b65:56e:2b00:4b38:166:d82c:3df6], preserved.register.source=SPRING_CLOUD}}
2025-02-26 17:02:02.505 [main] INFO  c.a.cloud.nacos.registry.NacosServiceRegistry - nacos registry, DEFAULT_GROUP xiaohashu-user 192.168.1.3:8082 register finished
2025-02-26 17:02:02.587 [main] INFO  c.q.xiaohashu.user.biz.XiaohashuUserBizApplication - Started XiaohashuUserBizApplication in 3.796 seconds (process running for 4.154)
2025-02-26 17:02:02.588 [main] INFO  c.q.x.u.biz.runner.PushRolePermissions2RedisRunner - ==> 服务启动，开始同步角色权限数据到 Redis 中...
2025-02-26 17:02:02.852 [main] DEBUG c.q.x.u.b.d.mapper.RoleDOMapper.selectEnabledList - ==>  Preparing: select id, role_key, role_name from t_role where status = 0 and is_deleted = 0
2025-02-26 17:02:02.965 [main] DEBUG c.q.x.u.b.d.mapper.RoleDOMapper.selectEnabledList - ==> Parameters: 
2025-02-26 17:02:02.978 [main] DEBUG c.q.x.u.b.d.mapper.RoleDOMapper.selectEnabledList - <==      Total: 1
2025-02-26 17:02:02.989 [main] DEBUG c.q.x.u.b.d.m.R.selectByRoleIds - ==>  Preparing: select role_id, permission_id from t_role_permission_rel where role_id in ( ? )
2025-02-26 17:02:02.990 [main] DEBUG c.q.x.u.b.d.m.R.selectByRoleIds - ==> Parameters: 1(Long)
2025-02-26 17:02:02.993 [main] DEBUG c.q.x.u.b.d.m.R.selectByRoleIds - <==      Total: 2
2025-02-26 17:02:02.995 [main] DEBUG c.q.x.u.b.d.m.P.selectAppEnabledList - ==>  Preparing: select id, name, permission_key from t_permission where status = 0 and type = 3 and is_deleted = 0
2025-02-26 17:02:02.996 [main] DEBUG c.q.x.u.b.d.m.P.selectAppEnabledList - ==> Parameters: 
2025-02-26 17:02:02.997 [main] DEBUG c.q.x.u.b.d.m.P.selectAppEnabledList - <==      Total: 3
2025-02-26 17:02:03.007 [main] INFO  c.q.x.u.biz.runner.PushRolePermissions2RedisRunner - ==> 服务启动，成功同步角色权限数据到 Redis 中...
2025-02-26 17:02:21.827 [http-nio-8082-exec-1] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-02-26 17:02:21.827 [http-nio-8082-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-02-26 17:02:21.828 [http-nio-8082-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-02-26 17:02:21.838 [http-nio-8082-exec-1] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 101
2025-02-26 17:02:21.861 [http-nio-8082-exec-1] DEBUG c.q.x.u.b.d.mapper.UserDOMapper.selectByPrimaryKey - ==>  Preparing: select id, xiaohashu_id, `password`, nickname, avatar, birthday, background_img, phone, sex, `status`, introduction, create_time, update_time, is_deleted from t_user where id = ?
2025-02-26 17:02:21.863 [http-nio-8082-exec-1] DEBUG c.q.x.u.b.d.mapper.UserDOMapper.selectByPrimaryKey - ==> Parameters: 101(Long)
2025-02-26 17:02:21.870 [http-nio-8082-exec-1] DEBUG c.q.x.u.b.d.mapper.UserDOMapper.selectByPrimaryKey - <==      Total: 1
2025-02-26 17:02:21.901 [http-nio-8082-exec-1] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 101
2025-02-26 17:03:02.255 [http-nio-8082-exec-2] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [用户注册], 入参: {"phone":"18019939108"}, 请求类: UserController, 请求方法: register =================================== 
2025-02-26 17:03:02.260 [http-nio-8082-exec-2] DEBUG c.q.x.u.b.domain.mapper.UserDOMapper.selectByPhone - ==>  Preparing: select id, password from t_user where phone = ?
2025-02-26 17:03:02.260 [http-nio-8082-exec-2] DEBUG c.q.x.u.b.domain.mapper.UserDOMapper.selectByPhone - ==> Parameters: 18019939108(String)
2025-02-26 17:03:02.262 [http-nio-8082-exec-2] DEBUG c.q.x.u.b.domain.mapper.UserDOMapper.selectByPhone - <==      Total: 1
2025-02-26 17:03:02.263 [http-nio-8082-exec-2] INFO  c.q.x.user.biz.service.impl.UserServiceImpl - ==> 用户是否注册, phone: 18019939108, userDO: {"id":2100,"xiaohashuId":null,"password":null,"nickname":null,"avatar":null,"birthday":null,"backgroundImg":null,"phone":null,"sex":null,"status":null,"introduction":null,"createTime":null,"updateTime":null,"isDeleted":null}
2025-02-26 17:03:02.265 [http-nio-8082-exec-2] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [用户注册], 耗时: 10ms, 出参: {"success":true,"message":null,"errorCode":null,"data":2100} =================================== 
2025-02-26 17:03:02.297 [http-nio-8082-exec-3] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 2100
2025-02-26 17:03:02.297 [http-nio-8082-exec-3] DEBUG c.q.x.u.b.d.mapper.UserDOMapper.selectByPrimaryKey - ==>  Preparing: select id, xiaohashu_id, `password`, nickname, avatar, birthday, background_img, phone, sex, `status`, introduction, create_time, update_time, is_deleted from t_user where id = ?
2025-02-26 17:03:02.297 [http-nio-8082-exec-3] DEBUG c.q.x.u.b.d.mapper.UserDOMapper.selectByPrimaryKey - ==> Parameters: 2100(Long)
2025-02-26 17:03:02.299 [http-nio-8082-exec-3] DEBUG c.q.x.u.b.d.mapper.UserDOMapper.selectByPrimaryKey - <==      Total: 1
2025-02-26 17:03:02.300 [http-nio-8082-exec-3] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 2100
2025-02-26 17:28:04.379 [http-nio-8082-exec-6] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 2100
2025-02-26 17:28:04.423 [http-nio-8082-exec-6] INFO  c.q.f.b.c.interceptor.FeignRequestInterceptor - ########## feign 请求设置请求头 userId: 2100
2025-02-26 17:28:04.472 [http-nio-8082-exec-6] INFO  com.alibaba.nacos.client.naming - [SUBSCRIBE-SERVICE] service:xiaohashu-oss, group:DEFAULT_GROUP, clusters: 
2025-02-26 17:28:04.486 [http-nio-8082-exec-6] INFO  com.alibaba.nacos.client.naming - init new ips(0) service: DEFAULT_GROUP@@xiaohashu-oss -> []
2025-02-26 17:28:04.494 [http-nio-8082-exec-6] INFO  com.alibaba.nacos.client.naming - current ips:(0) service: DEFAULT_GROUP@@xiaohashu-oss -> []
2025-02-26 17:28:04.505 [http-nio-8082-exec-6] WARN  o.s.cloud.loadbalancer.core.RoundRobinLoadBalancer - No servers available for service: xiaohashu-oss
2025-02-26 17:28:04.510 [http-nio-8082-exec-6] WARN  o.s.c.o.l.FeignBlockingLoadBalancerClient - Load balancer does not contain an instance for the service xiaohashu-oss
2025-02-26 17:28:04.519 [http-nio-8082-exec-6] ERROR c.q.x.user.biz.exception.GlobalExceptionHandler - /user/update request error, 
feign.FeignException$ServiceUnavailable: [503] during [POST] to [http://xiaohashu-oss/file/upload] [FileFeignApi#uploadFile(MultipartFile)]: [Load balancer does not contain an instance for the service xiaohashu-oss]
	at feign.FeignException.serverErrorStatus(FeignException.java:265)
	at feign.FeignException.errorStatus(FeignException.java:206)
	at feign.FeignException.errorStatus(FeignException.java:194)
	at feign.FeignException.errorStatus(FeignException.java:171)
	at feign.codec.ErrorDecoder$Default.decode(ErrorDecoder.java:92)
	at feign.ResponseHandler.decodeError(ResponseHandler.java:136)
	at feign.ResponseHandler.handleResponse(ResponseHandler.java:70)
	at feign.SynchronousMethodHandler.executeAndDecode(SynchronousMethodHandler.java:116)
	at feign.SynchronousMethodHandler.invoke(SynchronousMethodHandler.java:72)
	at feign.ReflectiveFeign$FeignInvocationHandler.invoke(ReflectiveFeign.java:98)
	at jdk.proxy2/jdk.proxy2.$Proxy95.uploadFile(Unknown Source)
	at com.quanxiaoha.xiaohashu.user.biz.rpc.OssRpcService.uploadFile(OssRpcService.java:23)
	at com.quanxiaoha.xiaohashu.user.biz.service.impl.UserServiceImpl.updateUserInfo(UserServiceImpl.java:109)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:699)
	at com.quanxiaoha.xiaohashu.user.biz.service.impl.UserServiceImpl$$SpringCGLIB$$0.updateUserInfo(<generated>)
	at com.quanxiaoha.xiaohashu.user.biz.controller.UserController.updateUserInfo(UserController.java:44)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:752)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:752)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703)
	at com.quanxiaoha.xiaohashu.user.biz.controller.UserController$$SpringCGLIB$$0.updateUserInfo(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:207)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:152)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1080)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:973)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:547)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:614)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:223)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at com.quanxiaoha.framework.biz.context.filter.HeaderUserId2ContextFilter.doFilterInternal(HeaderUserId2ContextFilter.java:41)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at com.alibaba.druid.support.jakarta.WebStatFilter.doFilter(WebStatFilter.java:113)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:177)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:119)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:400)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:859)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1734)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:842)
2025-02-26 17:28:04.524 [http-nio-8082-exec-6] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 2100
2025-02-26 17:28:05.010 [nacos-grpc-client-executor-127.0.0.1-333] INFO  com.alibaba.nacos.common.remote.client - [6eeb2491-b78d-4c50-91e0-55a4aae69ac4] Receive server push request, request = NotifySubscriberRequest, requestId = 20
2025-02-26 17:28:05.010 [nacos-grpc-client-executor-127.0.0.1-333] INFO  com.alibaba.nacos.common.remote.client - [6eeb2491-b78d-4c50-91e0-55a4aae69ac4] Ack server push request, request = NotifySubscriberRequest, requestId = 20
2025-02-26 17:28:29.854 [nacos-grpc-client-executor-127.0.0.1-338] INFO  com.alibaba.nacos.common.remote.client - [6eeb2491-b78d-4c50-91e0-55a4aae69ac4] Receive server push request, request = NotifySubscriberRequest, requestId = 21
2025-02-26 17:28:29.855 [nacos-grpc-client-executor-127.0.0.1-338] INFO  com.alibaba.nacos.client.naming - new ips(1) service: DEFAULT_GROUP@@xiaohashu-oss -> [{"ip":"192.168.1.3","port":8081,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@xiaohashu-oss","metadata":{"preserved.register.source":"SPRING_CLOUD","IPv6":"[240e:b65:56e:2b00:4b38:166:d82c:3df6]"},"ipDeleteTimeout":30000,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000}]
2025-02-26 17:28:29.855 [nacos-grpc-client-executor-127.0.0.1-338] INFO  com.alibaba.nacos.client.naming - current ips:(1) service: DEFAULT_GROUP@@xiaohashu-oss -> [{"ip":"192.168.1.3","port":8081,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@xiaohashu-oss","metadata":{"preserved.register.source":"SPRING_CLOUD","IPv6":"[240e:b65:56e:2b00:4b38:166:d82c:3df6]"},"ipDeleteTimeout":30000,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000}]
2025-02-26 17:28:29.855 [nacos-grpc-client-executor-127.0.0.1-338] INFO  com.alibaba.nacos.common.remote.client - [6eeb2491-b78d-4c50-91e0-55a4aae69ac4] Ack server push request, request = NotifySubscriberRequest, requestId = 21
2025-02-26 17:29:09.119 [http-nio-8082-exec-8] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 2100
2025-02-26 17:29:09.122 [http-nio-8082-exec-8] INFO  c.q.f.b.c.interceptor.FeignRequestInterceptor - ########## feign 请求设置请求头 userId: 2100
2025-02-26 17:29:09.267 [http-nio-8082-exec-8] INFO  c.q.x.user.biz.service.impl.UserServiceImpl - ==> 调用 oss 服务成功，上传头像，url：null
2025-02-26 17:29:09.268 [http-nio-8082-exec-8] WARN  c.q.x.user.biz.exception.GlobalExceptionHandler - /user/update request fail, errorCode: USER-20005, errorMessage: 头像上传失败
2025-02-26 17:29:09.268 [http-nio-8082-exec-8] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 2100
2025-02-26 17:29:51.055 [http-nio-8082-exec-9] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 2100
2025-02-26 17:29:51.061 [http-nio-8082-exec-9] INFO  c.q.f.b.c.interceptor.FeignRequestInterceptor - ########## feign 请求设置请求头 userId: 2100
2025-02-26 17:29:51.193 [http-nio-8082-exec-9] INFO  c.q.x.user.biz.service.impl.UserServiceImpl - ==> 调用 oss 服务成功，上传头像，url：http://127.0.0.1:9000/xiaohashu/57d0cd35a27f4b98b9f0f8cbd9ab8672.png
2025-02-26 17:29:51.195 [http-nio-8082-exec-9] WARN  c.q.x.user.biz.exception.GlobalExceptionHandler - /user/update request error, errorCode: USER-10001, errorMessage: 小哈书号请设置6-15个字符，仅可使用英文（必须）、数字、下划线
2025-02-26 17:29:51.196 [http-nio-8082-exec-9] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 2100
2025-02-26 17:29:55.454 [http-nio-8082-exec-10] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 2100
2025-02-26 17:29:55.461 [http-nio-8082-exec-10] INFO  c.q.f.b.c.interceptor.FeignRequestInterceptor - ########## feign 请求设置请求头 userId: 2100
2025-02-26 17:29:55.494 [http-nio-8082-exec-10] INFO  c.q.x.user.biz.service.impl.UserServiceImpl - ==> 调用 oss 服务成功，上传头像，url：http://127.0.0.1:9000/xiaohashu/39fe2ed01af3413cbda97a1eba7ba39e.png
2025-02-26 17:29:55.494 [http-nio-8082-exec-10] WARN  c.q.x.user.biz.exception.GlobalExceptionHandler - /user/update request error, errorCode: USER-10001, errorMessage: 小哈书号请设置6-15个字符，仅可使用英文（必须）、数字、下划线
2025-02-26 17:29:55.496 [http-nio-8082-exec-10] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 2100
2025-02-26 17:29:59.021 [http-nio-8082-exec-1] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 2100
2025-02-26 17:29:59.026 [http-nio-8082-exec-1] INFO  c.q.f.b.c.interceptor.FeignRequestInterceptor - ########## feign 请求设置请求头 userId: 2100
2025-02-26 17:29:59.054 [http-nio-8082-exec-1] INFO  c.q.x.user.biz.service.impl.UserServiceImpl - ==> 调用 oss 服务成功，上传头像，url：http://127.0.0.1:9000/xiaohashu/c9b5e33afcb24cce8745f524985770b5.png
2025-02-26 17:29:59.055 [http-nio-8082-exec-1] WARN  c.q.x.user.biz.exception.GlobalExceptionHandler - /user/update request error, errorCode: USER-10001, errorMessage: 小哈书号请设置6-15个字符，仅可使用英文（必须）、数字、下划线
2025-02-26 17:29:59.056 [http-nio-8082-exec-1] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 2100
2025-02-26 17:30:02.118 [http-nio-8082-exec-2] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 2100
2025-02-26 17:30:02.124 [http-nio-8082-exec-2] INFO  c.q.f.b.c.interceptor.FeignRequestInterceptor - ########## feign 请求设置请求头 userId: 2100
2025-02-26 17:30:02.154 [http-nio-8082-exec-2] INFO  c.q.x.user.biz.service.impl.UserServiceImpl - ==> 调用 oss 服务成功，上传头像，url：http://127.0.0.1:9000/xiaohashu/02d5a19d7f59479da159a9b50e71d984.png
2025-02-26 17:30:02.154 [http-nio-8082-exec-2] WARN  c.q.x.user.biz.exception.GlobalExceptionHandler - /user/update request error, errorCode: USER-10001, errorMessage: 小哈书号请设置6-15个字符，仅可使用英文（必须）、数字、下划线
2025-02-26 17:30:02.155 [http-nio-8082-exec-2] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 2100
2025-02-26 17:35:09.352 [http-nio-8082-exec-4] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 2100
2025-02-26 17:35:09.357 [http-nio-8082-exec-4] WARN  c.q.x.user.biz.exception.GlobalExceptionHandler - /user/update request error, errorCode: USER-10001, errorMessage: 小哈书号请设置6-15个字符，仅可使用英文（必须）、数字、下划线
2025-02-26 17:35:09.358 [http-nio-8082-exec-4] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 2100
2025-02-26 17:37:03.890 [http-nio-8082-exec-6] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 2100
2025-02-26 17:37:03.912 [http-nio-8082-exec-6] DEBUG c.q.x.u.b.d.m.U.updateByPrimaryKeySelective - ==>  Preparing: update t_user SET xiaohashu_id = ?, nickname = ?, birthday = ?, sex = ?, update_time = ? where id = ?
2025-02-26 17:37:03.916 [http-nio-8082-exec-6] DEBUG c.q.x.u.b.d.m.U.updateByPrimaryKeySelective - ==> Parameters: quanxiaoha(String), 小红薯12100(String), 2016-05-12(LocalDate), 0(Integer), 2025-02-26T17:37:03.895404300(LocalDateTime), 2100(Long)
2025-02-26 17:37:03.935 [http-nio-8082-exec-6] DEBUG c.q.x.u.b.d.m.U.updateByPrimaryKeySelective - <==    Updates: 1
2025-02-26 17:37:03.936 [http-nio-8082-exec-6] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 2100
2025-02-26 17:46:09.699 [http-nio-8082-exec-8] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [用户注册], 入参: {"phone":"18019939108"}, 请求类: UserController, 请求方法: register =================================== 
2025-02-26 17:46:09.701 [http-nio-8082-exec-8] DEBUG c.q.x.u.b.domain.mapper.UserDOMapper.selectByPhone - ==>  Preparing: select id, password from t_user where phone = ?
2025-02-26 17:46:09.702 [http-nio-8082-exec-8] DEBUG c.q.x.u.b.domain.mapper.UserDOMapper.selectByPhone - ==> Parameters: 18019939108(String)
2025-02-26 17:46:09.704 [http-nio-8082-exec-8] DEBUG c.q.x.u.b.domain.mapper.UserDOMapper.selectByPhone - <==      Total: 1
2025-02-26 17:46:09.704 [http-nio-8082-exec-8] INFO  c.q.x.user.biz.service.impl.UserServiceImpl - ==> 用户是否注册, phone: 18019939108, userDO: {"id":2100,"xiaohashuId":null,"password":null,"nickname":null,"avatar":null,"birthday":null,"backgroundImg":null,"phone":null,"sex":null,"status":null,"introduction":null,"createTime":null,"updateTime":null,"isDeleted":null}
2025-02-26 17:46:09.706 [http-nio-8082-exec-8] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [用户注册], 耗时: 7ms, 出参: {"success":true,"message":null,"errorCode":null,"data":2100} =================================== 
2025-02-26 17:46:09.744 [http-nio-8082-exec-9] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 2100
2025-02-26 17:46:09.744 [http-nio-8082-exec-9] DEBUG c.q.x.u.b.d.mapper.UserDOMapper.selectByPrimaryKey - ==>  Preparing: select id, xiaohashu_id, `password`, nickname, avatar, birthday, background_img, phone, sex, `status`, introduction, create_time, update_time, is_deleted from t_user where id = ?
2025-02-26 17:46:09.745 [http-nio-8082-exec-9] DEBUG c.q.x.u.b.d.mapper.UserDOMapper.selectByPrimaryKey - ==> Parameters: 2100(Long)
2025-02-26 17:46:09.746 [http-nio-8082-exec-9] DEBUG c.q.x.u.b.d.mapper.UserDOMapper.selectByPrimaryKey - <==      Total: 1
2025-02-26 17:46:09.746 [http-nio-8082-exec-9] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 2100
2025-02-26 17:46:32.708 [http-nio-8082-exec-10] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 2100
2025-02-26 17:46:32.713 [http-nio-8082-exec-10] DEBUG c.q.x.u.b.d.m.U.updateByPrimaryKeySelective - ==>  Preparing: update t_user SET xiaohashu_id = ?, nickname = ?, birthday = ?, sex = ?, update_time = ? where id = ?
2025-02-26 17:46:32.714 [http-nio-8082-exec-10] DEBUG c.q.x.u.b.d.m.U.updateByPrimaryKeySelective - ==> Parameters: quanxiaoha(String), 犬小哈(String), 2016-05-12(LocalDate), 0(Integer), 2025-02-26T17:46:32.713230200(LocalDateTime), 2100(Long)
2025-02-26 17:46:32.722 [http-nio-8082-exec-10] DEBUG c.q.x.u.b.d.m.U.updateByPrimaryKeySelective - <==    Updates: 1
2025-02-26 17:46:32.723 [http-nio-8082-exec-10] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 2100
2025-02-26 17:46:32.744 [http-nio-8082-exec-1] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 2100
2025-02-26 17:46:32.744 [http-nio-8082-exec-1] DEBUG c.q.x.u.b.d.mapper.UserDOMapper.selectByPrimaryKey - ==>  Preparing: select id, xiaohashu_id, `password`, nickname, avatar, birthday, background_img, phone, sex, `status`, introduction, create_time, update_time, is_deleted from t_user where id = ?
2025-02-26 17:46:32.745 [http-nio-8082-exec-1] DEBUG c.q.x.u.b.d.mapper.UserDOMapper.selectByPrimaryKey - ==> Parameters: 2100(Long)
2025-02-26 17:46:32.747 [http-nio-8082-exec-1] DEBUG c.q.x.u.b.d.mapper.UserDOMapper.selectByPrimaryKey - <==      Total: 1
2025-02-26 17:46:32.748 [http-nio-8082-exec-1] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 2100
2025-02-26 17:47:12.235 [http-nio-8082-exec-3] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 2100
2025-02-26 17:47:12.239 [http-nio-8082-exec-3] DEBUG c.q.x.u.b.d.m.U.updateByPrimaryKeySelective - ==>  Preparing: update t_user SET xiaohashu_id = ?, nickname = ?, birthday = ?, sex = ?, update_time = ? where id = ?
2025-02-26 17:47:12.239 [http-nio-8082-exec-3] DEBUG c.q.x.u.b.d.m.U.updateByPrimaryKeySelective - ==> Parameters: quanxiaoha(String), 犬小哈(String), 1991-11-19(LocalDate), 0(Integer), 2025-02-26T17:47:12.239209400(LocalDateTime), 2100(Long)
2025-02-26 17:47:12.248 [http-nio-8082-exec-3] DEBUG c.q.x.u.b.d.m.U.updateByPrimaryKeySelective - <==    Updates: 1
2025-02-26 17:47:12.249 [http-nio-8082-exec-3] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 2100
2025-02-26 17:47:12.294 [http-nio-8082-exec-4] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 2100
2025-02-26 17:47:12.295 [http-nio-8082-exec-4] DEBUG c.q.x.u.b.d.mapper.UserDOMapper.selectByPrimaryKey - ==>  Preparing: select id, xiaohashu_id, `password`, nickname, avatar, birthday, background_img, phone, sex, `status`, introduction, create_time, update_time, is_deleted from t_user where id = ?
2025-02-26 17:47:12.295 [http-nio-8082-exec-4] DEBUG c.q.x.u.b.d.mapper.UserDOMapper.selectByPrimaryKey - ==> Parameters: 2100(Long)
2025-02-26 17:47:12.297 [http-nio-8082-exec-4] DEBUG c.q.x.u.b.d.mapper.UserDOMapper.selectByPrimaryKey - <==      Total: 1
2025-02-26 17:47:12.298 [http-nio-8082-exec-4] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 2100
2025-02-26 17:47:23.273 [http-nio-8082-exec-5] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 2100
2025-02-26 17:47:23.278 [http-nio-8082-exec-5] DEBUG c.q.x.u.b.d.m.U.updateByPrimaryKeySelective - ==>  Preparing: update t_user SET xiaohashu_id = ?, nickname = ?, birthday = ?, sex = ?, update_time = ? where id = ?
2025-02-26 17:47:23.279 [http-nio-8082-exec-5] DEBUG c.q.x.u.b.d.m.U.updateByPrimaryKeySelective - ==> Parameters: quanxiaoha(String), 犬小哈(String), 1991-11-19(LocalDate), 1(Integer), 2025-02-26T17:47:23.278380800(LocalDateTime), 2100(Long)
2025-02-26 17:47:23.287 [http-nio-8082-exec-5] DEBUG c.q.x.u.b.d.m.U.updateByPrimaryKeySelective - <==    Updates: 1
2025-02-26 17:47:23.287 [http-nio-8082-exec-5] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 2100
2025-02-26 17:47:23.316 [http-nio-8082-exec-6] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 2100
2025-02-26 17:47:23.316 [http-nio-8082-exec-6] DEBUG c.q.x.u.b.d.mapper.UserDOMapper.selectByPrimaryKey - ==>  Preparing: select id, xiaohashu_id, `password`, nickname, avatar, birthday, background_img, phone, sex, `status`, introduction, create_time, update_time, is_deleted from t_user where id = ?
2025-02-26 17:47:23.317 [http-nio-8082-exec-6] DEBUG c.q.x.u.b.d.mapper.UserDOMapper.selectByPrimaryKey - ==> Parameters: 2100(Long)
2025-02-26 17:47:23.318 [http-nio-8082-exec-6] DEBUG c.q.x.u.b.d.mapper.UserDOMapper.selectByPrimaryKey - <==      Total: 1
2025-02-26 17:47:23.319 [http-nio-8082-exec-6] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 2100
2025-02-26 17:49:21.785 [http-nio-8082-exec-8] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 2100
2025-02-26 17:49:21.789 [http-nio-8082-exec-8] DEBUG c.q.x.u.b.d.m.U.updateByPrimaryKeySelective - ==>  Preparing: update t_user SET xiaohashu_id = ?, nickname = ?, birthday = ?, sex = ?, introduction = ?, update_time = ? where id = ?
2025-02-26 17:49:21.790 [http-nio-8082-exec-8] DEBUG c.q.x.u.b.d.m.U.updateByPrimaryKeySelective - ==> Parameters: quanxiaoha(String), 犬小哈(String), 1991-11-19(LocalDate), 1(Integer), 天天开心🥳
ins：jessicacaca0831_(String), 2025-02-26T17:49:21.788547100(LocalDateTime), 2100(Long)
2025-02-26 17:49:21.798 [http-nio-8082-exec-8] DEBUG c.q.x.u.b.d.m.U.updateByPrimaryKeySelective - <==    Updates: 1
2025-02-26 17:49:21.799 [http-nio-8082-exec-8] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 2100
2025-02-26 17:49:21.820 [http-nio-8082-exec-9] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 2100
2025-02-26 17:49:21.821 [http-nio-8082-exec-9] DEBUG c.q.x.u.b.d.mapper.UserDOMapper.selectByPrimaryKey - ==>  Preparing: select id, xiaohashu_id, `password`, nickname, avatar, birthday, background_img, phone, sex, `status`, introduction, create_time, update_time, is_deleted from t_user where id = ?
2025-02-26 17:49:21.821 [http-nio-8082-exec-9] DEBUG c.q.x.u.b.d.mapper.UserDOMapper.selectByPrimaryKey - ==> Parameters: 2100(Long)
2025-02-26 17:49:21.823 [http-nio-8082-exec-9] DEBUG c.q.x.u.b.d.mapper.UserDOMapper.selectByPrimaryKey - <==      Total: 1
2025-02-26 17:49:21.823 [http-nio-8082-exec-9] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 2100
2025-02-26 17:50:41.323 [http-nio-8082-exec-1] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 2100
2025-02-26 17:50:41.329 [http-nio-8082-exec-1] INFO  c.q.f.b.c.interceptor.FeignRequestInterceptor - ########## feign 请求设置请求头 userId: 2100
2025-02-26 17:50:41.375 [http-nio-8082-exec-1] INFO  c.q.x.user.biz.service.impl.UserServiceImpl - ==> 调用 oss 服务成功，上传头像，url：http://127.0.0.1:9000/xiaohashu/3893db1bf7294c4ea921ef279db091ae.png
2025-02-26 17:50:41.376 [http-nio-8082-exec-1] DEBUG c.q.x.u.b.d.m.U.updateByPrimaryKeySelective - ==>  Preparing: update t_user SET xiaohashu_id = ?, nickname = ?, avatar = ?, birthday = ?, sex = ?, introduction = ?, update_time = ? where id = ?
2025-02-26 17:50:41.376 [http-nio-8082-exec-1] DEBUG c.q.x.u.b.d.m.U.updateByPrimaryKeySelective - ==> Parameters: quanxiaoha(String), 犬小哈(String), http://127.0.0.1:9000/xiaohashu/3893db1bf7294c4ea921ef279db091ae.png(String), 1991-11-19(LocalDate), 1(Integer), 分享生活
合作：xiarui@mxbrand.net(String), 2025-02-26T17:50:41.375058500(LocalDateTime), 2100(Long)
2025-02-26 17:50:41.384 [http-nio-8082-exec-1] DEBUG c.q.x.u.b.d.m.U.updateByPrimaryKeySelective - <==    Updates: 1
2025-02-26 17:50:41.385 [http-nio-8082-exec-1] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 2100
2025-02-26 17:50:41.395 [http-nio-8082-exec-2] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 2100
2025-02-26 17:50:41.396 [http-nio-8082-exec-2] DEBUG c.q.x.u.b.d.mapper.UserDOMapper.selectByPrimaryKey - ==>  Preparing: select id, xiaohashu_id, `password`, nickname, avatar, birthday, background_img, phone, sex, `status`, introduction, create_time, update_time, is_deleted from t_user where id = ?
2025-02-26 17:50:41.396 [http-nio-8082-exec-2] DEBUG c.q.x.u.b.d.mapper.UserDOMapper.selectByPrimaryKey - ==> Parameters: 2100(Long)
2025-02-26 17:50:41.398 [http-nio-8082-exec-2] DEBUG c.q.x.u.b.d.mapper.UserDOMapper.selectByPrimaryKey - <==      Total: 1
2025-02-26 17:50:41.398 [http-nio-8082-exec-2] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 2100
2025-02-26 17:53:02.063 [http-nio-8082-exec-4] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 2100
2025-02-26 17:53:02.067 [http-nio-8082-exec-4] DEBUG c.q.x.u.b.d.m.U.updateByPrimaryKeySelective - ==>  Preparing: update t_user SET xiaohashu_id = ?, nickname = ?, birthday = ?, sex = ?, introduction = ?, update_time = ? where id = ?
2025-02-26 17:53:02.068 [http-nio-8082-exec-4] DEBUG c.q.x.u.b.d.m.U.updateByPrimaryKeySelective - ==> Parameters: quanxiaoha(String), 犬小哈(String), 1991-11-19(LocalDate), 1(Integer), 分享生活
合作：xiarui@mxbrand.net(String), 2025-02-26T17:53:02.066415800(LocalDateTime), 2100(Long)
2025-02-26 17:53:02.076 [http-nio-8082-exec-4] DEBUG c.q.x.u.b.d.m.U.updateByPrimaryKeySelective - <==    Updates: 1
2025-02-26 17:53:02.076 [http-nio-8082-exec-4] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 2100
2025-02-26 17:53:02.093 [http-nio-8082-exec-5] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 2100
2025-02-26 17:53:02.093 [http-nio-8082-exec-5] DEBUG c.q.x.u.b.d.mapper.UserDOMapper.selectByPrimaryKey - ==>  Preparing: select id, xiaohashu_id, `password`, nickname, avatar, birthday, background_img, phone, sex, `status`, introduction, create_time, update_time, is_deleted from t_user where id = ?
2025-02-26 17:53:02.093 [http-nio-8082-exec-5] DEBUG c.q.x.u.b.d.mapper.UserDOMapper.selectByPrimaryKey - ==> Parameters: 2100(Long)
2025-02-26 17:53:02.094 [http-nio-8082-exec-5] DEBUG c.q.x.u.b.d.mapper.UserDOMapper.selectByPrimaryKey - <==      Total: 1
2025-02-26 17:53:02.095 [http-nio-8082-exec-5] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 2100
2025-02-26 17:54:44.528 [http-nio-8082-exec-7] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 2100
2025-02-26 17:54:44.531 [http-nio-8082-exec-7] DEBUG c.q.x.u.b.d.m.U.updateByPrimaryKeySelective - ==>  Preparing: update t_user SET xiaohashu_id = ?, nickname = ?, birthday = ?, sex = ?, introduction = ?, update_time = ? where id = ?
2025-02-26 17:54:44.532 [http-nio-8082-exec-7] DEBUG c.q.x.u.b.d.m.U.updateByPrimaryKeySelective - ==> Parameters: quanxiaoha(String), 犬小哈sdfdsfsdfdsfdsfdsfdsf(String), 1991-11-19(LocalDate), 1(Integer), 分享生活
合作：xiarui@mxbrand.net(String), 2025-02-26T17:54:44.530301500(LocalDateTime), 2100(Long)
2025-02-26 17:54:44.539 [http-nio-8082-exec-7] DEBUG c.q.x.u.b.d.m.U.updateByPrimaryKeySelective - <==    Updates: 1
2025-02-26 17:54:44.539 [http-nio-8082-exec-7] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 2100
2025-02-26 17:54:44.561 [http-nio-8082-exec-8] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 2100
2025-02-26 17:54:44.562 [http-nio-8082-exec-8] DEBUG c.q.x.u.b.d.mapper.UserDOMapper.selectByPrimaryKey - ==>  Preparing: select id, xiaohashu_id, `password`, nickname, avatar, birthday, background_img, phone, sex, `status`, introduction, create_time, update_time, is_deleted from t_user where id = ?
2025-02-26 17:54:44.562 [http-nio-8082-exec-8] DEBUG c.q.x.u.b.d.mapper.UserDOMapper.selectByPrimaryKey - ==> Parameters: 2100(Long)
2025-02-26 17:54:44.563 [http-nio-8082-exec-8] DEBUG c.q.x.u.b.d.mapper.UserDOMapper.selectByPrimaryKey - <==      Total: 1
2025-02-26 17:54:44.564 [http-nio-8082-exec-8] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 2100
2025-02-26 17:54:55.004 [http-nio-8082-exec-9] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 2100
2025-02-26 17:54:55.008 [http-nio-8082-exec-9] DEBUG c.q.x.u.b.d.m.U.updateByPrimaryKeySelective - ==>  Preparing: update t_user SET xiaohashu_id = ?, nickname = ?, birthday = ?, sex = ?, introduction = ?, update_time = ? where id = ?
2025-02-26 17:54:55.008 [http-nio-8082-exec-9] DEBUG c.q.x.u.b.d.m.U.updateByPrimaryKeySelective - ==> Parameters: quanxiaoha(String), 犬小哈(String), 1991-11-19(LocalDate), 1(Integer), 分享生活
合作：xiarui@mxbrand.net(String), 2025-02-26T17:54:55.007749900(LocalDateTime), 2100(Long)
2025-02-26 17:54:55.015 [http-nio-8082-exec-9] DEBUG c.q.x.u.b.d.m.U.updateByPrimaryKeySelective - <==    Updates: 1
2025-02-26 17:54:55.016 [http-nio-8082-exec-9] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 2100
2025-02-26 17:54:55.044 [http-nio-8082-exec-10] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 2100
2025-02-26 17:54:55.045 [http-nio-8082-exec-10] DEBUG c.q.x.u.b.d.mapper.UserDOMapper.selectByPrimaryKey - ==>  Preparing: select id, xiaohashu_id, `password`, nickname, avatar, birthday, background_img, phone, sex, `status`, introduction, create_time, update_time, is_deleted from t_user where id = ?
2025-02-26 17:54:55.045 [http-nio-8082-exec-10] DEBUG c.q.x.u.b.d.mapper.UserDOMapper.selectByPrimaryKey - ==> Parameters: 2100(Long)
2025-02-26 17:54:55.047 [http-nio-8082-exec-10] DEBUG c.q.x.u.b.d.mapper.UserDOMapper.selectByPrimaryKey - <==      Total: 1
2025-02-26 17:54:55.048 [http-nio-8082-exec-10] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 2100
2025-02-26 17:56:04.281 [http-nio-8082-exec-2] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 2100
2025-02-26 17:56:04.285 [http-nio-8082-exec-2] DEBUG c.q.x.u.b.d.m.U.updateByPrimaryKeySelective - ==>  Preparing: update t_user SET xiaohashu_id = ?, nickname = ?, birthday = ?, sex = ?, introduction = ?, update_time = ? where id = ?
2025-02-26 17:56:04.285 [http-nio-8082-exec-2] DEBUG c.q.x.u.b.d.m.U.updateByPrimaryKeySelective - ==> Parameters: quanxiaohasssss(String), 犬小哈(String), 1991-11-19(LocalDate), 1(Integer), 分享生活
合作：xiarui@mxbrand.net(String), 2025-02-26T17:56:04.284124300(LocalDateTime), 2100(Long)
2025-02-26 17:56:04.296 [http-nio-8082-exec-2] DEBUG c.q.x.u.b.d.m.U.updateByPrimaryKeySelective - <==    Updates: 1
2025-02-26 17:56:04.297 [http-nio-8082-exec-2] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 2100
2025-02-26 17:56:04.314 [http-nio-8082-exec-3] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 2100
2025-02-26 17:56:04.314 [http-nio-8082-exec-3] DEBUG c.q.x.u.b.d.mapper.UserDOMapper.selectByPrimaryKey - ==>  Preparing: select id, xiaohashu_id, `password`, nickname, avatar, birthday, background_img, phone, sex, `status`, introduction, create_time, update_time, is_deleted from t_user where id = ?
2025-02-26 17:56:04.315 [http-nio-8082-exec-3] DEBUG c.q.x.u.b.d.mapper.UserDOMapper.selectByPrimaryKey - ==> Parameters: 2100(Long)
2025-02-26 17:56:04.317 [http-nio-8082-exec-3] DEBUG c.q.x.u.b.d.mapper.UserDOMapper.selectByPrimaryKey - <==      Total: 1
2025-02-26 17:56:04.317 [http-nio-8082-exec-3] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 2100
2025-02-26 17:56:13.895 [http-nio-8082-exec-4] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 2100
2025-02-26 17:56:13.898 [http-nio-8082-exec-4] DEBUG c.q.x.u.b.d.m.U.updateByPrimaryKeySelective - ==>  Preparing: update t_user SET xiaohashu_id = ?, nickname = ?, birthday = ?, sex = ?, introduction = ?, update_time = ? where id = ?
2025-02-26 17:56:13.898 [http-nio-8082-exec-4] DEBUG c.q.x.u.b.d.m.U.updateByPrimaryKeySelective - ==> Parameters: quanxiaoha_java(String), 犬小哈(String), 1991-11-19(LocalDate), 1(Integer), 分享生活
合作：xiarui@mxbrand.net(String), 2025-02-26T17:56:13.897648600(LocalDateTime), 2100(Long)
2025-02-26 17:56:14.062 [http-nio-8082-exec-4] ERROR c.q.x.user.biz.exception.GlobalExceptionHandler - /user/update request error, 
org.springframework.dao.DuplicateKeyException: 
### Error updating database.  Cause: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry 'quanxiaoha_java' for key 't_user.uk_xiaohashu_id'
### The error may exist in file [E:\java_workspace\xiaohashu3\xiaohashu-17.9节\xiaohashu2\xiaohashu-user\xiaohashu-user-biz\target\classes\mapper\UserDOMapper.xml]
### The error may involve com.quanxiaoha.xiaohashu.user.biz.domain.mapper.UserDOMapper.updateByPrimaryKeySelective-Inline
### The error occurred while setting parameters
### SQL: update t_user      SET xiaohashu_id = ?,                              nickname = ?,                              birthday = ?,                                     sex = ?,                              introduction = ?,                              update_time = ?      where id = ?
### Cause: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry 'quanxiaoha_java' for key 't_user.uk_xiaohashu_id'
; Duplicate entry 'quanxiaoha_java' for key 't_user.uk_xiaohashu_id'
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:253)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:92)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:439)
	at jdk.proxy2/jdk.proxy2.$Proxy86.update(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.update(SqlSessionTemplate.java:288)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:67)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:142)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at jdk.proxy2/jdk.proxy2.$Proxy87.updateByPrimaryKeySelective(Unknown Source)
	at com.quanxiaoha.xiaohashu.user.biz.service.impl.UserServiceImpl.updateUserInfo(UserServiceImpl.java:176)
	at jdk.internal.reflect.GeneratedMethodAccessor58.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:699)
	at com.quanxiaoha.xiaohashu.user.biz.service.impl.UserServiceImpl$$SpringCGLIB$$0.updateUserInfo(<generated>)
	at com.quanxiaoha.xiaohashu.user.biz.controller.UserController.updateUserInfo(UserController.java:44)
	at jdk.internal.reflect.GeneratedMethodAccessor26.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:752)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:752)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703)
	at com.quanxiaoha.xiaohashu.user.biz.controller.UserController$$SpringCGLIB$$0.updateUserInfo(<generated>)
	at jdk.internal.reflect.GeneratedMethodAccessor26.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:207)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:152)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1080)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:973)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:547)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:614)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:223)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at com.quanxiaoha.framework.biz.context.filter.HeaderUserId2ContextFilter.doFilterInternal(HeaderUserId2ContextFilter.java:41)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at com.alibaba.druid.support.jakarta.WebStatFilter.doFilter(WebStatFilter.java:113)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:177)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:119)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:400)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:859)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1734)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:842)
Caused by: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry 'quanxiaoha_java' for key 't_user.uk_xiaohashu_id'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:117)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:354)
	at com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:3462)
	at com.alibaba.druid.filter.FilterEventAdapter.preparedStatement_execute(FilterEventAdapter.java:434)
	at com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:3460)
	at com.alibaba.druid.proxy.jdbc.PreparedStatementProxyImpl.execute(PreparedStatementProxyImpl.java:158)
	at com.alibaba.druid.pool.DruidPooledPreparedStatement.execute(DruidPooledPreparedStatement.java:483)
	at jdk.internal.reflect.GeneratedMethodAccessor37.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:58)
	at jdk.proxy3/jdk.proxy3.$Proxy135.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:48)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:75)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:50)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425)
	... 82 common frames omitted
2025-02-26 17:56:14.063 [http-nio-8082-exec-4] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 2100
2025-02-26 17:57:18.842 [http-nio-8082-exec-6] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 2100
2025-02-26 17:57:18.848 [http-nio-8082-exec-6] DEBUG c.q.x.u.b.d.m.U.updateByPrimaryKeySelective - ==>  Preparing: update t_user SET xiaohashu_id = ?, nickname = ?, birthday = ?, sex = ?, introduction = ?, update_time = ? where id = ?
2025-02-26 17:57:18.848 [http-nio-8082-exec-6] DEBUG c.q.x.u.b.d.m.U.updateByPrimaryKeySelective - ==> Parameters: quanxiaoha(String), 犬小哈(String), 1991-11-19(LocalDate), 1(Integer), 分享生活
合作：xiarui@mxbrand.net(String), 2025-02-26T17:57:18.847289300(LocalDateTime), 2100(Long)
2025-02-26 17:57:18.858 [http-nio-8082-exec-6] DEBUG c.q.x.u.b.d.m.U.updateByPrimaryKeySelective - <==    Updates: 1
2025-02-26 17:57:18.859 [http-nio-8082-exec-6] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 2100
2025-02-26 17:57:18.907 [http-nio-8082-exec-7] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 2100
2025-02-26 17:57:18.908 [http-nio-8082-exec-7] DEBUG c.q.x.u.b.d.mapper.UserDOMapper.selectByPrimaryKey - ==>  Preparing: select id, xiaohashu_id, `password`, nickname, avatar, birthday, background_img, phone, sex, `status`, introduction, create_time, update_time, is_deleted from t_user where id = ?
2025-02-26 17:57:18.908 [http-nio-8082-exec-7] DEBUG c.q.x.u.b.d.mapper.UserDOMapper.selectByPrimaryKey - ==> Parameters: 2100(Long)
2025-02-26 17:57:18.909 [http-nio-8082-exec-7] DEBUG c.q.x.u.b.d.mapper.UserDOMapper.selectByPrimaryKey - <==      Total: 1
2025-02-26 17:57:18.910 [http-nio-8082-exec-7] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 2100
2025-02-26 18:43:11.786 [http-nio-8082-exec-9] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求开始: [用户注册], 入参: {"phone":"18019939108"}, 请求类: UserController, 请求方法: register =================================== 
2025-02-26 18:43:11.813 [http-nio-8082-exec-9] DEBUG c.q.x.u.b.domain.mapper.UserDOMapper.selectByPhone - ==>  Preparing: select id, password from t_user where phone = ?
2025-02-26 18:43:11.816 [http-nio-8082-exec-9] DEBUG c.q.x.u.b.domain.mapper.UserDOMapper.selectByPhone - ==> Parameters: 18019939108(String)
2025-02-26 18:43:11.824 [http-nio-8082-exec-9] DEBUG c.q.x.u.b.domain.mapper.UserDOMapper.selectByPhone - <==      Total: 1
2025-02-26 18:43:11.825 [http-nio-8082-exec-9] INFO  c.q.x.user.biz.service.impl.UserServiceImpl - ==> 用户是否注册, phone: 18019939108, userDO: {"id":2100,"xiaohashuId":null,"password":null,"nickname":null,"avatar":null,"birthday":null,"backgroundImg":null,"phone":null,"sex":null,"status":null,"introduction":null,"createTime":null,"updateTime":null,"isDeleted":null}
2025-02-26 18:43:11.827 [http-nio-8082-exec-9] INFO  c.q.f.b.operationlog.aspect.ApiOperationLogAspect - ====== 请求结束: [用户注册], 耗时: 42ms, 出参: {"success":true,"message":null,"errorCode":null,"data":2100} =================================== 
2025-02-26 18:43:11.865 [http-nio-8082-exec-10] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 2100
2025-02-26 18:43:11.866 [http-nio-8082-exec-10] DEBUG c.q.x.u.b.d.mapper.UserDOMapper.selectByPrimaryKey - ==>  Preparing: select id, xiaohashu_id, `password`, nickname, avatar, birthday, background_img, phone, sex, `status`, introduction, create_time, update_time, is_deleted from t_user where id = ?
2025-02-26 18:43:11.867 [http-nio-8082-exec-10] DEBUG c.q.x.u.b.d.mapper.UserDOMapper.selectByPrimaryKey - ==> Parameters: 2100(Long)
2025-02-26 18:43:11.869 [http-nio-8082-exec-10] DEBUG c.q.x.u.b.d.mapper.UserDOMapper.selectByPrimaryKey - <==      Total: 1
2025-02-26 18:43:11.871 [http-nio-8082-exec-10] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 2100
2025-02-26 18:44:02.926 [http-nio-8082-exec-1] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 2100
2025-02-26 18:44:02.940 [http-nio-8082-exec-1] INFO  c.q.f.b.c.interceptor.FeignRequestInterceptor - ########## feign 请求设置请求头 userId: 2100
2025-02-26 18:44:03.013 [http-nio-8082-exec-1] INFO  c.q.x.user.biz.service.impl.UserServiceImpl - ==> 调用 oss 服务成功，上传头像，url：http://127.0.0.1:9000/xiaohashu/df4e8383f193455989229ddd551ed1e9.png
2025-02-26 18:44:03.018 [http-nio-8082-exec-1] DEBUG c.q.x.u.b.d.m.U.updateByPrimaryKeySelective - ==>  Preparing: update t_user SET xiaohashu_id = ?, nickname = ?, avatar = ?, birthday = ?, sex = ?, introduction = ?, update_time = ? where id = ?
2025-02-26 18:44:03.019 [http-nio-8082-exec-1] DEBUG c.q.x.u.b.d.m.U.updateByPrimaryKeySelective - ==> Parameters: quanxiaoha(String), 犬小哈(String), http://127.0.0.1:9000/xiaohashu/df4e8383f193455989229ddd551ed1e9.png(String), 1991-11-19(LocalDate), 1(Integer), 分享生活
合作：xiarui@mxbrand.net(String), 2025-02-26T18:44:03.013234600(LocalDateTime), 2100(Long)
2025-02-26 18:44:03.030 [http-nio-8082-exec-1] DEBUG c.q.x.u.b.d.m.U.updateByPrimaryKeySelective - <==    Updates: 1
2025-02-26 18:44:03.032 [http-nio-8082-exec-1] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 2100
2025-02-26 18:44:03.045 [http-nio-8082-exec-2] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 设置 userId 到 ThreadLocal 中， 用户 ID: 2100
2025-02-26 18:44:03.045 [http-nio-8082-exec-2] DEBUG c.q.x.u.b.d.mapper.UserDOMapper.selectByPrimaryKey - ==>  Preparing: select id, xiaohashu_id, `password`, nickname, avatar, birthday, background_img, phone, sex, `status`, introduction, create_time, update_time, is_deleted from t_user where id = ?
2025-02-26 18:44:03.046 [http-nio-8082-exec-2] DEBUG c.q.x.u.b.d.mapper.UserDOMapper.selectByPrimaryKey - ==> Parameters: 2100(Long)
2025-02-26 18:44:03.047 [http-nio-8082-exec-2] DEBUG c.q.x.u.b.d.mapper.UserDOMapper.selectByPrimaryKey - <==      Total: 1
2025-02-26 18:44:03.048 [http-nio-8082-exec-2] INFO  c.q.f.b.context.filter.HeaderUserId2ContextFilter - ===== 删除 ThreadLocal， userId: 2100
